<!DOCTYPE html>
<html>
<meta  lang="zh-Hans" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color" content="#fff" id="theme-color">
  <link rel="icon" href="/img/logo-starming.png">
  <title>æˆ´é“­çš„åšå®¢</title>
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
    var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
      }
    };
    setDarkmode();
  </script>
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
  </script>
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_vpj3dq9ceqa.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  
  <link rel="preload" href="//cdn.jsdelivr.net/npm/fslightbox@3.1.0/index.min.js" as="script">
  
  
  <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
  
  
  
  
<link rel="stylesheet" href="/css/main.css">

  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_vpj3dq9ceqa.css">

  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">

  
  
  
  
  
  <link href="/js/lib/prism/prism.min.css" rel="stylesheet" data-prism="prism">
  
  
  
<link rel="stylesheet" href="/js/lib/prism/prism-line-numbers.min.css">

  
  
  
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  <div class="wrapper">
    
    <nav class="navbar">
  <div class="navbar-logo">
    <span class="navbar-logo-main">
      
      <img class="navbar-logo-img" src="/img/logo-starming.png">
      
      <span class="navbar-logo-dsc">æˆ´é“­çš„åšå®¢</span>
    </span>
  </div>
  <div class="navbar-menu">
    
    <a href="/" class="navbar-menu-item">Home </a>
    
    <a href="/archives" class="navbar-menu-item">Archive </a>
    
    <a href="/tags" class="navbar-menu-item">Tags </a>
    
    <a href="/categories" class="navbar-menu-item">Categories </a>
    
    <a href="/about" class="navbar-menu-item">About </a>
    
    <a href="" class="navbar-menu-item">Friends </a>
    
    <a class="navbar-menu-item darknavbar" id="dark"><i class="iconfont icon-weather"></i></a>
  </div>
</nav>
    
    <div class="section-wrap">
      <div class="container">
        <div class="columns">
          <main class="main-column">
<div class="image-wrapper">
  <img src="https://user-images.githubusercontent.com/251980/152918704-9522eb27-9304-4788-b4ed-72ffb170e1bc.png" data-src="https://user-images.githubusercontent.com/251980/152918704-9522eb27-9304-4788-b4ed-72ffb170e1bc.png"
    srcset="data:image/svg+xml,%3Csvg%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%20viewBox=&#39;0%200%20300%20300&#39;%3E%3C/svg%3E"
    class="image lozad">
</div>

<article class="card card-content">
  <header>
    <h1 class="post-title">
      æˆ´é“­çš„ Swift å°å†Œå­ 5.0
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2021-11-23T08:28:18.000Z" style="display: flex; align-items: center;">
      <i class="iconfont icon-calendar" style="margin-right: 2px;"></i>
      <span>2021-11-23</span>
    </time>
    
    <span class="dot"></span>
    
    <a href="/categories/Programming/" class="post-meta-link">Programming</a>
    
    
    
    <span class="dot"></span>
    <span>59.6k words</span>
    
  </div>
  
  <div class="post-meta post-show-meta" style="margin-top: -10px;">
    <div style="display: flex; align-items: center;">
      <i class="iconfont icon-biaoqian" style="margin-right: 2px; font-size: 1.15rem;"></i>
      
      
        <a href="/tags/iOS/" class="post-meta-link">iOS</a>
      
      
      <span class="dot"></span>
      
        <a href="/tags/Apple/" class="post-meta-link">Apple</a>
      
      
      <span class="dot"></span>
      
        <a href="/tags/Swift/" class="post-meta-link">Swift</a>
      
    </div>
  </div>
  
  </header>
  <div id="section" class="post-content">
    <p>updateï¼šå†…å®¹å·²æ›´æ–°åˆ° 5.0 ç‰ˆæœ¬ã€‚æ–°å¢ WWDC22 å†…å®¹ã€‚</p>
<blockquote>
<p>æ–°dyldæºç é€å‡ºè¿‘æœŸè‹¹æœå‡ºæ–°ç³»ç»Ÿå¿…ç„¶ï¼Œä¾è‹¹æœ tasteï¼ŒåŠ¿å¿…è¦ç”¨å¥½æŠ€æœ¯æŠ›è½åæŠ€æœ¯ã€‚æ¼«æ¼«é•¿å‡æˆ‘å®Œå–„äº†Swiftæ‰‹å†Œå†…å®¹ï¼Œå­—æ•°è¾¾åˆ°åäº”ä¸‡å­—ï¼Œå†…å®¹å·²å‹ç¼©å‹ç¼©å†å‹ç¼©ï¼Œæ±‚å…¨å­˜ç®€ï¼Œmore big, so small ã€‚æ»¡æ»¡è¯šæ„ï¼Œæœ›æœ‰ç”¨ã€å€¼å¾—æ”¶è—ã€æ±‚è½¬å‘ã€‚</p>
<p>come on and learn (à©­*ËŠáµ•Ë‹)à©­</p>
<p>â€“ æˆ´Â·ä»£ç ä¹‹ä½¿å¾’Â·ç”»ç»ˆç»“è€…Â·è¢«å…‰é€‰ä¸­çš„äººÂ·é“­</p>
</blockquote>
<h2 id="èƒŒæ™¯è¯´æ˜"><a href="#èƒŒæ™¯è¯´æ˜" class="headerlink" title="èƒŒæ™¯è¯´æ˜"></a>èƒŒæ™¯è¯´æ˜</h2><p>è¶Šæ¥è¶Šå¤šåŒå­¦æ‰“ç®—å¼€å§‹ç”¨ Swift æ¥å¼€å‘äº†ï¼Œå¯å¾ˆå¤šäººä»¥å‰éƒ½æ²¡æ¥è§¦è¿‡ Swiftã€‚è¿™ç¯‡å’Œæˆ‘ä»¥å‰æ–‡ç« ä¸åŒçš„æ˜¯ï¼Œæœ¬ç¯‡åªæ˜¯é¢å‘ Swift é›¶åŸºç¡€çš„åŒå­¦ï¼Œå†…å®¹ä¸»è¦æ˜¯ä¸€äº›ç›´æ¥å¯ç”¨çš„å°ä¾‹å­ï¼Œä¾‹å­å¯ä»¥ç›´æ¥åœ¨å·¥ç¨‹ä¸­ç”¨æˆ–è‡ªå·±è°ƒè¯•ç€çœ‹ã€‚</p>
<p>è®°å¾—ä»¥å‰ PHP æœ‰ä¸ª chm çš„æ‰‹å†Œï¼Œå†™çš„å¾ˆç®€å•ï¼Œä½†å¾ˆå…¨ï¼Œæ¯ä¸ªçŸ¥è¯†ç‚¹éƒ½æœ‰ä¾‹å­ï¼Œç¤¾åŒºç‰ˆæ¯ä¸ªçŸ¥è¯†ç‚¹ä¸‹é¢è¿˜æœ‰ç•™è¨€äº’åŠ¨ã€‚å› æ­¤ï¼Œæˆ‘å¼„äº†ä¸ª Swift çš„æ‰‹å†Œï¼Œæ˜¯ä¸ª macOS ç¨‹åºã€‚å»ºè®®ä½¿ç”¨æˆ‘å¼€å‘çš„è¿™ä¸ª macOS ç¨‹åºæ¥æµè§ˆã€‚æºç åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/ming1016/Brochure">ming1016&#x2F;Brochure</a>ï¼Œç›´æ¥ä¸‹è½½ dmg åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/KwaiAppTeam/SwiftPamphletApp/files/9052632/5.0.dmg.zip">æˆ´é“­çš„å°å†Œå­5.0.dmg.zip</a></p>
<p><img src="https://user-images.githubusercontent.com/251980/152918704-9522eb27-9304-4788-b4ed-72ffb170e1bc.png"></p>
<p>è¿™ä¸ªç¨‹åºæ˜¯Swiftå†™çš„ï¼ŒæŒ‰ç…§å£°æ˜å¼UIï¼Œå“åº”å¼ç¼–ç¨‹èŒƒå¼å¼€å‘çš„ï¼Œæºç ä¹Ÿå¯ä»¥çœ‹çœ‹ã€‚ä¸å…¶è®²ä¸€å †ï¼Œä¸å¦‚è°ƒç€è¯•ã€‚</p>
<p>ä¸‹é¢æ˜¯æ–‡æœ¬å†…å®¹ã€‚æ³¨ï¼šä»£ç ä¸­ç®€åŒ–å˜é‡åæ˜¯ä¸ºäº†èƒ½æ›´å¿«é€Ÿå…³æ³¨åˆ°è¯­è¨€ç”¨æ³•ã€‚</p>
<h2 id="è¯­æ³•é€ŸæŸ¥"><a href="#è¯­æ³•é€ŸæŸ¥" class="headerlink" title="è¯­æ³•é€ŸæŸ¥"></a>è¯­æ³•é€ŸæŸ¥</h2><h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><h4 id="å˜é‡-let-var"><a href="#å˜é‡-let-var" class="headerlink" title="å˜é‡ let, var"></a>å˜é‡ let, var</h4><p>å˜é‡æ˜¯å¯å˜çš„ï¼Œä½¿ç”¨ var ä¿®é¥°ï¼Œå¸¸é‡æ˜¯ä¸å¯å˜çš„ï¼Œä½¿ç”¨ let ä¿®é¥°ã€‚ç±»ã€ç»“æ„ä½“å’Œæšä¸¾é‡Œçš„å˜é‡æ˜¯å±æ€§ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> v1<span class="token punctuation">:</span><span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"hi"</span></span> <span class="token comment">// æ ‡æ³¨ç±»å‹</span>
<span class="token keyword">var</span> v2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ç±»å‹æ¨å¯¼"</span></span>
<span class="token keyword">let</span> l1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"æ ‡é¢˜"</span></span> <span class="token comment">// å¸¸é‡</span>

<span class="token keyword">class</span> a <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token number">3</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        p1 <span class="token operator">*</span> <span class="token number">3</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å±æ€§æ²¡æœ‰ set å¯ä»¥çœç•¥ getï¼Œå¦‚æœæœ‰ set éœ€åŠ  getã€‚å˜é‡è®¾ç½®å‰é€šè¿‡ willSet è®¿é—®åˆ°ï¼Œå˜é‡è®¾ç½®åé€šè¿‡ didSet è®¿é—®ã€‚</p>
<h4 id="æ‰“å°-print-â€œâ€"><a href="#æ‰“å°-print-â€œâ€" class="headerlink" title="æ‰“å° print(â€œâ€)"></a>æ‰“å° print(â€œâ€)</h4><p>æ§åˆ¶å°æ‰“å°å€¼</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">14</span>
<span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"9æœˆ</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">æ˜¯å°æŸ æª¬çš„ç”Ÿæ—¥"</span></span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">3</span><span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// output:</span>
<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
<span class="token comment">// 3</span>

<span class="token comment">// ä½¿ç”¨terminatorä½¿å¾ªç¯æ‰“å°æ›´æ•´æ´</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">3</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> "</span></span><span class="token punctuation">,</span> terminator<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// output:</span>
<span class="token comment">// 1 2 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="æ³¨é‡Š-x2F-x2F"><a href="#æ³¨é‡Š-x2F-x2F" class="headerlink" title="æ³¨é‡Š &#x2F;&#x2F;"></a>æ³¨é‡Š &#x2F;&#x2F;</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å•è¡Œæ³¨é‡Š</span>
<span class="token comment">/*
å¤šè¡Œæ³¨é‡Šç¬¬ä¸€è¡Œã€‚
å¤šè¡Œæ³¨é‡Šç¬¬äºŒè¡Œã€‚
*/</span> 
<span class="token comment">// MARK: ä¼šåœ¨ minimap ä¸Šå±•ç¤º</span>
<span class="token comment">// TODO: å¾…åš</span>
<span class="token comment">// FIXME: å¾…ä¿®å¤</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="å¯é€‰"><a href="#å¯é€‰" class="headerlink" title="å¯é€‰ ?, !"></a>å¯é€‰ ?, !</h4><p>å¯èƒ½ä¼šæ˜¯ nil çš„å˜é‡å°±æ˜¯å¯é€‰å˜é‡ã€‚å½“å˜é‡ä¸º nil é€šè¿‡??æ“ä½œç¬¦å¯ä»¥æä¾›ä¸€ä¸ªé»˜è®¤å€¼ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> o<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token nil constant">nil</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> o <span class="token operator">??</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>


<h4 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h4><p>é—­åŒ…ä¹Ÿå¯ä»¥å«åš lambdaï¼Œæ˜¯åŒ¿åå‡½æ•°ï¼Œå¯¹åº” OC çš„ blockã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">(</span>l<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> r<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Bool</span> <span class="token keyword">in</span>
    <span class="token keyword">return</span> l <span class="token operator">&lt;</span> r
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token comment">// å¦‚æœé—­åŒ…æ˜¯å”¯ä¸€çš„å‚æ•°å¹¶åœ¨è¡¨è¾¾å¼æœ€åå¯ä»¥ä½¿ç”¨ç»“å°¾é—­åŒ…è¯­æ³•ï¼Œå†™æ³•ç®€åŒ–ä¸º</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sorted <span class="token punctuation">&#123;</span> <span class="token punctuation">(</span>l<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> r<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Bool</span> <span class="token keyword">in</span>
    <span class="token keyword">return</span> l <span class="token operator">&lt;</span> r
<span class="token punctuation">&#125;</span>
<span class="token comment">// å·²çŸ¥ç±»å‹å¯ä»¥çœç•¥</span>
<span class="token keyword">let</span> a3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sorted <span class="token punctuation">&#123;</span> l<span class="token punctuation">,</span> r <span class="token keyword">in</span>
    <span class="token keyword">return</span> l <span class="token operator">&lt;</span> r
<span class="token punctuation">&#125;</span>
<span class="token comment">// é€šè¿‡ä½ç½®æ¥ä½¿ç”¨é—­åŒ…çš„å‚æ•°ï¼Œæœ€åç®€åŒ–å¦‚ä¸‹ï¼š</span>
<span class="token keyword">let</span> a4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sorted <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span> <span class="token operator">&lt;</span> <span class="token short-argument">$1</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‡½æ•°ä¹Ÿæ˜¯é—­åŒ…çš„ä¸€ç§ï¼Œå‡½æ•°çš„å‚æ•°ä¹Ÿå¯ä»¥æ˜¯é—­åŒ…ã€‚@escaping è¡¨ç¤ºé€ƒé€¸é—­åŒ…ï¼Œé€ƒé€¸é—­åŒ…æ˜¯å¯ä»¥åœ¨å‡½æ•°è¿”å›ä¹‹åç»§ç»­è°ƒç”¨çš„ã€‚@autoclosure è¡¨ç¤ºè‡ªåŠ¨é—­åŒ…ï¼Œå¯ä»¥ç”¨æ¥çœç•¥èŠ±æ‹¬å·ã€‚</p>
<h4 id="å‡½æ•°-func"><a href="#å‡½æ•°-func" class="headerlink" title="å‡½æ•° func"></a>å‡½æ•° func</h4><p>å‡½æ•°å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›ã€‚å‡½æ•°æ˜¯ç‰¹æ®Šçš„é—­åŒ…ï¼Œåœ¨ç±»ã€ç»“æ„ä½“å’Œæšä¸¾ä¸­æ˜¯æ–¹æ³•ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// ä¸ºå‚æ•°è®¾ç½®é»˜è®¤å€¼</span>
<span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"p"</span></span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token string-literal"><span class="token string">"p is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// å‡½æ•°ä½œä¸ºå‚æ•°</span>
<span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>fn<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span><span class="token punctuation">,</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f2</span><span class="token punctuation">(</span>fn<span class="token punctuation">:</span>f1<span class="token punctuation">,</span> p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"d"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// p is d</span>

<span class="token comment">// å‡½æ•°ä½œä¸ºè¿”å›å€¼</span>
<span class="token keyword">func</span> <span class="token function-definition function">f3</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> f1
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f3</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"yes"</span></span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"no"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// p is no</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼Œå‡½æ•°æ˜¯å¯ä»¥åµŒå¥—çš„ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°é‡Œå†…å¯ä»¥å®šä¹‰å‡½æ•°ï¼Œå‡½æ•°å†…å®šä¹‰çš„å‡½æ•°å¯ä»¥è®¿é—®è‡ªå·±ä½œç”¨åŸŸå¤–å‡½æ•°å†…çš„å˜é‡ã€‚inout è¡¨ç¤ºçš„æ˜¯è¾“å…¥è¾“å‡ºå‚æ•°ï¼Œå‡½æ•°å¯ä»¥åœ¨å‡½æ•°å†…æ”¹å˜è¾“å…¥è¾“å‡ºå‚æ•°ã€‚defer æ ‡è¯†çš„ä»£ç å—ä¼šåœ¨å‡½æ•°è¿”å›ä¹‹å‰æ‰§è¡Œã€‚</p>
<p>å‡½æ•°åœ¨ Swift 5.4 æ—¶å¼€å§‹æœ‰äº†ä½¿ç”¨å¤šä¸ªå˜é‡å‚æ•°çš„èƒ½åŠ›ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">f4</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">...</span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">f4</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment">/// ["one", "two", "three"]</span>
<span class="token comment">/// [1, 2, 3]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åµŒå¥—å‡½æ•°å¯ä»¥é‡è½½ï¼ŒåµŒå¥—å‡½æ•°å¯ä»¥åœ¨å£°æ˜å‡½æ•°ä¹‹å‰è°ƒç”¨ä»–ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">f5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">nf5</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">func</span> <span class="token function-definition function">nf5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"this is nested function"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">f5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// this is nested function</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="è®¿é—®æ§åˆ¶"><a href="#è®¿é—®æ§åˆ¶" class="headerlink" title="è®¿é—®æ§åˆ¶"></a>è®¿é—®æ§åˆ¶</h4><p>åœ¨ Xcode é‡Œçš„ target å°±æ˜¯æ¨¡å—ï¼Œä½¿ç”¨ import å¯å¯¼å…¥æ¨¡å—ã€‚æ¨¡å—å†…åŒ…å«æºæ–‡ä»¶ï¼Œæ¯ä¸ªæºæ–‡ä»¶é‡Œå¯ä»¥æœ‰å¤šä¸ªç±»ã€ç»“æ„ä½“ã€æšä¸¾å’Œå‡½æ•°ç­‰å¤šç§ç±»å‹ã€‚è®¿é—®çº§åˆ«å¯ä»¥é€šè¿‡ä¸€äº›å…³é”®å­—æè¿°ï¼Œåˆ†ä¸ºå¦‚ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>openï¼šåœ¨æ¨¡å—å¤–å¯ä»¥è°ƒç”¨å’Œç»§æ‰¿ã€‚</li>
<li>publicï¼šåœ¨æ¨¡å—å¤–å¯è°ƒç”¨ä¸å¯ç»§æ‰¿ï¼Œopen åªé€‚ç”¨ç±»å’Œç±»æˆå‘˜ã€‚</li>
<li>internalï¼šé»˜è®¤çº§åˆ«ï¼Œæ¨¡å—å†…å¯è·¨æºæ–‡ä»¶è°ƒç”¨ï¼Œæ¨¡å—å¤–ä¸å¯è°ƒç”¨ã€‚</li>
<li>fileprivateï¼šåªèƒ½åœ¨æºæ–‡ä»¶å†…è®¿é—®ã€‚</li>
<li>privateï¼šåªèƒ½åœ¨æ‰€åœ¨çš„ä½œç”¨åŸŸå†…è®¿é—®ã€‚</li>
</ul>
<p>é‡å†™ç»§æ‰¿ç±»çš„æˆå‘˜ï¼Œå¯ä»¥è®¾ç½®æˆå‘˜æ¯”çˆ¶ç±»çš„è¿™ä¸ªæˆå‘˜æ›´é«˜çš„è®¿é—®çº§åˆ«ã€‚Setter çš„çº§åˆ«å¯ä»¥ä½äºå¯¹åº”çš„ Getter çš„çº§åˆ«ï¼Œæ¯”å¦‚è®¾ç½® Setter è®¿é—®çº§åˆ«ä¸º privateï¼Œå¯ä»¥åœ¨å±æ€§ä½¿ç”¨ private(set) æ¥ä¿®é¥°ã€‚</p>
<h3 id="åŸºç¡€ç±»å‹"><a href="#åŸºç¡€ç±»å‹" class="headerlink" title="åŸºç¡€ç±»å‹"></a>åŸºç¡€ç±»å‹</h3><h4 id="æ•°å­—-Int-Float"><a href="#æ•°å­—-Int-Float" class="headerlink" title="æ•°å­— Int, Float"></a>æ•°å­— Int, Float</h4><p>æ•°å­—çš„ç±»å‹æœ‰ Intã€Float å’Œ Double</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// Int</span>
<span class="token keyword">let</span> i1 <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">let</span> i2 <span class="token operator">=</span> <span class="token number">22</span>
<span class="token function">print</span><span class="token punctuation">(</span>i1 <span class="token operator">/</span> i2<span class="token punctuation">)</span> <span class="token comment">// å‘ä¸‹å–æ•´å¾— 4</span>

<span class="token comment">// Float</span>
<span class="token keyword">let</span> f1<span class="token punctuation">:</span> <span class="token class-name">Float</span> <span class="token operator">=</span> <span class="token number">100.0</span>
<span class="token keyword">let</span> f2<span class="token punctuation">:</span> <span class="token class-name">Float</span> <span class="token operator">=</span> <span class="token number">22.0</span>
<span class="token function">print</span><span class="token punctuation">(</span>f1 <span class="token operator">/</span> f2<span class="token punctuation">)</span> <span class="token comment">// 4.5454545</span>

<span class="token keyword">let</span> f3<span class="token punctuation">:</span> <span class="token class-name">Float16</span> <span class="token operator">=</span> <span class="token number">5.0</span> <span class="token comment">// macOS è¿˜ä¸èƒ½ç”¨</span>
<span class="token keyword">let</span> f4<span class="token punctuation">:</span> <span class="token class-name">Float32</span> <span class="token operator">=</span> <span class="token number">5.0</span>
<span class="token keyword">let</span> f5<span class="token punctuation">:</span> <span class="token class-name">Float64</span> <span class="token operator">=</span> <span class="token number">5.0</span>
<span class="token keyword">let</span> f6<span class="token punctuation">:</span> <span class="token class-name">Float80</span> <span class="token operator">=</span> <span class="token number">5.0</span>
<span class="token function">print</span><span class="token punctuation">(</span>f4<span class="token punctuation">,</span> f5<span class="token punctuation">,</span> f6<span class="token punctuation">)</span> <span class="token comment">// 5.0 5.0 5.0</span>

<span class="token comment">// Double</span>
<span class="token keyword">let</span> d1<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">100.0</span>
<span class="token keyword">let</span> d2<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">22.0</span>
<span class="token function">print</span><span class="token punctuation">(</span>d1 <span class="token operator">/</span> d2<span class="token punctuation">)</span> <span class="token comment">// 4.545454545454546</span>

<span class="token comment">// å­—é¢é‡</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">(</span><span class="token number">0b10101</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0b å¼€å¤´æ˜¯äºŒè¿›åˆ¶ </span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">(</span><span class="token number">0x00afff</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0x å¼€å¤´æ˜¯åå…­è¿›åˆ¶</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">2.5e4</span><span class="token punctuation">)</span> <span class="token comment">// 2.5x10^4 åè¿›åˆ¶ç”¨ e</span>
<span class="token function">print</span><span class="token punctuation">(</span>0xAp2<span class="token punctuation">)</span> <span class="token comment">// 10*2^2  åå…­è¿›åˆ¶ç”¨ p</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">2_000_000</span><span class="token punctuation">)</span> <span class="token comment">// 2000000</span>

<span class="token comment">// isMultiple(of:) æ–¹æ³•æ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¦æ˜¯å¦ä¸€ä¸ªæ•°å­—çš„å€æ•°</span>
<span class="token keyword">let</span> i3 <span class="token operator">=</span> <span class="token number">36</span>
<span class="token function">print</span><span class="token punctuation">(</span>i3<span class="token punctuation">.</span><span class="token function">isMultiple</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¤„ç†æ•°å­—æœ‰ floorã€ceilã€roundã€‚floor æ˜¯å‘ä¸‹å–æ•´ï¼Œåªå–æ•´æ•°éƒ¨åˆ†ï¼›cell æ˜¯å‘ä¸Šå–æ•´ï¼Œåªè¦æœ‰ä¸ä¸ºé›¶çš„å°æ•°ï¼Œæ•´æ•°å°±åŠ 1;round æ˜¯å››èˆäº”å…¥ã€‚       </p>
<h4 id="å¸ƒå°”æ•°-Bool"><a href="#å¸ƒå°”æ•°-Bool" class="headerlink" title="å¸ƒå°”æ•° Bool"></a>å¸ƒå°”æ•° Bool</h4><p>å¸ƒå°”æ•°æœ‰ true å’Œ false ä¸¤ç§å€¼ï¼Œè¿˜æœ‰ä¸€ä¸ªèƒ½å¤Ÿåˆ‡æ¢è¿™ä¸¤ä¸ªå€¼çš„ toggle æ–¹æ³•ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token boolean">false</span>
b<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
b<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>


<h4 id="å…ƒç»„-a-b-c"><a href="#å…ƒç»„-a-b-c" class="headerlink" title="å…ƒç»„ (a, b, c)"></a>å…ƒç»„ (a, b, c)</h4><p>å…ƒç»„é‡Œçš„å€¼ç±»å‹å¯ä»¥æ˜¯ä¸åŒçš„ã€‚å…ƒç»„å¯ä»¥çœ‹æˆæ˜¯åŒ¿åçš„ç»“æ„ä½“ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> t1 <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> p3<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>p1<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>p3<span class="token punctuation">)</span>

<span class="token comment">// ç±»å‹æ¨å¯¼</span>
<span class="token keyword">let</span> t2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// é€šè¿‡ä¸‹æ ‡è®¿é—®</span>
<span class="token function">print</span><span class="token punctuation">(</span>t2<span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// two</span>

<span class="token comment">// åˆ†è§£å…ƒç»„</span>
<span class="token keyword">let</span> <span class="token punctuation">(</span>dp1<span class="token punctuation">,</span> dp2<span class="token punctuation">,</span> <span class="token omit keyword">_</span><span class="token punctuation">)</span> <span class="token operator">=</span> t2
<span class="token function">print</span><span class="token punctuation">(</span>dp1<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>dp2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Hi! This is a string. Cool?"</span></span>

<span class="token comment">/// è½¬ä¹‰ç¬¦ \n è¡¨ç¤ºæ¢è¡Œã€‚</span>
<span class="token comment">/// å…¶å®ƒè½¬ä¹‰å­—ç¬¦æœ‰ \0 ç©ºå­—ç¬¦)ã€\t æ°´å¹³åˆ¶è¡¨ç¬¦ ã€\n æ¢è¡Œç¬¦ã€\r å›è½¦ç¬¦</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Hi!\nThis is a string. Cool?"</span></span>

<span class="token comment">// å¤šè¡Œ</span>
<span class="token keyword">let</span> s3 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"""
Hi!
This is a string.
Cool?
"""</span></span>

<span class="token comment">// é•¿åº¦</span>
<span class="token function">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span>

<span class="token comment">// æ‹¼æ¥</span>
<span class="token function">print</span><span class="token punctuation">(</span>s3 <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"\nSure!"</span></span><span class="token punctuation">)</span>

<span class="token comment">// å­—ç¬¦ä¸²ä¸­æ’å…¥å˜é‡</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Today is good day, double </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">!"</span></span><span class="token punctuation">)</span>

<span class="token comment">/// éå†å­—ç¬¦ä¸²</span>
<span class="token comment">/// è¾“å‡ºï¼š</span>
<span class="token comment">/// o</span>
<span class="token comment">/// n</span>
<span class="token comment">/// e</span>
<span class="token keyword">for</span> c <span class="token keyword">in</span> <span class="token string-literal"><span class="token string">"one"</span></span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// æŸ¥æ‰¾</span>
<span class="token function">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">.</span><span class="token function">lowercased</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"cool"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// æ›¿æ¢</span>
<span class="token keyword">let</span> s4 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"one is two"</span></span>
<span class="token keyword">let</span> newS4 <span class="token operator">=</span> s4<span class="token punctuation">.</span><span class="token function">replacingOccurrences</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> with<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>newS4<span class="token punctuation">)</span>

<span class="token comment">// åˆ é™¤ç©ºæ ¼å’Œæ¢è¡Œ</span>
<span class="token keyword">let</span> s5 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">" Simple line. \n\n  "</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>s5<span class="token punctuation">.</span><span class="token function">trimmingCharacters</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>whitespacesAndNewlines<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// åˆ‡å‰²æˆæ•°ç»„</span>
<span class="token keyword">let</span> s6 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"one/two/three"</span></span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> s6<span class="token punctuation">.</span><span class="token function">components</span><span class="token punctuation">(</span>separatedBy<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"/"</span></span><span class="token punctuation">)</span> <span class="token comment">// ç»§æ‰¿è‡ª NSString çš„æ¥å£</span>
<span class="token function">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span> <span class="token comment">// ["one", "two", "three"]</span>

<span class="token keyword">let</span> a2 <span class="token operator">=</span> s6<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>separator<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"/"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// ["one", "two", "three"] å±äºåˆ‡ç‰‡ï¼Œæ€§èƒ½è¾ƒ components æ›´å¥½</span>

<span class="token comment">// åˆ¤æ–­æ˜¯å¦æ˜¯æŸç§ç±»å‹</span>
<span class="token keyword">let</span> c1<span class="token punctuation">:</span> <span class="token class-name">Character</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ğŸ¤”"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>isASCII<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>isSymbol<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>isLetter<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>isNumber<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>isUppercase<span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// å­—ç¬¦ä¸²å’Œ Data äº’è½¬</span>
<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token class-name">Data</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">.</span>utf8<span class="token punctuation">)</span>
<span class="token keyword">let</span> s7 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">(</span>decoding<span class="token punctuation">:</span> data<span class="token punctuation">,</span> <span class="token keyword">as</span><span class="token punctuation">:</span> UTF8<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s7<span class="token punctuation">)</span> <span class="token comment">// hi</span>

<span class="token comment">// å­—ç¬¦ä¸²å¯ä»¥å½“ä½œé›†åˆæ¥ç”¨ã€‚</span>
<span class="token keyword">let</span> revered <span class="token operator">=</span> s7<span class="token punctuation">.</span><span class="token function">reversed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">(</span>revered<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Unicodeã€Character å’Œ SubString ç­‰å†…å®¹å‚è§å®˜æ–¹å­—ç¬¦ä¸²æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://docs.swift.org/swift-book/LanguageGuide/StringsAndCharacters.html">Strings and Characters â€” The Swift Programming Language (Swift 5.1)</a></p>
<p>å­—ç¬¦ä¸²å­—é¢ç¬¦å·å¯ä»¥å‚çœ‹ã€Š<a target="_blank" rel="noopener" href="https://www.swiftbysundell.com/articles/string-literals-in-swift/">String literals in Swift</a>ã€‹ã€‚</p>
<p>åŸå§‹å­—ç¬¦ä¸²</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// åŸå§‹å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²å‰åŠ ä¸Šä¸€ä¸ªæˆ–å¤šä¸ª#ç¬¦å·ã€‚é‡Œé¢çš„åŒå¼•å·å’Œè½¬ä¹‰ç¬¦å·å°†ä¸å†èµ·ä½œç”¨äº†ï¼Œå¦‚æœæƒ³è®©è½¬ä¹‰ç¬¦èµ·ä½œç”¨ï¼Œéœ€è¦åœ¨è½¬ä¹‰ç¬¦åé¢åŠ ä¸Š#ç¬¦å·ã€‚</span>
<span class="token keyword">let</span> s8 <span class="token operator">=</span> #"<span class="token punctuation">\</span><span class="token punctuation">(</span>s7<span class="token punctuation">)</span><span class="token punctuation">\</span>#<span class="token punctuation">(</span>s7<span class="token punctuation">)</span> <span class="token string-literal"><span class="token string">"one"</span></span> and <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">\</span>n<span class="token punctuation">.</span> <span class="token punctuation">\</span><span class="token other-directive property">#nThe</span> second line<span class="token punctuation">.</span>"#
<span class="token function">print</span><span class="token punctuation">(</span>s8<span class="token punctuation">)</span>
<span class="token comment">/// \(s7)hi "one" and "two"\n.</span>
<span class="token comment">/// The second line.</span>

<span class="token comment">// åŸå§‹å­—ç¬¦ä¸²åœ¨æ­£åˆ™ä½¿ç”¨æ•ˆæœæ›´ä½³ï¼Œåæ–œæ æ›´å°‘äº†ã€‚</span>
<span class="token keyword">let</span> s9 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"\\\\[A-Z]+[A-Za-z]+\\.[a-z]+"</span></span>
<span class="token keyword">let</span> s10 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">#"\\[A-Z]+[A-Za-z]+\.[a-z]+"#</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>s9<span class="token punctuation">)</span> <span class="token comment">// \\[A-Z]+[A-Za-z]+\.[a-z]+</span>
<span class="token function">print</span><span class="token punctuation">(</span>s10<span class="token punctuation">)</span> <span class="token comment">// \\[A-Z]+[A-Za-z]+\.[a-z]+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h4><p>Swiftçš„æšä¸¾æœ‰ç±»çš„ä¸€äº›ç‰¹æ€§ï¼Œæ¯”å¦‚è®¡ç®—å±æ€§ã€å®ä¾‹æ–¹æ³•ã€æ‰©å±•ã€éµå¾ªåè®®ç­‰ç­‰ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">enum</span> E1<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">CaseIterable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> e1<span class="token punctuation">,</span> e2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"12"</span></span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// å…³è”å€¼</span>
<span class="token keyword">enum</span> E2 <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token function">e1</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token function">e2</span><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> e1 <span class="token operator">=</span> E2<span class="token punctuation">.</span><span class="token function">e1</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> e2 <span class="token operator">=</span> E2<span class="token punctuation">.</span><span class="token function">e2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token keyword">switch</span> e1 <span class="token punctuation">&#123;</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">e1</span><span class="token punctuation">(</span><span class="token keyword">let</span> array<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">e2</span><span class="token punctuation">(</span><span class="token keyword">let</span> int<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span>int<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>e2<span class="token punctuation">)</span>

<span class="token comment">// åŸå§‹å€¼</span>
<span class="token function">print</span><span class="token punctuation">(</span>E1<span class="token punctuation">.</span>e1<span class="token punctuation">.</span>rawValue<span class="token punctuation">)</span>

<span class="token comment">// éµå¾ª CaseIterable åè®®å¯è¿­ä»£</span>
<span class="token keyword">for</span> ie <span class="token keyword">in</span> E1<span class="token punctuation">.</span>allCases <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"show </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">ie</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// é€’å½’æšä¸¾</span>
<span class="token keyword">enum</span> <span class="token constant">RE</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
    <span class="token keyword">indirect</span> <span class="token keyword">case</span> <span class="token function">node</span><span class="token punctuation">(</span>l<span class="token punctuation">:</span><span class="token constant">RE</span><span class="token punctuation">,</span> r<span class="token punctuation">:</span><span class="token constant">RE</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> lNode <span class="token operator">=</span> <span class="token constant">RE</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"left"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> rNode <span class="token operator">=</span> <span class="token constant">RE</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"right"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> pNode <span class="token operator">=</span> <span class="token constant">RE</span><span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span>l<span class="token punctuation">:</span> lNode<span class="token punctuation">,</span> r<span class="token punctuation">:</span> rNode<span class="token punctuation">)</span>

<span class="token keyword">switch</span> pNode <span class="token punctuation">&#123;</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token keyword">let</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token keyword">let</span> l<span class="token punctuation">,</span> <span class="token keyword">let</span> r<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span>r<span class="token punctuation">)</span>
    <span class="token keyword">switch</span> l <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token keyword">let</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token keyword">let</span> l<span class="token punctuation">,</span> <span class="token keyword">let</span> r<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">switch</span> r <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token keyword">let</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token keyword">let</span> l<span class="token punctuation">,</span> <span class="token keyword">let</span> r<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>@unknown ç”¨æ¥åŒºåˆ†å›ºå®šçš„æšä¸¾å’Œå¯èƒ½æ”¹å˜çš„æšä¸¾çš„èƒ½åŠ›ã€‚@unknown ç”¨äºé˜²æ­¢æœªæ¥æ–°å¢æšä¸¾å±æ€§ä¼šè¿›è¡Œæé†’æç¤ºå®Œå–„æ¯ä¸ª case çš„å¤„ç†ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// @unknown</span>
<span class="token keyword">enum</span> E3 <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> e1<span class="token punctuation">,</span> e2<span class="token punctuation">,</span> e3
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function-definition function">fe1</span><span class="token punctuation">(</span>e<span class="token punctuation">:</span> E3<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">switch</span> e <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>e1<span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"e1 ok"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>e2<span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"e2 ok"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>e3<span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"e3 ok"</span></span><span class="token punctuation">)</span>
    <span class="token attribute atrule">@unknown</span> <span class="token keyword">default</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"not ok"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç¬¦åˆ Comparable åè®®çš„æšä¸¾å¯ä»¥è¿›è¡Œæ¯”è¾ƒã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// Comparable æšä¸¾æ¯”è¾ƒ</span>
<span class="token keyword">enum</span> E4<span class="token punctuation">:</span> <span class="token class-name">Comparable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> e1<span class="token punctuation">,</span> e2
    <span class="token keyword">case</span> <span class="token function">e3</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> e4
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> e3 <span class="token operator">=</span> E4<span class="token punctuation">.</span>e4
<span class="token keyword">let</span> e4 <span class="token operator">=</span> E4<span class="token punctuation">.</span><span class="token function">e3</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> e5 <span class="token operator">=</span> E4<span class="token punctuation">.</span><span class="token function">e3</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> e6 <span class="token operator">=</span> E4<span class="token punctuation">.</span>e1
<span class="token function">print</span><span class="token punctuation">(</span>e3 <span class="token operator">></span> e4<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span>e3<span class="token punctuation">,</span> e4<span class="token punctuation">,</span> e5<span class="token punctuation">,</span> e6<span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> a2 <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/// e1</span>
<span class="token comment">/// e3(i: 2)</span>
<span class="token comment">/// e3(i: 3)</span>
<span class="token comment">/// e4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h4><p>æ³›å‹å¯ä»¥å‡å°‘é‡å¤ä»£ç ï¼Œæ˜¯ä¸€ç§æŠ½è±¡çš„è¡¨è¾¾æ–¹å¼ã€‚where å…³é”®å­—å¯ä»¥å¯¹æ³›å‹åšçº¦æŸã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">fn</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    r<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    <span class="token keyword">return</span> r
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ç»“æ„ä½“</span>
<span class="token keyword">struct</span> S1<span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">add</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> p<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        arr<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token function">S1</span><span class="token punctuation">(</span>arr<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"zero"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>arr<span class="token punctuation">)</span> <span class="token comment">// ["zero", "one", "two"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å…³è”ç±»å‹</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">protocol</span> pc <span class="token punctuation">&#123;</span>
    <span class="token keyword">associatedtype</span> <span class="token class-name">T</span>
    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">add</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> p<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> S2<span class="token punctuation">:</span> pc <span class="token punctuation">&#123;</span>
    <span class="token keyword">typealias</span> <span class="token class-name">T</span> <span class="token operator">=</span> <span class="token class-name">String</span> <span class="token comment">// ç±»å‹æ¨å¯¼ï¼Œå¯çœç•¥</span>
    <span class="token keyword">var</span> strs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">add</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        strs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ³›å‹é€‚ç”¨äºåµŒå¥—ç±»å‹</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> S3<span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">struct</span> S4 <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">T</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">T</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> S4
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">S3</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> S3<span class="token punctuation">.</span><span class="token function">S4</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s3 <span class="token operator">=</span> <span class="token function">S3</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> S3<span class="token punctuation">.</span><span class="token function">S4</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s2<span class="token punctuation">,</span>s3<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="ä¸é€æ˜ç±»å‹"><a href="#ä¸é€æ˜ç±»å‹" class="headerlink" title="ä¸é€æ˜ç±»å‹"></a>ä¸é€æ˜ç±»å‹</h4><p>ä¸é€æ˜ç±»å‹ä¼šéšè—ç±»å‹ï¼Œè®©ä½¿ç”¨è€…æ›´å…³æ³¨åŠŸèƒ½ã€‚ä¸é€æ˜ç±»å‹å’Œåè®®å¾ˆç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ä¸é€æ˜æ¯”åè®®é™å®šçš„è¦å¤šï¼Œåè®®èƒ½å¤Ÿå¯¹åº”æ›´å¤šç±»å‹ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">protocol</span> <span class="token class-name">P</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">struct</span> S1<span class="token punctuation">:</span> <span class="token class-name">P</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"one\n"</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">struct</span> S2<span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">P</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">P</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">T</span>
    <span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> p<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"two\n"</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">struct</span> S3<span class="token operator">&lt;</span>T1<span class="token punctuation">:</span> <span class="token class-name">P</span><span class="token punctuation">,</span> T2<span class="token punctuation">:</span> <span class="token class-name">P</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">P</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> T1
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> T2
    <span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> p1<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> p2<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"three\n"</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function-definition function">someP</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">P</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token function">S3</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token function">S1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token function">S2</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token function">S1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token function">someP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‡½æ•°è°ƒç”¨è€…å†³å®šè¿”å›ä»€ä¹ˆç±»å‹æ˜¯æ³›å‹ï¼Œå‡½æ•°è‡ªèº«å†³å®šè¿”å›ä»€ä¹ˆç±»å‹ä½¿ç”¨ä¸é€æ˜è¿”å›ç±»å‹ã€‚</p>
<h4 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h4><p>Result ç±»å‹ç”¨æ¥å¤„ç†é”™è¯¯ï¼Œç‰¹åˆ«é€‚ç”¨å¼‚æ­¥æ¥å£çš„é”™è¯¯å¤„ç†ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">extension</span> <span class="token class-name">URLSession</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">dataTaskWithResult</span><span class="token punctuation">(</span>
        with url<span class="token punctuation">:</span> <span class="token constant">URL</span><span class="token punctuation">,</span>
        handler<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token class-name">Data</span><span class="token punctuation">,</span> <span class="token class-name">Error</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span>
    <span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">URLSessionDataTask</span> <span class="token punctuation">&#123;</span>
        <span class="token function">dataTask</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> url<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> data<span class="token punctuation">,</span> <span class="token omit keyword">_</span><span class="token punctuation">,</span> err <span class="token keyword">in</span>
            <span class="token keyword">if</span> <span class="token keyword">let</span> err <span class="token operator">=</span> err <span class="token punctuation">&#123;</span>
                <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>data <span class="token operator">??</span> <span class="token class-name">Data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://ming1016.github.io/"</span></span><span class="token punctuation">)</span><span class="token operator">!</span>

<span class="token comment">// ä»¥å‰ç½‘ç»œè¯·æ±‚</span>
<span class="token keyword">let</span> t1 <span class="token operator">=</span> <span class="token class-name">URLSession</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token function">dataTask</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> url<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    data<span class="token punctuation">,</span> <span class="token omit keyword">_</span><span class="token punctuation">,</span> error <span class="token keyword">in</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> err <span class="token operator">=</span> error <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token keyword">let</span> data <span class="token operator">=</span> data <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">(</span>decoding<span class="token punctuation">:</span> data<span class="token punctuation">,</span> <span class="token keyword">as</span><span class="token punctuation">:</span> UTF8<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
t1<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// ä½¿ç”¨ Result ç½‘ç»œè¯·æ±‚</span>
<span class="token keyword">let</span> t2 <span class="token operator">=</span> <span class="token class-name">URLSession</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token function">dataTaskWithResult</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> url<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">(</span>decoding<span class="token punctuation">:</span> data<span class="token punctuation">,</span> <span class="token keyword">as</span><span class="token punctuation">:</span> UTF8<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> err<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
t2<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h4><p>ä½¿ç”¨ is å…³é”®å­—è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œ ä½¿ç”¨as å…³é”®å­—æ¥è½¬æ¢æˆå­ç±»ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">class</span> S0 <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> S1<span class="token punctuation">:</span> S0 <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> S2<span class="token punctuation">:</span> S0 <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span>S0<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">S1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">S2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> e <span class="token keyword">in</span> a <span class="token punctuation">&#123;</span>
    <span class="token comment">// ç±»å‹åˆ¤æ–­</span>
    <span class="token keyword">if</span> e <span class="token keyword">is</span> S1 <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Type is S1"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> e <span class="token keyword">is</span> S2 <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Type is S2"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// ä½¿ç”¨ as å…³é”®å­—è½¬æ¢æˆå­ç±»</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> s1 <span class="token operator">=</span> e <span class="token keyword">as</span><span class="token operator">?</span> S1 <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"As S1 </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token keyword">let</span> s2 <span class="token operator">=</span> e <span class="token keyword">as</span><span class="token operator">?</span> S2 <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"As S2 </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="ç±»å’Œç»“æ„ä½“"><a href="#ç±»å’Œç»“æ„ä½“" class="headerlink" title="ç±»å’Œç»“æ„ä½“"></a>ç±»å’Œç»“æ„ä½“</h3><h4 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h4><p>ç±»å¯ä»¥å®šä¹‰å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ã€ä¸‹æ ‡æ“ä½œã€‚ç±»ä½¿ç”¨æ‰©å±•æ¥æ‰©å±•åŠŸèƒ½ï¼Œéµå¾ªåè®®ã€‚ç±»è¿˜ä»¥ç»§æ‰¿ï¼Œè¿è¡Œæ—¶æ£€æŸ¥å®ä¾‹ç±»å‹ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>p <span class="token operator">=</span> p
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// ä¸‹æ ‡æ“ä½œ</span>
    <span class="token keyword">subscript</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">get</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> p <span class="token operator">+</span> s
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">set</span> <span class="token punctuation">&#123;</span>
            p <span class="token operator">=</span> s <span class="token operator">+</span> newValue
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>p<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">" ming"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
c<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"v"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>p<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="ç»“æ„ä½“"><a href="#ç»“æ„ä½“" class="headerlink" title="ç»“æ„ä½“"></a>ç»“æ„ä½“</h4><p>ç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼Œå¯ä»¥å®šä¹‰å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ã€ä¸‹æ ‡æ“ä½œã€‚ç»“æ„ä½“ä½¿ç”¨æ‰©å±•æ¥æ‰©å±•åŠŸèƒ½ï¼Œéµå¾ªåè®®ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">extension</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> p1 <span class="token operator">+</span> <span class="token class-name">String</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>p1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"1"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 11</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><p>ç±»ã€ç»“æ„ä½“æˆ–æšä¸¾é‡Œçš„å˜é‡å¸¸é‡å°±æ˜¯ä»–ä»¬çš„å±æ€§ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> sp <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ç±»å‹å±æ€§"</span></span> <span class="token comment">// ç±»å‹å±æ€§é€šè¿‡ç±»å‹æœ¬èº«è®¿é—®ï¼Œéå®ä¾‹è®¿é—®</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token comment">// cp æ˜¯è®¡ç®—å±æ€§</span>
    <span class="token keyword">var</span> cp<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">get</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> p2 <span class="token operator">*</span> <span class="token number">2</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">set</span> <span class="token punctuation">&#123;</span>
            p2 <span class="token operator">=</span> newValue <span class="token operator">+</span> <span class="token number">2</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// åªæœ‰ getter çš„æ˜¯åªè¯»è®¡ç®—å±æ€§</span>
    <span class="token keyword">var</span> rcp<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        p2 <span class="token operator">*</span> <span class="token number">4</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">.</span>sp<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cp<span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>cp <span class="token operator">=</span> <span class="token number">3</span>
<span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>p2<span class="token punctuation">)</span> <span class="token comment">// 5</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>rcp<span class="token punctuation">)</span> <span class="token comment">// 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>willSet å’Œ didSet æ˜¯å±æ€§è§‚å¯Ÿå™¨ï¼Œå¯ä»¥åœ¨å±æ€§å€¼è®¾ç½®å‰åæ’å…¥è‡ªå·±çš„é€»è¾‘å¤„ç†ã€‚</p>
<p>é”®è·¯å¾„è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> S2 <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">let</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">S2</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s3 <span class="token operator">=</span> <span class="token function">S2</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span>s2<span class="token punctuation">,</span> s3<span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>p1<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// ["one", "two"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token class-name">E</span><span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three
    <span class="token keyword">func</span> <span class="token function-definition function">showRawValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span>rawValue<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token class-name">E</span><span class="token punctuation">.</span>three
e<span class="token punctuation">.</span><span class="token function">showRawValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// three</span>

<span class="token comment">// å¯å˜çš„å®ä¾‹æ–¹æ³•ï¼Œä½¿ç”¨ mutating æ ‡è®°</span>
<span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">addFullStopForP</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        p <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"."</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span><span class="token function">addFullStopForP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>p<span class="token punctuation">)</span>

<span class="token comment">// ç±»æ–¹æ³•</span>
<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">class</span> <span class="token keyword">func</span> <span class="token function-definition function">cf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç±»æ–¹æ³•"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>staticå’Œclasså…³é”®å­—ä¿®é¥°çš„æ–¹æ³•ç±»ä¼¼ OC çš„ç±»æ–¹æ³•ã€‚static å¯ä»¥ä¿®é¥°å­˜å‚¨å±æ€§ï¼Œè€Œ class ä¸èƒ½ï¼›class ä¿®é¥°çš„æ–¹æ³•å¯ä»¥ç»§æ‰¿ï¼Œè€Œ static ä¸èƒ½ã€‚åœ¨åè®®ä¸­éœ€ç”¨ static æ¥ä¿®é¥°ã€‚</p>
<p>é™æ€ä¸‹æ ‡æ–¹æ³•</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// é™æ€ä¸‹æ ‡</span>
<span class="token keyword">struct</span> S2 <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">var</span> sp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">static</span> <span class="token keyword">subscript</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> d<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">get</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> sp<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">??</span> d
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">set</span> <span class="token punctuation">&#123;</span>
            sp<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> newValue
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

S2<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"key1"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
S2<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"key2"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
<span class="token function">print</span><span class="token punctuation">(</span>S2<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"key2"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token function">print</span><span class="token punctuation">(</span>S2<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"key3"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 10</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è‡ªå®šä¹‰ç±»å‹ä¸­å®ç°äº† callAsFunction() çš„è¯ï¼Œè¯¥ç±»å‹çš„å€¼å°±å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// callAsFunction()</span>
<span class="token keyword">struct</span> S3 <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">callAsFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"show </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">S3</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">s2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// show hi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h4><p>ç±»èƒ½ç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼Œç»§æ‰¿å®ƒçš„æ–¹æ³•ã€å±æ€§ç­‰ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// ç±»ç»§æ‰¿</span>
<span class="token keyword">class</span> C1 <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> cp1<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">get</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> p1 <span class="token operator">+</span> <span class="token string-literal"><span class="token string">" like ATM"</span></span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">set</span> <span class="token punctuation">&#123;</span>
            p1 <span class="token operator">=</span> p1 <span class="token operator">+</span> newValue
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>p1 <span class="token operator">=</span> p1
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Hi! </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> C2<span class="token punctuation">:</span> C1 <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>p2<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>p2 <span class="token operator">=</span> p2
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> p2 <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"'s father"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">C2</span><span class="token punctuation">(</span>p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Hi! Lemon's father</span>

<span class="token comment">// é‡å†™çˆ¶ç±»æ–¹æ³•</span>
<span class="token keyword">class</span> C3<span class="token punctuation">:</span> C2 <span class="token punctuation">&#123;</span>
    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Hi! </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">C3</span><span class="token punctuation">(</span>p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Hi! Lemon</span>

<span class="token comment">// é‡å†™è®¡ç®—å±æ€§</span>
<span class="token keyword">class</span> C4<span class="token punctuation">:</span> C1 <span class="token punctuation">&#123;</span>
    <span class="token keyword">override</span> <span class="token keyword">var</span> cp1<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">get</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> p1 <span class="token operator">+</span> <span class="token string-literal"><span class="token string">" like Out of the blade"</span></span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">set</span> <span class="token punctuation">&#123;</span>
            p1 <span class="token operator">=</span> p1 <span class="token operator">+</span> newValue
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">C1</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>cp1<span class="token punctuation">)</span> <span class="token comment">// Lemon like ATM</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">C4</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>cp1<span class="token punctuation">)</span> <span class="token comment">// Lemon like Out of the blade</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é€šè¿‡ final å…³é”®å­—å¯ä»¥é˜²æ­¢ç±»è¢«ç»§æ‰¿ï¼Œfinal è¿˜å¯ä»¥ç”¨äºå±æ€§å’Œæ–¹æ³•ã€‚ä½¿ç”¨ super å…³é”®å­—æŒ‡ä»£çˆ¶ç±»ã€‚</p>
<h3 id="å‡½æ•°å¼"><a href="#å‡½æ•°å¼" class="headerlink" title="å‡½æ•°å¼"></a>å‡½æ•°å¼</h3><h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><p>map å¯ä»¥ä¾æ¬¡å¤„ç†æ•°ç»„ä¸­å…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¤„ç†åçš„æ–°æ•°ç»„ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"a"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"b"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"c"</span></span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span>
    <span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token short-argument">$0</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">2"</span></span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// ["a2", "b2", "c2"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨ compactMap å¯ä»¥è¿‡æ»¤ nil çš„å…ƒç´ ã€‚flatMap ä¼šå°†å¤šä¸ªæ•°ç»„åˆæˆä¸€ä¸ªæ•°ç»„è¿”å›ã€‚</p>
<h4 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h4><p>æ ¹æ®æŒ‡å®šæ¡ä»¶è¿”å›</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"a"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"b"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"c"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"call my name"</span></span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span>filter <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span><span class="token keyword">prefix</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string-literal"><span class="token string">"c"</span></span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// ["c", "call my name"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h4><p>reduce å¯ä»¥å°†è¿­ä»£ä¸­è¿”å›çš„ç»“æœç”¨äºä¸‹ä¸ªè¿­ä»£ä¸­ï¼Œå¹¶ï¼Œè¿˜èƒ½è®©ä½ è®¾ä¸ªåˆå§‹å€¼ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"a"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"b"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"c"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"call my name."</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"get it?"</span></span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Hey u,"</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> partialResult<span class="token punctuation">,</span> s <span class="token keyword">in</span>
    <span class="token comment">// partialResult æ˜¯å‰é¢è¿”å›çš„å€¼ï¼Œs æ˜¯éå†åˆ°å½“å‰çš„å€¼</span>
    partialResult <span class="token operator">+</span> <span class="token string-literal"><span class="token string">" </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// Hey u, a b c call my name. get it?</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h4><p>æ’åº</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// ç±»å‹éµå¾ª Comparable</span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"a"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"b"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"c"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"call my name."</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"get it?"</span></span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> a3 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token operator">></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> a4 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token operator">&lt;</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// Hey u, a b c call my name. get it?</span>
<span class="token function">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span> <span class="token comment">// ["get it?", "call my name.", "c", "b", "a"]</span>
<span class="token function">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">)</span> <span class="token comment">// ["a", "b", "c", "call my name.", "get it?"]</span>

<span class="token comment">// ç±»å‹ä¸éµå¾ª Comparable</span>
<span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> i<span class="token punctuation">:</span> <span class="token class-name">Int</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> a5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">S</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"a"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">S</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"b"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">S</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"c"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a6 <span class="token operator">=</span> a5
    <span class="token punctuation">.</span>sorted <span class="token punctuation">&#123;</span> l<span class="token punctuation">,</span> r <span class="token keyword">in</span>
        l<span class="token punctuation">.</span>i <span class="token operator">></span> r<span class="token punctuation">.</span>i
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span>
        <span class="token short-argument">$0</span><span class="token punctuation">.</span>i
    <span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">)</span> <span class="token comment">// [2, 1, 0]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="æ§åˆ¶æµ"><a href="#æ§åˆ¶æµ" class="headerlink" title="æ§åˆ¶æµ"></a>æ§åˆ¶æµ</h3><h4 id="If-â€¢-If-let-â€¢-If-case-let"><a href="#If-â€¢-If-let-â€¢-If-case-let" class="headerlink" title="If â€¢ If let â€¢ If case let"></a>If â€¢ If let â€¢ If case let</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// if</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"hi"</span></span>
<span class="token keyword">if</span> s<span class="token punctuation">.</span>isEmpty <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"String is Empty"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"String is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä¸‰å…ƒæ¡ä»¶</span>
s<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"String is Empty again"</span></span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"String is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> again"</span></span><span class="token punctuation">)</span>

<span class="token comment">// if let-else</span>
<span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> s1 <span class="token operator">=</span> s <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"s1 is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"s1 is nothing"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// nil-coalescing</span>
    <span class="token keyword">let</span> s2 <span class="token operator">=</span> s <span class="token operator">??</span> <span class="token string-literal"><span class="token string">"nothing"</span></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"s2 is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token function">f</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"something"</span></span><span class="token punctuation">)</span>
<span class="token function">f</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span>

<span class="token comment">// if case let</span>
<span class="token keyword">enum</span> <span class="token class-name">E</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token function">c1</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token function">c2</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">des</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">switch</span> <span class="token keyword">self</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">c1</span><span class="token punctuation">(</span><span class="token keyword">let</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">c2</span><span class="token punctuation">(</span><span class="token keyword">let</span> array<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token function">print</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token class-name">E</span><span class="token punctuation">.</span><span class="token function">c1</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"enum c1"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">des</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">E</span><span class="token punctuation">.</span><span class="token function">c2</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">des</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Guard-guard-guard-let"><a href="#Guard-guard-guard-let" class="headerlink" title="Guard guard, guard let"></a>Guard guard, guard let</h4><p>æ›´å¥½åœ°å¤„ç†å¼‚å¸¸æƒ…å†µ</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// guard</span>
<span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">guard</span> p<span class="token punctuation">.</span>isEmpty <span class="token operator">!=</span> <span class="token boolean">true</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"Empty string."</span></span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"String </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is not empty."</span></span>
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Empty string.</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// String lemon is not empty.</span>

<span class="token comment">// guard let</span>
<span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">guard</span> <span class="token keyword">let</span> p2 <span class="token operator">=</span> p1 <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"Nil."</span></span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"String </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is not nil."</span></span>
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f2</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Nil.</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f2</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// String lemon is not nil.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="éå†-For-in"><a href="#éå†-For-in" class="headerlink" title="éå† For-in"></a>éå† For-in</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">]</span>
<span class="token keyword">for</span> str <span class="token keyword">in</span> a <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä½¿ç”¨ä¸‹æ ‡èŒƒå›´</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">10</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä½¿ç”¨ enumerated</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> str<span class="token punctuation">)</span> <span class="token keyword">in</span> a<span class="token punctuation">.</span><span class="token function">enumerated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i <span class="token operator">+</span> <span class="token number">1</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">ä¸ªæ˜¯:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">str</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// for in where</span>
<span class="token keyword">for</span> str <span class="token keyword">in</span> a <span class="token keyword">where</span> str<span class="token punctuation">.</span><span class="token keyword">prefix</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string-literal"><span class="token string">"t"</span></span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// å­—å…¸ for inï¼Œéå†æ˜¯æ— åºçš„</span>
<span class="token keyword">let</span> dic <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token punctuation">]</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token keyword">in</span> dic <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"key is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">k</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, value is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">v</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// stride</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token function">stride</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> through<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> by<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
 10
 8
 6
 4
 2
 0
 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="While-while-repeat-while"><a href="#While-while-repeat-while" class="headerlink" title="While while, repeat-while"></a>While while, repeat-while</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// while</span>
<span class="token keyword">var</span> i1 <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">while</span> i1 <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"positive even number </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    i1 <span class="token operator">-=</span> <span class="token number">2</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// repeat while</span>
<span class="token keyword">var</span> i2 <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">repeat</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"positive even number </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    i2 <span class="token operator">-=</span> <span class="token number">2</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">while</span> i2 <span class="token operator">></span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨ break ç»“æŸéå†ï¼Œä½¿ç”¨ continue è·³è¿‡å½“å‰ä½œç”¨åŸŸï¼Œç»§ç»­ä¸‹ä¸ªå¾ªç¯</p>
<h4 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> t<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Int</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">switch</span> pa <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">:</span>
        p1 <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">:</span>
        p1 <span class="token operator">=</span> <span class="token number">2</span>
        <span class="token keyword">fallthrough</span> <span class="token comment">// ç»§ç»­åˆ°ä¸‹ä¸ª case ä¸­</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        p2 <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p1 is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p2 is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    
    <span class="token comment">// å…ƒç»„</span>
    <span class="token keyword">switch</span> t <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"0"</span></span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"zero"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"no"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">f1</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> t<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">/*
 p1 is 2
 p2 is 0
 one
 */</span>

<span class="token comment">// æšä¸¾</span>
<span class="token keyword">enum</span> <span class="token class-name">E</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three<span class="token punctuation">,</span> <span class="token function">unknown</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token class-name">E</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">switch</span> pa <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>one<span class="token punctuation">:</span>
        p <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"1"</span></span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>two<span class="token punctuation">:</span>
        p <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"2"</span></span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>three<span class="token punctuation">:</span>
        p <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"3"</span></span>
    <span class="token keyword">case</span> <span class="token keyword">let</span> <span class="token punctuation">.</span><span class="token function">unknown</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token class-name">Int</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token number">0</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token comment">// æšä¸¾å…³è”å€¼ï¼Œä½¿ç”¨ where å¢åŠ æ¡ä»¶</span>
        p <span class="token operator">=</span> u
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">unknown</span><span class="token punctuation">(</span><span class="token omit keyword">_</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        p <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"negative number"</span></span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">f2</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token class-name">E</span><span class="token punctuation">.</span>one<span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token function">f2</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token class-name">E</span><span class="token punctuation">.</span><span class="token function">unknown</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"10"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 10</span>
<span class="token function">f2</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token class-name">E</span><span class="token punctuation">.</span><span class="token function">unknown</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"-10"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// negative number</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h3><h4 id="æ•°ç»„-1-2-3"><a href="#æ•°ç»„-1-2-3" class="headerlink" title="æ•°ç»„ [1, 2, 3]"></a>æ•°ç»„ [1, 2, 3]</h4><p>æ•°ç»„æ˜¯æœ‰åºé›†åˆ</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> a0<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
a0<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
a0<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>at<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>a0<span class="token punctuation">)</span> <span class="token comment">// [10, 2]</span>

<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"four"</span></span><span class="token punctuation">]</span>

<span class="token comment">// æ‰¾ä¸¤ä¸ªé›†åˆçš„ä¸åŒ</span>
<span class="token keyword">let</span> dif <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">difference</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> a2<span class="token punctuation">)</span> <span class="token comment">// swiftçš„ diffing ç®—æ³•åœ¨è¿™ http://www.xmailserver.org/diff2.pdf swiftå®ç°åœ¨  swift/stdlib/public/core/Diffing.swift</span>
<span class="token keyword">for</span> c <span class="token keyword">in</span> dif <span class="token punctuation">&#123;</span>
    <span class="token keyword">switch</span> c <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">let</span> o<span class="token punctuation">,</span> <span class="token keyword">let</span> e<span class="token punctuation">,</span> <span class="token keyword">let</span> a<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"offset:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">o</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, element:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">e</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, associatedWith:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">String</span><span class="token punctuation">(</span>describing<span class="token punctuation">:</span> a<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">let</span> o<span class="token punctuation">,</span> <span class="token keyword">let</span> e<span class="token punctuation">,</span> <span class="token keyword">let</span> a<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"offset:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">o</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, element:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">e</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, associatedWith:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">String</span><span class="token punctuation">(</span>describing<span class="token punctuation">:</span> a<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
 remove offset:1, element:four, associatedWith:nil
 insert offset:0, element:one, associatedWith:nil
 insert offset:1, element:two, associatedWith:nil
 */</span>
<span class="token keyword">let</span> a3 <span class="token operator">=</span> a2<span class="token punctuation">.</span><span class="token function">applying</span><span class="token punctuation">(</span>dif<span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// å¯ä»¥ç”¨äºæ·»åŠ åˆ é™¤åŠ¨ç”»</span>
<span class="token function">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span> <span class="token comment">// ["one", "two", "three"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>dif æœ‰ç¬¬ä¸‰ä¸ª case å€¼ .insert(let offset, let element, let associatedWith) å¯ä»¥è·Ÿè¸ªæˆå¯¹çš„å˜åŒ–ï¼Œç”¨äºé«˜çº§åŠ¨ç”»ã€‚</p>
<p>ä»æ•°ç»„ä¸­éšæœºå–ä¸€ä¸ªå…ƒç´ </p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token function">print</span><span class="token punctuation">(</span>a0<span class="token punctuation">.</span><span class="token function">randomElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>æ•°ç»„æ’åº</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// æ’åº</span>
<span class="token keyword">struct</span> S1 <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> n<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> a4 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token function">S1</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">S1</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">S1</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">S1</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
<span class="token keyword">let</span> a5 <span class="token operator">=</span> a4<span class="token punctuation">.</span>sorted <span class="token punctuation">&#123;</span> i1<span class="token punctuation">,</span> i2 <span class="token keyword">in</span>
    i1<span class="token punctuation">.</span>n <span class="token operator">&lt;</span> i2<span class="token punctuation">.</span>n
<span class="token punctuation">&#125;</span>
<span class="token keyword">for</span> n <span class="token keyword">in</span> a5 <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/// S1(n: 1)</span>
<span class="token comment">/// S1(n: 2)</span>
<span class="token comment">/// S1(n: 3)</span>
<span class="token comment">/// S1(n: 10)</span>

<span class="token keyword">let</span> a6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [10, 7, 4, 2, 1]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¯ä»¥åŠ åˆ°æ•°ç»„æ‰©å±•ä¸­ï¼Œé€šè¿‡æ‰©å±•çº¦æŸèƒ½å¤ŸæŒ‡å®šç‰¹å®šå…ƒç´ ç±»å‹çš„æ’åºï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">extension</span> <span class="token class-name">Array</span> <span class="token keyword">where</span> <span class="token class-name">Element</span> <span class="token operator">==</span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å‡åº</span>
    <span class="token keyword">func</span> <span class="token function-definition function">intSortedASC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token operator">&lt;</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// é™åº</span>
    <span class="token keyword">func</span> <span class="token function-definition function">intSortedDESC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token operator">&lt;</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">.</span><span class="token function">intSortedASC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ä½¿ç”¨æ‰©å±•å¢åŠ è‡ªå®šä¹‰æ’åºèƒ½åŠ›</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨æ•°ç»„ä¸­æ£€ç´¢æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶äº†å°±è¿”å›</span>
<span class="token keyword">let</span> a7 <span class="token operator">=</span> a4<span class="token punctuation">.</span>first <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>n <span class="token operator">==</span> <span class="token number">10</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a7<span class="token operator">?</span><span class="token punctuation">.</span>n <span class="token operator">??</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">// æ˜¯å¦éƒ½æ»¡è¶³äº†æ¡ä»¶</span>
<span class="token function">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">.</span>allSatisfy <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>n <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">.</span><span class="token function">allSatisfy</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// æ‰¾å‡ºæœ€å¤§çš„é‚£ä¸ª</span>
<span class="token function">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> e1<span class="token punctuation">,</span> e2 <span class="token keyword">in</span>
    e1<span class="token punctuation">.</span>n <span class="token operator">&lt;</span> e2<span class="token punctuation">.</span>n
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token function">S1</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// S1(n: 10, b: true)</span>

<span class="token comment">// çœ‹çœ‹æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </span>
<span class="token function">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">where</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>n <span class="token operator">==</span> <span class="token number">7</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸€äº›åˆ‡å‰²æ•°ç»„çš„æ–¹æ³•ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// åˆ‡ç‰‡</span>
<span class="token comment">// å–å‰3ä¸ªï¼Œå¹¶ä¸æ˜¯ç›´æ¥å¤åˆ¶ï¼Œå¯¹äºå¤§çš„æ•°ç»„æœ‰æ€§èƒ½ä¼˜åŠ¿ã€‚</span>
<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">[</span><span class="token operator">..&lt;</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [1, 10, 4] éœ€è¦åšè¶Šç•Œæ£€æŸ¥</span>
<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">.</span><span class="token keyword">prefix</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [1, 10, 4, 7, 2] ä¸éœ€è¦åšè¶Šç•Œæ£€æŸ¥ï¼Œä¹Ÿæ˜¯åˆ‡ç‰‡ï¼Œæ€§èƒ½ä¸€æ ·</span>

<span class="token comment">// å»æ‰å‰3ä¸ª</span>
<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">.</span><span class="token function">dropFirst</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [7, 2]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>prefix(while:) å’Œ drop(while:) æ–¹æ³•ï¼Œé¡ºåºéå†æ‰§è¡Œé—­åŒ…é‡Œçš„é€»è¾‘åˆ¤æ–­ï¼Œæ»¡è¶³æ¡ä»¶å°±è¿”å›ï¼Œé‡åˆ°ä¸åŒ¹é…å°±ä¼šåœæ­¢éå†ã€‚prefix è¿”å›æ»¡è¶³æ¡ä»¶çš„å…ƒç´ é›†åˆï¼Œdrop è¿”å›åœæ­¢éå†ä¹‹åé‚£äº›å…ƒç´ é›†åˆã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a8 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a9 <span class="token operator">=</span> a8<span class="token punctuation">.</span><span class="token keyword">prefix</span> <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span> <span class="token operator">&lt;</span> <span class="token number">30</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a9<span class="token punctuation">)</span> <span class="token comment">// [8, 9, 20, 1]</span>
<span class="token keyword">let</span> a10 <span class="token operator">=</span> a8<span class="token punctuation">.</span>drop <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span> <span class="token operator">&lt;</span> <span class="token number">30</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a10<span class="token punctuation">)</span> <span class="token comment">// [35, 3]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ¯” filter æ›´é«˜æ•ˆçš„åˆ é™¤å…ƒç´ çš„æ–¹æ³• removeAll</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// åˆ é™¤æ‰€æœ‰ä¸æ»¡è¶³æ¡ä»¶çš„å…ƒç´ </span>
<span class="token keyword">var</span> a11 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span>
a11<span class="token punctuation">.</span>removeAll <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a11<span class="token punctuation">)</span> <span class="token comment">// [4, 3, 1, 3, 3] éšæœº</span>

<span class="token comment">// åˆ›å»ºæœªåˆå§‹åŒ–çš„æ•°ç»„</span>
<span class="token keyword">let</span> a12 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">...</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
    <span class="token class-name">Int</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token operator">...</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a12<span class="token punctuation">)</span> <span class="token comment">// [0, 3, 3, 2, 5] éšæœº</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>#if ç”¨äºåç¼€è¡¨è¾¾å¼</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// #if ç”¨äºåç¼€è¡¨è¾¾å¼</span>
<span class="token keyword">let</span> a13 <span class="token operator">=</span> a11
<span class="token directive property"><span class="token directive-name">#if</span> os<span class="token punctuation">(</span>iOS<span class="token punctuation">)</span></span>
    <span class="token punctuation">.</span>count
<span class="token directive property"><span class="token directive-name">#else</span></span>
    <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">+</span><span class="token punctuation">)</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>a13<span class="token punctuation">)</span> <span class="token comment">//37</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="Sets-Set-lt-Int-gt"><a href="#Sets-Set-lt-Int-gt" class="headerlink" title="Sets Set&lt;Int&gt;"></a><code>Sets Set&lt;Int&gt;</code></h4><p>Set æ˜¯æ— åºé›†åˆï¼Œå…ƒç´ å”¯ä¸€</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> s0<span class="token punctuation">:</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">Int</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> s1<span class="token punctuation">:</span> <span class="token class-name">Set</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> s2<span class="token punctuation">:</span> <span class="token class-name">Set</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> s3 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">// åˆé›†</span>
<span class="token keyword">let</span> s4 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">intersection</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">// äº¤é›†</span>
<span class="token keyword">let</span> s5 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">subtracting</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">// éäº¤é›†éƒ¨åˆ†</span>
<span class="token keyword">let</span> s6 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">symmetricDifference</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">// éäº¤é›†çš„åˆé›†</span>
<span class="token function">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span> <span class="token comment">// [4, 2, 1, 7, 3, 10, 8, 9, 6, 5]</span>
<span class="token function">print</span><span class="token punctuation">(</span>s4<span class="token punctuation">)</span> <span class="token comment">// [10]</span>
<span class="token function">print</span><span class="token punctuation">(</span>s5<span class="token punctuation">)</span> <span class="token comment">// [8, 4, 2, 6]</span>
<span class="token function">print</span><span class="token punctuation">(</span>s6<span class="token punctuation">)</span> <span class="token comment">// [9, 1, 3, 4, 5, 2, 6, 8, 7]</span>

<span class="token comment">// s0 æ˜¯å¦è¢« s1 åŒ…å«</span>
<span class="token function">print</span><span class="token punctuation">(</span>s0<span class="token punctuation">.</span><span class="token function">isSubset</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> s1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// s1 æ˜¯å¦åŒ…å«äº† s0</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">isSuperset</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> s0<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token keyword">let</span> s7<span class="token punctuation">:</span> <span class="token class-name">Set</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token comment">// s0 å’Œ s7 æ˜¯å¦æœ‰äº¤é›†</span>
<span class="token function">print</span><span class="token punctuation">(</span>s0<span class="token punctuation">.</span><span class="token function">isDisjoint</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> s7<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// å¯å˜ Set</span>
<span class="token keyword">var</span> s8<span class="token punctuation">:</span> <span class="token class-name">Set</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">]</span>
s8<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span>
s8<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s8<span class="token punctuation">)</span> <span class="token comment">// ["two", "three"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸ [:]"></a>å­—å…¸ [:]</h4><p>å­—å…¸æ˜¯æ— åºé›†åˆï¼Œé”®å€¼å¯¹åº”ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> d1 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string-literal"><span class="token string">"k1"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"v1"</span></span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">"k2"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"v2"</span></span>
<span class="token punctuation">]</span>
d1<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k3"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"v3"</span></span>
d1<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k4"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token nil constant">nil</span>

<span class="token function">print</span><span class="token punctuation">(</span>d1<span class="token punctuation">)</span> <span class="token comment">// ["k2": "v2", "k3": "v3", "k1": "v1"]</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token keyword">in</span> d1 <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"key is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">k</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, value is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">v</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
 key is k1, value is v1
 key is k2, value is v2
 key is k3, value is v3
 */</span>
 
<span class="token keyword">if</span> d1<span class="token punctuation">.</span>isEmpty <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>d1<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 3</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// mapValues</span>
<span class="token keyword">let</span> d2 <span class="token operator">=</span> d1<span class="token punctuation">.</span>mapValues <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span> <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"_new"</span></span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>d2<span class="token punctuation">)</span> <span class="token comment">// ["k2": "v2_new", "k3": "v3_new", "k1": "v1_new"]</span>

<span class="token comment">// å¯¹å­—å…¸çš„å€¼æˆ–é”®è¿›è¡Œåˆ†ç»„</span>
<span class="token keyword">let</span> d3 <span class="token operator">=</span> <span class="token class-name">Dictionary</span><span class="token punctuation">(</span>grouping<span class="token punctuation">:</span> d1<span class="token punctuation">.</span>values<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>count
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>d3<span class="token punctuation">)</span> <span class="token comment">// [2: ["v1", "v2", "v3"]]</span>

<span class="token comment">// ä»å­—å…¸ä¸­å–å€¼ï¼Œå¦‚æœé”®å¯¹åº”æ— å€¼ï¼Œåˆ™ä½¿ç”¨é€šè¿‡ default æŒ‡å®šçš„é»˜è®¤å€¼</span>
d1<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k5"</span></span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"whatever"</span></span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"."</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>d1<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k5"</span></span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span> <span class="token comment">// whatever.</span>
<span class="token keyword">let</span> v1 <span class="token operator">=</span> d1<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k3"</span></span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"whatever"</span></span><span class="token punctuation">]</span>
<span class="token function">print</span><span class="token punctuation">(</span>v1<span class="token punctuation">)</span> <span class="token comment">// v3</span>

<span class="token comment">// compactMapValues() å¯¹å­—å…¸å€¼è¿›è¡Œè½¬æ¢å’Œè§£åŒ…ã€‚å¯ä»¥è§£å¯é€‰ç±»å‹ï¼Œå¹¶å»æ‰ nil å€¼</span>
<span class="token keyword">let</span> d4 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string-literal"><span class="token string">"k1"</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">"k2"</span></span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">"k3"</span></span><span class="token punctuation">:</span> <span class="token nil constant">nil</span>
<span class="token punctuation">]</span>
<span class="token keyword">let</span> d5 <span class="token operator">=</span> d4<span class="token punctuation">.</span>mapValues <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span> <span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> d6 <span class="token operator">=</span> d4<span class="token punctuation">.</span>compactMapValues<span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span> <span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>d5<span class="token punctuation">)</span>
<span class="token comment">// ["k3": nil, "k1": Optional(1), "k2": Optional(2)]</span>
<span class="token function">print</span><span class="token punctuation">(</span>d6<span class="token punctuation">)</span>
<span class="token comment">// ["k1": 1, "k2": 2]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="æ“ä½œç¬¦"><a href="#æ“ä½œç¬¦" class="headerlink" title="æ“ä½œç¬¦"></a>æ“ä½œç¬¦</h3><h4 id="èµ‹å€¼-x3D-x3D-x3D-x3D-x2F-x3D"><a href="#èµ‹å€¼-x3D-x3D-x3D-x3D-x2F-x3D" class="headerlink" title="èµ‹å€¼ &#x3D;, +&#x3D;. -&#x3D;, *&#x3D;, &#x2F;&#x3D;"></a>èµ‹å€¼ &#x3D;, +&#x3D;. -&#x3D;, *&#x3D;, &#x2F;&#x3D;</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> i1 <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">var</span> i2 <span class="token operator">=</span> i1
i2 <span class="token operator">=</span> <span class="token number">2</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 2</span>

i2 <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 3</span>

i2 <span class="token operator">-=</span> <span class="token number">2</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 1</span>

i2 <span class="token operator">*=</span> <span class="token number">10</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 10</span>

i2 <span class="token operator">/=</span> <span class="token number">2</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="è®¡ç®—ç¬¦-x2F"><a href="#è®¡ç®—ç¬¦-x2F" class="headerlink" title="è®¡ç®—ç¬¦ +, -, *, &#x2F;, %"></a>è®¡ç®—ç¬¦ +, -, *, &#x2F;, %</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> i1 <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">let</span> i2 <span class="token operator">=</span> i1
<span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i1 <span class="token operator">+</span> i2 <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"i"</span></span> <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">)</span> <span class="token comment">// i1</span>

<span class="token comment">// ä¸€å…ƒè¿ç®—ç¬¦</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token operator">-</span>i1<span class="token punctuation">)</span> <span class="token comment">// -1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="æ¯”è¾ƒè¿ç®—ç¬¦-x3D-x3D-gt"><a href="#æ¯”è¾ƒè¿ç®—ç¬¦-x3D-x3D-gt" class="headerlink" title="æ¯”è¾ƒè¿ç®—ç¬¦ &#x3D;&#x3D;, &gt;"></a>æ¯”è¾ƒè¿ç®—ç¬¦ &#x3D;&#x3D;, &gt;</h4><p>éµå¾ª Equatable åè®®å¯ä»¥ä½¿ç”¨ &#x3D;&#x3D; å’Œ !&#x3D; æ¥åˆ¤æ–­æ˜¯å¦ç›¸ç­‰</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token keyword">struct</span> <span class="token class-name">S</span><span class="token punctuation">:</span> <span class="token class-name">Equatable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s3 <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s4 <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s3<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s4<span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç±»éœ€è¦å®ç° &#x3D;&#x3D; å‡½æ•°</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span> <span class="token class-name">Equatable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>p1 <span class="token operator">=</span> p1
        <span class="token keyword">self</span><span class="token punctuation">.</span>p2 <span class="token operator">=</span> p2
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token operator">==</span> <span class="token punctuation">(</span>l<span class="token punctuation">:</span> <span class="token class-name">C</span><span class="token punctuation">,</span> r<span class="token punctuation">:</span> <span class="token class-name">C</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Bool</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> l<span class="token punctuation">.</span>p1 <span class="token operator">==</span> r<span class="token punctuation">.</span>p1 <span class="token operator">&amp;&amp;</span> l<span class="token punctuation">.</span>p2 <span class="token operator">==</span> r<span class="token punctuation">.</span>p2
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> c1 <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> c2 <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1 <span class="token operator">==</span> c2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å…ƒç»„æ¯”è¾ƒ</span>
<span class="token comment">// ä¼šå…ˆæ¯”è¾ƒç¬¬ä¸€ä¸ªæ•°ï¼Œç¬¬ä¸€ä¸ªæ— æ³•æ¯”è¾ƒæ‰ä¼šæ¯”è¾ƒç¬¬äºŒä¸ªæ•°</span>
<span class="token comment">// å­—ç¬¦ä¸²æ¯”è¾ƒå’Œå­—æ¯å¤§å°è¿˜æœ‰é•¿åº¦æœ‰å…³ã€‚å…ˆæ¯”è¾ƒå­—æ¯å¤§å°ï¼Œåœ¨æ¯”è¾ƒé•¿åº¦</span>
<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"apple"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"apple"</span></span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"applf"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"apple"</span></span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"appl"</span></span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"apple"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"appm"</span></span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"apple"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="ä¸‰å…ƒ"><a href="#ä¸‰å…ƒ" class="headerlink" title="ä¸‰å…ƒ _ ? _ : _"></a>ä¸‰å…ƒ _ ? _ : _</h4><p>ç®€åŒ– if else å†™æ³•</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// if else</span>
<span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> p <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"positive number"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"negative number"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä¸‰å…ƒ</span>
<span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    p <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"positive number"</span></span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"negative number"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">f2</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Nil-coalescing"><a href="#Nil-coalescing" class="headerlink" title="Nil-coalescing ??"></a>Nil-coalescing ??</h4><p>ç®€åŒ– if let else å†™æ³•</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// if else</span>
<span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> i <span class="token operator">=</span> p <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p have value is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p is nil, use defalut value"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä½¿ç”¨ ??</span>
<span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> p <span class="token operator">??</span> <span class="token number">0</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="èŒƒå›´-aâ€¦b"><a href="#èŒƒå›´-aâ€¦b" class="headerlink" title="èŒƒå›´ aâ€¦b"></a>èŒƒå›´ aâ€¦b</h4><p>ç®€åŒ–çš„å€¼èŒƒå›´è¡¨è¾¾æ–¹å¼ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å°é—­èŒƒå›´</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">...</span><span class="token number">10</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// åŠå¼€èŒƒå›´</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">10</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å•ä¾§åŒºé—´</span>
<span class="token keyword">let</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
<span class="token function">print</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 7 8</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>


<h4 id="é€»è¾‘-amp-amp"><a href="#é€»è¾‘-amp-amp" class="headerlink" title="é€»è¾‘ !, &amp;&amp;, ||"></a>é€»è¾‘ !, &amp;&amp;, ||</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> i1 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token keyword">let</span> i2 <span class="token operator">=</span> <span class="token number">2</span>

<span class="token keyword">if</span> i1 <span class="token operator">!=</span> i2 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i1 <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> i2 <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"i1 and i2 not equal, and one of them is negative number."</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="æ’ç­‰-x3D-x3D-x3D-x3D-x3D"><a href="#æ’ç­‰-x3D-x3D-x3D-x3D-x3D" class="headerlink" title="æ’ç­‰ &#x3D;&#x3D;&#x3D;, !&#x3D;&#x3D;"></a>æ’ç­‰ &#x3D;&#x3D;&#x3D;, !&#x3D;&#x3D;</h4><p>æ’ç­‰è¿”å›æ˜¯å¦å¼•ç”¨äº†ç›¸åŒå®ä¾‹ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>p <span class="token operator">=</span> p
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> c1 <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> c2 <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> c3 <span class="token operator">=</span> c1

<span class="token function">print</span><span class="token punctuation">(</span>c1 <span class="token operator">===</span> c2<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1 <span class="token operator">===</span> c3<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1 <span class="token operator">!==</span> c2<span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h4><p>ä½è¿ç®—ç¬¦</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> i1<span class="token punctuation">:</span> <span class="token class-name">UInt8</span> <span class="token operator">=</span> <span class="token number">0b00001111</span>
<span class="token keyword">let</span> i2 <span class="token operator">=</span> <span class="token operator">~</span>i1 <span class="token comment">// Bitwise NOT Operatorï¼ˆæŒ‰ä½å–åè¿ç®—ç¬¦ï¼‰ï¼Œå–å</span>

<span class="token keyword">let</span> i3<span class="token punctuation">:</span> <span class="token class-name">UInt8</span> <span class="token operator">=</span> <span class="token number">0b00111111</span>
<span class="token keyword">let</span> i4 <span class="token operator">=</span> i1 <span class="token operator">&amp;</span> i3 <span class="token comment">// Bitwise AND Operatorï¼ˆæŒ‰ä½ä¸è¿ç®—ç¬¦ï¼‰ï¼Œéƒ½ä¸º1æ‰æ˜¯1</span>
<span class="token keyword">let</span> i5 <span class="token operator">=</span> i1 <span class="token operator">|</span> i3 <span class="token comment">// Bitwise OR Operatorï¼ˆæŒ‰ä½æˆ–è¿ç®—ç¬¦ï¼‰ï¼Œæœ‰ä¸€ä¸ª1å°±æ˜¯1</span>
<span class="token keyword">let</span> i6 <span class="token operator">=</span> i1 <span class="token operator">^</span> i3 <span class="token comment">// Bitwise XOR Operatorï¼ˆæŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ï¼‰ï¼Œä¸åŒä¸º1ï¼Œç›¸åŒä¸º0</span>

<span class="token function">print</span><span class="token punctuation">(</span>i1<span class="token punctuation">,</span>i2<span class="token punctuation">,</span>i3<span class="token punctuation">,</span>i4<span class="token punctuation">,</span>i5<span class="token punctuation">,</span>i6<span class="token punctuation">)</span>

<span class="token comment">// &lt;&lt; æŒ‰ä½å·¦ç§»ï¼Œ>> æŒ‰ä½å³ç§»</span>
<span class="token keyword">let</span> i7 <span class="token operator">=</span> i1 <span class="token operator">&lt;&lt;</span> <span class="token number">1</span>
<span class="token keyword">let</span> i8 <span class="token operator">=</span> i1 <span class="token operator">>></span> <span class="token number">2</span>
<span class="token function">print</span><span class="token punctuation">(</span>i7<span class="token punctuation">,</span>i8<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æº¢å‡ºè¿ç®—ç¬¦ï¼Œæœ‰ &amp;+ã€&amp;- å’Œ &amp;*</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> i1 <span class="token operator">=</span> <span class="token class-name">Int</span><span class="token punctuation">.</span>max
<span class="token function">print</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span> <span class="token comment">// 9223372036854775807</span>
i1 <span class="token operator">=</span> i1 <span class="token operator">&amp;+</span> <span class="token number">1</span>
<span class="token function">print</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span> <span class="token comment">// -9223372036854775808</span>
i1 <span class="token operator">=</span> i1 <span class="token operator">&amp;+</span> <span class="token number">10</span>
<span class="token function">print</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span> <span class="token comment">// -9223372036854775798</span>

<span class="token keyword">var</span> i2 <span class="token operator">=</span> <span class="token class-name">UInt</span><span class="token punctuation">.</span>max
i2 <span class="token operator">=</span> i2 <span class="token operator">&amp;+</span> <span class="token number">1</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿ç®—ç¬¦å‡½æ•°åŒ…æ‹¬å‰ç¼€è¿ç®—ç¬¦ã€åç¼€è¿ç®—ç¬¦ã€å¤åˆèµ‹å€¼è¿ç®—ç¬¦ä»¥åŠç­‰ä»·è¿ç®—ç¬¦ã€‚å¦ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰è¿ç®—ç¬¦ï¼Œæ–°çš„è¿ç®—ç¬¦è¦ç”¨ operator å…³é”®å­—è¿›è¡Œå®šä¹‰ï¼ŒåŒæ—¶è¦æŒ‡å®š prefixã€infix æˆ–è€… postfix ä¿®é¥°ç¬¦ã€‚</p>
<h3 id="åŸºç¡€åº“"><a href="#åŸºç¡€åº“" class="headerlink" title="åŸºç¡€åº“"></a>åŸºç¡€åº“</h3><h4 id="æ—¶é—´"><a href="#æ—¶é—´" class="headerlink" title="æ—¶é—´"></a>æ—¶é—´</h4><p>Date çš„åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// Date è½¬ æ—¶é—´æˆ³</span>
<span class="token keyword">let</span> interval <span class="token operator">=</span> now<span class="token punctuation">.</span>timeIntervalSince1970 <span class="token comment">// æ—¶é—´æˆ³</span>
<span class="token keyword">let</span> df <span class="token operator">=</span> <span class="token class-name">DateFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>dateFormat <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"yyyy å¹´ MM æœˆ dd æ—¥ HH:mm:ss"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ—¶é—´æˆ³ï¼š</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">Int</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span> <span class="token comment">// æ—¶é—´æˆ³ï¼š1642399901</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ ¼å¼åŒ–çš„æ—¶é—´ï¼š"</span></span> <span class="token operator">+</span> df<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> now<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// æ ¼å¼åŒ–çš„æ—¶é—´ï¼š2022 å¹´ 01 æœˆ 17 æ—¥ 14:11:41</span>
df<span class="token punctuation">.</span>dateStyle <span class="token operator">=</span> <span class="token punctuation">.</span>short
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"short æ ·å¼æ—¶é—´ï¼š"</span></span> <span class="token operator">+</span> df<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> now<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// short æ ·å¼æ—¶é—´ï¼š2022/1/17</span>
df<span class="token punctuation">.</span>locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"zh_Hans_CN"</span></span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>dateStyle <span class="token operator">=</span> <span class="token punctuation">.</span>full
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"full æ ·å¼æ—¶é—´ï¼š"</span></span> <span class="token operator">+</span> df<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> now<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// full æ ·å¼æ—¶é—´ï¼š2022å¹´1æœˆ17æ—¥ æ˜ŸæœŸä¸€</span>

<span class="token comment">// æ—¶é—´æˆ³è½¬ Date</span>
<span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>timeIntervalSince1970<span class="token punctuation">:</span> interval<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token comment">// 2022-01-17 06:11:41 +0000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>å¤æ‚çš„æ—¶é—´æ“ä½œï¼Œæ¯”å¦‚è¯´ GitHub æ¥å£ä½¿ç”¨çš„æ˜¯ ISO æ ‡å‡†ï¼ŒRSS è¾“å‡ºçš„æ˜¯ RSS æ ‡å‡†å­—ç¬¦ä¸²ï¼Œä¸åŒæ ‡å‡†å¯¹åº”ä¸åŒæ—¶åŒºçš„æ—¶é—´è®¡ç®—å¤„ç†ï¼Œå¯ä»¥ä½¿ç”¨å¼€æºåº“  <a target="_blank" rel="noopener" href="https://github.com/malcommac/SwiftDate">SwiftDate</a>  æ¥å®Œæˆã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">SwiftDate</span>

<span class="token comment">// ä½¿ç”¨ SwiftDate åº“</span>
<span class="token keyword">let</span> cn <span class="token operator">=</span> <span class="token class-name">Region</span><span class="token punctuation">(</span>zone<span class="token punctuation">:</span> <span class="token class-name">Zones</span><span class="token punctuation">.</span>asiaShanghai<span class="token punctuation">,</span> locale<span class="token punctuation">:</span> <span class="token class-name">Locales</span><span class="token punctuation">.</span>chineseChina<span class="token punctuation">)</span>
<span class="token class-name">SwiftDate</span><span class="token punctuation">.</span>defaultRegion <span class="token operator">=</span> cn
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"2008-02-14 23:12:14"</span></span><span class="token punctuation">.</span><span class="token function">toDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>year <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span> <span class="token comment">// 2008</span>

<span class="token keyword">let</span> d1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"2022-01-17T23:20:35"</span></span><span class="token punctuation">.</span><span class="token function">toISODate</span><span class="token punctuation">(</span>region<span class="token punctuation">:</span> cn<span class="token punctuation">)</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> d1 <span class="token operator">=</span> d1 <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>d1<span class="token punctuation">.</span>minute<span class="token punctuation">)</span> <span class="token comment">// 20</span>
<span class="token keyword">let</span> d2 <span class="token operator">=</span> d1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">.</span>minutes
<span class="token function">print</span><span class="token punctuation">(</span>d2<span class="token punctuation">.</span>minute<span class="token punctuation">)</span>

<span class="token comment">// ä¸¤ä¸ª DateInRegion ç›¸å·®æ—¶é—´ interval</span>
<span class="token keyword">let</span> i1 <span class="token operator">=</span> <span class="token class-name">DateInRegion</span><span class="token punctuation">(</span><span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> region<span class="token punctuation">:</span> cn<span class="token punctuation">)</span> <span class="token operator">-</span> d1
<span class="token keyword">let</span> s1 <span class="token operator">=</span> i1<span class="token punctuation">.</span>toString <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>maximumUnitCount <span class="token operator">=</span> <span class="token number">4</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>allowedUnits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>day<span class="token punctuation">,</span> <span class="token punctuation">.</span>hour<span class="token punctuation">,</span> <span class="token punctuation">.</span>minute<span class="token punctuation">]</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>collapsesLargestUnit <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>unitsStyle <span class="token operator">=</span> <span class="token punctuation">.</span>abbreviated
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>locale <span class="token operator">=</span> <span class="token class-name">Locales</span><span class="token punctuation">.</span>chineseChina
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment">// 9å°æ—¶45åˆ†é’Ÿ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="æ ¼å¼åŒ–"><a href="#æ ¼å¼åŒ–" class="headerlink" title="æ ¼å¼åŒ–"></a>æ ¼å¼åŒ–</h4><p>ä½¿ç”¨æ ‡å‡†åº“çš„æ ¼å¼æ¥æè¿°ä¸åŒåœºæ™¯çš„æƒ…å†µå¯ä»¥ä¸ç”¨å»è€ƒè™‘ç”±äºä¸åŒåœ°åŒºçš„åŒºåˆ«ï¼Œè¿™äº›åœ¨æ ‡å‡†åº“é‡Œå°±å¯ä»¥è‡ªåŠ¨å®Œæˆäº†ã€‚</p>
<p>æè¿°ä¸¤ä¸ªæ—¶é—´ä¹‹é—´ç›¸å·®å¤šé•¿æ—¶é—´</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// è®¡ç®—ä¸¤ä¸ªæ—¶é—´ä¹‹é—´ç›¸å·®å¤šå°‘æ—¶é—´ï¼Œæ”¯æŒå¤šç§è¯­è¨€å­—ç¬¦ä¸²</span>
<span class="token keyword">let</span> d1 <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>timeIntervalSince1970 <span class="token operator">-</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span>
<span class="token keyword">let</span> f1 <span class="token operator">=</span> <span class="token class-name">RelativeDateTimeFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
f1<span class="token punctuation">.</span>dateTimeStyle <span class="token operator">=</span> <span class="token punctuation">.</span>named
f1<span class="token punctuation">.</span>formattingContext <span class="token operator">=</span> <span class="token punctuation">.</span>beginningOfSentence
f1<span class="token punctuation">.</span>locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"zh_Hans_CN"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> f1<span class="token punctuation">.</span><span class="token function">localizedString</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>timeIntervalSince1970<span class="token punctuation">:</span> d1<span class="token punctuation">)</span><span class="token punctuation">,</span> relativeTo<span class="token punctuation">:</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// æ˜¨å¤©</span>

<span class="token comment">// ç®€å†™</span>
<span class="token keyword">let</span> str2 <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span>now<span class="token punctuation">.</span><span class="token function">addingTimeInterval</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>presentation<span class="token punctuation">:</span> <span class="token punctuation">.</span>named<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span> <span class="token comment">// yesterday</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>æè¿°å¤šä¸ªäº‹ç‰©</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// æè¿°å¤šä¸ªäº‹ç‰©</span>
<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token class-name">ListFormatter</span><span class="token punctuation">.</span><span class="token function">localizedString</span><span class="token punctuation">(</span>byJoining<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"å†¬å¤©"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"æ˜¥å¤©"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"å¤å¤©"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"ç§‹å¤©"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>


<p>æè¿°åå­—</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// åå­—</span>
<span class="token keyword">let</span> f2 <span class="token operator">=</span> <span class="token class-name">PersonNameComponentsFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> nc1 <span class="token operator">=</span> <span class="token class-name">PersonNameComponents</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
nc1<span class="token punctuation">.</span>familyName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"æˆ´"</span></span>
nc1<span class="token punctuation">.</span>givenName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"é“­"</span></span>
nc1<span class="token punctuation">.</span>nickname <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"é“­å“¥"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// æˆ´é“­</span>
f2<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token punctuation">.</span>short
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// é“­å“¥</span>
f2<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token punctuation">.</span>abbreviated
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// æˆ´</span>

<span class="token keyword">var</span> nc2 <span class="token operator">=</span> <span class="token class-name">PersonNameComponents</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
nc2<span class="token punctuation">.</span>familyName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Dai"</span></span>
nc2<span class="token punctuation">.</span>givenName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Ming"</span></span>
nc2<span class="token punctuation">.</span>nickname <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Starming"</span></span>
f2<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token keyword">default</span>
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Ming Dai</span>
f2<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token punctuation">.</span>short
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Starming</span>
f2<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token punctuation">.</span>abbreviated
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// MD</span>

<span class="token comment">// å–å‡ºå</span>
<span class="token keyword">let</span> componets <span class="token operator">=</span> f2<span class="token punctuation">.</span><span class="token function">personNameComponents</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"æˆ´é“­"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>componets<span class="token operator">?</span><span class="token punctuation">.</span>givenName <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span> <span class="token comment">// é“­</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>æè¿°æ•°å­—</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// æ•°å­—</span>
<span class="token keyword">let</span> f3 <span class="token operator">=</span> <span class="token class-name">NumberFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
f3<span class="token punctuation">.</span>locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"zh_Hans_CN"</span></span><span class="token punctuation">)</span>
f3<span class="token punctuation">.</span>numberStyle <span class="token operator">=</span> <span class="token punctuation">.</span>currency
<span class="token function">print</span><span class="token punctuation">(</span>f3<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token number">123456</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span> <span class="token comment">// Â¥123,456.00</span>
f3<span class="token punctuation">.</span>numberStyle <span class="token operator">=</span> <span class="token punctuation">.</span>percent
<span class="token function">print</span><span class="token punctuation">(</span>f3<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token number">123456</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span> <span class="token comment">// 12,345,600%</span>

<span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">1.23456</span>
<span class="token keyword">let</span> n1Str <span class="token operator">=</span> n1<span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span><span class="token punctuation">.</span>number<span class="token punctuation">.</span><span class="token function">precision</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">fractionLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rounded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>n1Str<span class="token punctuation">)</span> <span class="token comment">// 1.235</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>æè¿°åœ°å€</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// åœ°å€</span>
<span class="token keyword">import</span> <span class="token class-name">Contacts</span>

<span class="token keyword">let</span> f4 <span class="token operator">=</span> <span class="token class-name">CNPostalAddressFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> address <span class="token operator">=</span> <span class="token class-name">CNMutablePostalAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
address<span class="token punctuation">.</span>street <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"æµ·æ·€åŒºç‹åº„è·¯XXå·é™¢Xå·æ¥¼Xé—¨XXX"</span></span>
address<span class="token punctuation">.</span>postalCode <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"100083"</span></span>
address<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"åŒ—äº¬"</span></span>
address<span class="token punctuation">.</span>country <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ä¸­å›½"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>f4<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> address<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">/// æµ·æ·€åŒºç‹åº„è·¯XXå·é™¢Xå·æ¥¼Xé—¨XXX</span>
<span class="token comment">/// åŒ—äº¬ 100083</span>
<span class="token comment">/// ä¸­å›½</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="åº¦é‡å€¼"><a href="#åº¦é‡å€¼" class="headerlink" title="åº¦é‡å€¼"></a>åº¦é‡å€¼</h4><p>æ ‡å‡†åº“é‡Œçš„ç‰©ç†é‡ï¼Œåœ¨è¿™ä¸ªæ–‡æ¡£é‡Œæœ‰è¯¦ç»†åˆ—å‡ºï¼ŒåŒ…æ‹¬è§’åº¦ã€å¹³æ–¹ç±³ç­‰ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å‚è€ƒï¼šhttps://developer.apple.com/documentation/foundation/nsdimension</span>
<span class="token keyword">let</span> m1 <span class="token operator">=</span> <span class="token class-name">Measurement</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> unit<span class="token punctuation">:</span> <span class="token class-name">UnitLength</span><span class="token punctuation">.</span>kilometers<span class="token punctuation">)</span>
<span class="token keyword">let</span> m2 <span class="token operator">=</span> m1<span class="token punctuation">.</span><span class="token function">converted</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token punctuation">.</span>meters<span class="token punctuation">)</span> <span class="token comment">// åƒç±³è½¬ç±³</span>
<span class="token function">print</span><span class="token punctuation">(</span>m2<span class="token punctuation">)</span> <span class="token comment">// 1000.0 m</span>
<span class="token comment">// åº¦é‡å€¼è½¬ä¸ºæœ¬åœ°åŒ–çš„å€¼</span>
<span class="token keyword">let</span> mf <span class="token operator">=</span> <span class="token class-name">MeasurementFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
mf<span class="token punctuation">.</span>locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"zh_Hans_CN"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>mf<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> m1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1å…¬é‡Œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸€äº›ç‰©ç†å…¬å¼ä¾›å‚è€ƒï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">é¢ç§¯ &#x3D; é•¿åº¦ Ã— é•¿åº¦
ä½“ç§¯ &#x3D; é•¿åº¦ Ã— é•¿åº¦ Ã— é•¿åº¦ &#x3D; é¢ç§¯ Ã— é•¿åº¦

é€Ÿåº¦&#x3D;é•¿åº¦&#x2F;æ—¶é—´
åŠ é€Ÿåº¦&#x3D;é€Ÿåº¦&#x2F;æ—¶é—´

åŠ› &#x3D; è´¨é‡ Ã— åŠ é€Ÿåº¦
æ‰­çŸ© &#x3D; åŠ› Ã— é•¿åº¦
å‹åŠ› &#x3D; åŠ› &#x2F; é¢ç§¯

å¯†åº¦&#x3D;è´¨é‡ &#x2F; ä½“ç§¯
èƒ½é‡ &#x3D; åŠŸç‡ Ã— æ—¶é—´
ç”µé˜» &#x3D; ç”µå‹ &#x2F; ç”µæµ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h4><p>æ•°æ®å‹ç¼©å’Œè§£å‹</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å¯¹æ•°æ®çš„å‹ç¼©</span>
<span class="token keyword">let</span> d1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"çœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿ"</span></span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>using<span class="token punctuation">:</span> <span class="token punctuation">.</span>utf8<span class="token punctuation">)</span><span class="token operator">!</span> <span class="token keyword">as</span> <span class="token class-name">NSData</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ori </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">d1<span class="token punctuation">.</span>count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> bytes"</span></span><span class="token punctuation">)</span>
<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/// å‹ç¼©ç®—æ³•</span>
    <span class="token comment">/// * lz4</span>
    <span class="token comment">/// * lzma</span>
    <span class="token comment">/// * zlib</span>
    <span class="token comment">/// * lzfse</span>
    <span class="token keyword">let</span> compressed <span class="token operator">=</span> <span class="token keyword">try</span> d1<span class="token punctuation">.</span><span class="token function">compressed</span><span class="token punctuation">(</span>using<span class="token punctuation">:</span> <span class="token punctuation">.</span>zlib<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"comp </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">compressed<span class="token punctuation">.</span>count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> bytes"</span></span><span class="token punctuation">)</span>
    
    <span class="token comment">// å¯¹æ•°æ®è§£å‹</span>
    <span class="token keyword">let</span> decomressed <span class="token operator">=</span> <span class="token keyword">try</span> compressed<span class="token punctuation">.</span><span class="token function">decompressed</span><span class="token punctuation">(</span>using<span class="token punctuation">:</span> <span class="token punctuation">.</span>zlib<span class="token punctuation">)</span>
    <span class="token keyword">let</span> deStr <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">(</span>data<span class="token punctuation">:</span> decomressed <span class="token keyword">as</span> <span class="token class-name">Data</span><span class="token punctuation">,</span> encoding<span class="token punctuation">:</span> <span class="token punctuation">.</span>utf8<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>deStr <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/// ori 297 bytes</span>
<span class="token comment">/// comp 37 bytes</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="æ–‡ä»¶"><a href="#æ–‡ä»¶" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h4><p>æ–‡ä»¶çš„ä¸€äº›åŸºæœ¬æ“ä½œçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> path1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"/Users/mingdai/Downloads/1.html"</span></span>
<span class="token keyword">let</span> path2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"/Users/mingdai/Documents/GitHub/"</span></span>

<span class="token keyword">let</span> u1 <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> path1<span class="token punctuation">)</span>
<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å†™å…¥</span>
    <span class="token keyword">let</span> url1 <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>itemReplacementDirectory<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>userDomainMask<span class="token punctuation">,</span> appropriateFor<span class="token punctuation">:</span> u1<span class="token punctuation">,</span> create<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// ä¿è¯åŸå­æ€§å®‰å…¨ä¿å­˜</span>
    <span class="token function">print</span><span class="token punctuation">(</span>url1<span class="token punctuation">)</span>

    <span class="token comment">// è¯»å–</span>
    <span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token class-name">String</span><span class="token punctuation">(</span>contentsOfFile<span class="token punctuation">:</span> path1<span class="token punctuation">,</span> encoding<span class="token punctuation">:</span> <span class="token punctuation">.</span>utf8<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>

<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token comment">// æ£€æŸ¥è·¯å¾„æ˜¯å¦å¯ç”¨</span>
<span class="token keyword">let</span> u2 <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>fileURLWithPath<span class="token punctuation">:</span>path2<span class="token punctuation">)</span>
<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token keyword">try</span> u2<span class="token punctuation">.</span><span class="token function">resourceValues</span><span class="token punctuation">(</span>forKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>volumeAvailableCapacityForImportantUsageKey<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> capacity <span class="token operator">=</span> values<span class="token punctuation">.</span>volumeAvailableCapacityForImportantUsage <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å¯ç”¨: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">capacity</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸å¯ç”¨"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é”™è¯¯: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">error<span class="token punctuation">.</span>localizedDescription</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ€ä¹ˆéå†å¤šçº§ç›®å½•ç»“æ„ä¸­çš„æ–‡ä»¶å‘¢ï¼Ÿçœ‹ä¸‹é¢çš„ä»£ç çš„å®ç°ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// éå†è·¯å¾„ä¸‹æ‰€æœ‰ç›®å½•</span>
<span class="token keyword">let</span> u3 <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>fileURLWithPath<span class="token punctuation">:</span> <span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span>currentDirectoryPath<span class="token punctuation">)</span>
<span class="token keyword">let</span> fm <span class="token operator">=</span> <span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span>
fm<span class="token punctuation">.</span><span class="token function">enumerator</span><span class="token punctuation">(</span>atPath<span class="token punctuation">:</span> u3<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> path <span class="token keyword">in</span>
    <span class="token keyword">guard</span> <span class="token keyword">let</span> path <span class="token operator">=</span> path <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">String</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>fileURLWithPath<span class="token punctuation">:</span> path<span class="token punctuation">,</span> relativeTo<span class="token punctuation">:</span> u3<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>lastPathComponent<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¯ä»¥ä½¿ç”¨ FileWrapper æ¥åˆ›å»ºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// FileWrapper çš„ä½¿ç”¨</span>
<span class="token comment">// åˆ›å»ºæ–‡ä»¶</span>
<span class="token keyword">let</span> f1 <span class="token operator">=</span> <span class="token class-name">FileWrapper</span><span class="token punctuation">(</span>regularFileWithContents<span class="token punctuation">:</span> <span class="token class-name">Data</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"# ç¬¬ n ä¸ªæ–‡ä»¶\n ## æ ‡é¢˜"</span></span><span class="token punctuation">.</span>utf8<span class="token punctuation">)</span><span class="token punctuation">)</span>
f1<span class="token punctuation">.</span>fileAttributes<span class="token punctuation">[</span><span class="token class-name">FileAttributeKey</span><span class="token punctuation">.</span>creationDate<span class="token punctuation">.</span>rawValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
f1<span class="token punctuation">.</span>fileAttributes<span class="token punctuation">[</span><span class="token class-name">FileAttributeKey</span><span class="token punctuation">.</span>modificationDate<span class="token punctuation">.</span>rawValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// åˆ›å»ºæ–‡ä»¶å¤¹</span>
<span class="token keyword">let</span> folder1 <span class="token operator">=</span> <span class="token class-name">FileWrapper</span><span class="token punctuation">(</span>directoryWithFileWrappers<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string-literal"><span class="token string">"file1.md"</span></span><span class="token punctuation">:</span> f1
<span class="token punctuation">]</span><span class="token punctuation">)</span>
folder1<span class="token punctuation">.</span>fileAttributes<span class="token punctuation">[</span><span class="token class-name">FileAttributeKey</span><span class="token punctuation">.</span>creationDate<span class="token punctuation">.</span>rawValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
folder1<span class="token punctuation">.</span>fileAttributes<span class="token punctuation">[</span><span class="token class-name">FileAttributeKey</span><span class="token punctuation">.</span>modificationDate<span class="token punctuation">.</span>rawValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">try</span> folder1<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>
        to<span class="token punctuation">:</span> <span class="token function">URL</span><span class="token punctuation">(</span>fileURLWithPath<span class="token punctuation">:</span> <span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span>currentDirectoryPath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendingPathComponent</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"NewFolder"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">.</span>atomic<span class="token punctuation">,</span>
        originalContentsURL<span class="token punctuation">:</span> <span class="token nil constant">nil</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span>currentDirectoryPath<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸Šé¢ä»£ç å†™èµ·æ¥æ¯”è¾ƒç¹çï¼Œå¯¹ FileWrapper æ›´å¥½çš„å°è£…å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ã€Š <a target="_blank" rel="noopener" href="https://heberti.com/posts/filewrapper/">A Type-Safe FileWrapper | Heberti Almeida</a> ã€‹ã€‚</p>
<p>æ–‡ä»¶è¯»å†™å¤„ç†å®Œæ•´èƒ½åŠ›å¯ä»¥å‚çœ‹è¿™ä¸ªåº“  <a target="_blank" rel="noopener" href="https://github.com/JohnSundell/Files">GitHub - JohnSundell&#x2F;Files: A nicer way to handle files &amp; folders in Swift</a> </p>
<p>æœ¬åœ°æˆ–è€…ç½‘ç»œä¸Šï¼Œæ¯”å¦‚ç½‘ç›˜å’ŒFTPçš„æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ€æ ·çŸ¥é“èƒ½å¤Ÿè§‚å¯Ÿåˆ°å‘¢ï¼Ÿ</p>
<p>é€šè¿‡ HTTPHeader é‡Œçš„ If-Modified-Sinceã€Last-Modifiedã€If-None-Match å’Œ Etag ç­‰å­—æ®µæ¥åˆ¤æ–­æ–‡ä»¶çš„å˜åŒ–ï¼Œæœ¬åœ°åˆ™æ˜¯ä½¿ç”¨ DispatchSource.makeFileSystemObjectSource æ¥è¿›è¡Œçš„æ–‡ä»¶å˜åŒ–ç›‘å¬ã€‚å¯ä»¥å‚è€ƒ  <a target="_blank" rel="noopener" href="https://github.com/krzysztofzablocki/KZFileWatchers">KZFileWatchers</a>  åº“çš„åšæ³•ã€‚</p>
<h4 id="Scanner"><a href="#Scanner" class="headerlink" title="Scanner"></a>Scanner</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"""
one1,
two2,
three3.
"""</span></span>
<span class="token keyword">let</span> sn1 <span class="token operator">=</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> s1<span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token operator">!</span>sn1<span class="token punctuation">.</span>isAtEnd <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> r1 <span class="token operator">=</span> sn1<span class="token punctuation">.</span><span class="token function">scanUpToCharacters</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token punctuation">.</span>newlines<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span>r1 <span class="token keyword">as</span> <span class="token class-name">String</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/// one1,</span>
<span class="token comment">/// two2,</span>
<span class="token comment">/// three3.</span>

<span class="token comment">// æ‰¾å‡ºæ•°å­—</span>
<span class="token keyword">let</span> sn2 <span class="token operator">=</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> s1<span class="token punctuation">)</span>
sn2<span class="token punctuation">.</span>charactersToBeSkipped <span class="token operator">=</span> <span class="token class-name">CharacterSet</span><span class="token punctuation">.</span>decimalDigits<span class="token punctuation">.</span>inverted <span class="token comment">// ä¸æ˜¯æ•°å­—çš„å°±è·³è¿‡</span>
<span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> <span class="token operator">!</span>sn2<span class="token punctuation">.</span>isAtEnd <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> sn2<span class="token punctuation">.</span><span class="token function">scanInt</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/// 1</span>
<span class="token comment">/// 2</span>
<span class="token comment">/// 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸Šé¢çš„ä»£ç è¿˜ä¸æ˜¯é‚£ä¹ˆ Swiftyï¼Œå¯ä»¥é€šè¿‡ç”¨AnySequenceå’ŒAnyIteratoræ¥åŒ…è£…ä¸‹ï¼Œå°†åºåˆ—ä¸­çš„å…ƒç´ æ¨è¿Ÿåˆ°å®é™…éœ€è¦æ—¶å†æ¥å¤„ç†ï¼Œè¿™æ ·æ€§èƒ½ä¹Ÿä¼šæ›´å¥½äº›ã€‚å…·ä½“å®ç°å¯ä»¥å‚çœ‹ã€Š <a target="_blank" rel="noopener" href="https://www.swiftbysundell.com/articles/string-parsing-in-swift/">String parsing in Swift</a> ã€‹è¿™ç¯‡æ–‡ç« ã€‚</p>
<h4 id="AttributeString"><a href="#AttributeString" class="headerlink" title="AttributeString"></a>AttributeString</h4><p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/251980/150132322-20c5c2d4-6452-4d06-9202-4b93cffd8133.png"></p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> aStrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">AttributedString</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> aStr1 <span class="token operator">=</span> <span class="token class-name">AttributedString</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"""
æ ‡é¢˜
æ­£æ–‡å†…å®¹ï¼Œå…·ä½“æŸ¥çœ‹é“¾æ¥ã€‚
è¿™é‡Œæ‘˜å‡ºç¬¬ä¸€ä¸ªé‡ç‚¹ï¼Œè¿˜è¦å¼ºè°ƒçš„å†…å®¹ã€‚
"""</span></span><span class="token punctuation">)</span>
<span class="token comment">// æ ‡é¢˜</span>
<span class="token keyword">let</span> title <span class="token operator">=</span> aStr1<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"æ ‡é¢˜"</span></span><span class="token punctuation">)</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> title <span class="token operator">=</span> title <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> aStrs
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> c1 <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å¯å¤ç”¨å®¹å™¨</span>
c1<span class="token punctuation">.</span>inlinePresentationIntent <span class="token operator">=</span> <span class="token punctuation">.</span>stronglyEmphasized
c1<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token punctuation">.</span>largeTitle
aStr1<span class="token punctuation">[</span>title<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span>

<span class="token comment">// é“¾æ¥</span>
<span class="token keyword">let</span> link <span class="token operator">=</span> aStr1<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"é“¾æ¥"</span></span><span class="token punctuation">)</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> link <span class="token operator">=</span> link <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> aStrs
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> c2 <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// é“¾æ¥</span>
c2<span class="token punctuation">.</span>strokeColor <span class="token operator">=</span> <span class="token punctuation">.</span>blue
c2<span class="token punctuation">.</span>link <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://ming1016.github.io/"</span></span><span class="token punctuation">)</span>
aStr1<span class="token punctuation">[</span>link<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>c2<span class="token punctuation">.</span><span class="token function">merging</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// åˆå¹¶ AttributeContainer</span>

<span class="token comment">// Runs</span>
<span class="token keyword">let</span> i1 <span class="token operator">=</span> aStr1<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"é‡ç‚¹"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> i2 <span class="token operator">=</span> aStr1<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"å¼ºè°ƒ"</span></span><span class="token punctuation">)</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> i1 <span class="token operator">=</span> i1<span class="token punctuation">,</span> <span class="token keyword">let</span> i2 <span class="token operator">=</span> i2 <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> aStrs
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> c3 <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
c3<span class="token punctuation">.</span>foregroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>yellow
c3<span class="token punctuation">.</span>inlinePresentationIntent <span class="token operator">=</span> <span class="token punctuation">.</span>stronglyEmphasized
aStr1<span class="token punctuation">[</span>i1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span>
aStr1<span class="token punctuation">[</span>i2<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span>

<span class="token keyword">for</span> r <span class="token keyword">in</span> aStr1<span class="token punctuation">.</span>runs <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"-------------"</span></span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>attributes<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

aStrs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>aStr1<span class="token punctuation">)</span>

<span class="token comment">// Markdown</span>
<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> aStr2 <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token class-name">AttributedString</span><span class="token punctuation">(</span>markdown<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"""
    å†…å®¹[é“¾æ¥](https://ming1016.github.io/)ã€‚éœ€è¦**å¼ºè°ƒ**çš„å†…å®¹ã€‚
    """</span></span><span class="token punctuation">)</span>
    
    aStrs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>aStr2<span class="token punctuation">)</span>
    
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>SwiftUI çš„ Text å¯ä»¥ç›´æ¥è¯»å– AttributedString æ¥è¿›è¡Œæ˜¾ç¤ºã€‚</p>
<h4 id="éšæœº"><a href="#éšæœº" class="headerlink" title="éšæœº"></a>éšæœº</h4><p>ç”¨æ³•ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> ri <span class="token operator">=</span> <span class="token class-name">Int</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>ri<span class="token punctuation">)</span> <span class="token comment">// 0åˆ°10éšæœºæ•°</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">randomElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// æ•°ç»„ä¸­éšæœºå–ä¸ªæ•°</span>
<span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">shuffled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// éšæœºæ‰“ä¹±æ•°ç»„é¡ºåº</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="UserDefaults"><a href="#UserDefaults" class="headerlink" title="UserDefaults"></a>UserDefaults</h4><p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token class-name">UDKey</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> k1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"token"</span></span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> ud <span class="token operator">=</span> <span class="token class-name">UserDefaults</span><span class="token punctuation">.</span>standard
ud<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"xxxxxx"</span></span><span class="token punctuation">,</span> forKey<span class="token punctuation">:</span> <span class="token class-name">UDKey</span><span class="token punctuation">.</span>k1<span class="token punctuation">)</span>
<span class="token keyword">let</span> tk <span class="token operator">=</span> ud<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>forKey<span class="token punctuation">:</span> <span class="token class-name">UDKey</span><span class="token punctuation">.</span>k1<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>tk <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="æ¨¡å¼"><a href="#æ¨¡å¼" class="headerlink" title="æ¨¡å¼"></a>æ¨¡å¼</h3><h4 id="å•ä¾‹"><a href="#å•ä¾‹" class="headerlink" title="å•ä¾‹"></a>å•ä¾‹</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> shared <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// é˜²æ­¢å®ä¾‹åˆå§‹åŒ–</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="ç³»ç»ŸåŠè®¾å¤‡"><a href="#ç³»ç»ŸåŠè®¾å¤‡" class="headerlink" title="ç³»ç»ŸåŠè®¾å¤‡"></a>ç³»ç»ŸåŠè®¾å¤‡</h3><h4 id="ç³»ç»Ÿåˆ¤æ–­"><a href="#ç³»ç»Ÿåˆ¤æ–­" class="headerlink" title="ç³»ç»Ÿåˆ¤æ–­"></a>ç³»ç»Ÿåˆ¤æ–­</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token directive property"><span class="token directive-name">#if</span> os<span class="token punctuation">(</span>tvOS<span class="token punctuation">)</span></span>
     <span class="token comment">// do something in tvOS</span>
<span class="token directive property"><span class="token directive-name">#elseif</span> os<span class="token punctuation">(</span>iOS<span class="token punctuation">)</span></span>
     <span class="token comment">// do somthing in iOS</span>
<span class="token directive property"><span class="token directive-name">#elseif</span> os<span class="token punctuation">(</span>macOS<span class="token punctuation">)</span></span>
    <span class="token comment">// do somthing in macOS</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="ç‰ˆæœ¬å…¼å®¹"><a href="#ç‰ˆæœ¬å…¼å®¹" class="headerlink" title="ç‰ˆæœ¬å…¼å®¹"></a>ç‰ˆæœ¬å…¼å®¹</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// ç‰ˆæœ¬</span>
<span class="token attribute atrule">@available</span><span class="token punctuation">(</span>iOS <span class="token number">15</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token comment">// ç‰ˆæœ¬æ£€æŸ¥</span>
<span class="token keyword">if</span> <span class="token other-directive property">#available</span><span class="token punctuation">(</span>iOS <span class="token number">15</span><span class="token punctuation">,</span> macOS <span class="token number">12</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// nothing happen</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="canImport-åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨"><a href="#canImport-åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨" class="headerlink" title="canImport åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨"></a>canImport åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token directive property"><span class="token directive-name">#if</span> canImport<span class="token punctuation">(</span>SpriteKit<span class="token punctuation">)</span></span>
   <span class="token comment">// iOS ç­‰è‹¹æœç³»ç»Ÿæ‰§è¡Œ</span>
<span class="token directive property"><span class="token directive-name">#else</span></span>
   <span class="token comment">// éè‹¹æœç³»ç»Ÿ</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="targetEnvironment-ç¯å¢ƒçš„åˆ¤æ–­"><a href="#targetEnvironment-ç¯å¢ƒçš„åˆ¤æ–­" class="headerlink" title="targetEnvironment ç¯å¢ƒçš„åˆ¤æ–­"></a>targetEnvironment ç¯å¢ƒçš„åˆ¤æ–­</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token directive property"><span class="token directive-name">#if</span> targetEnvironment<span class="token punctuation">(</span>simulator<span class="token punctuation">)</span></span>
   <span class="token comment">// æ¨¡æ‹Ÿå™¨</span>
<span class="token directive property"><span class="token directive-name">#else</span></span>
   <span class="token comment">// çœŸæœº</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="è‡ªå¸¦å±æ€§åŒ…è£…"><a href="#è‡ªå¸¦å±æ€§åŒ…è£…" class="headerlink" title="è‡ªå¸¦å±æ€§åŒ…è£…"></a>è‡ªå¸¦å±æ€§åŒ…è£…</h3><h4 id="resultBuilder"><a href="#resultBuilder" class="headerlink" title="@resultBuilder"></a>@resultBuilder</h4><p>ç»“æœç”Ÿæˆå™¨ï¼ˆResult buildersï¼‰ï¼Œé€šè¿‡ä¼ é€’åºåˆ—åˆ›å»ºæ–°å€¼ï¼ŒSwiftUIå°±æ˜¯ä½¿ç”¨çš„ç»“æœç”Ÿæˆå™¨å°†å¤šä¸ªè§†å›¾ç”Ÿæˆä¸€ä¸ªè§†å›¾</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token attribute atrule">@resultBuilder</span>
<span class="token keyword">struct</span> <span class="token constant">RBS</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// åŸºæœ¬é—­åŒ…æ”¯æŒ</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">buildBlock</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> components<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        components<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> partialResult<span class="token punctuation">,</span> i <span class="token keyword">in</span>
            partialResult <span class="token operator">+</span> i
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// æ”¯æŒæ¡ä»¶åˆ¤æ–­</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">buildEither</span><span class="token punctuation">(</span>first component<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        component
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">buildEither</span><span class="token punctuation">(</span>second component<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        component
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// æ”¯æŒå¾ªç¯</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">buildArray</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> components<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        components<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> partialResult<span class="token punctuation">,</span> i <span class="token keyword">in</span>
            partialResult <span class="token operator">+</span> i
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token constant">RBS</span><span class="token punctuation">.</span><span class="token function">buildBlock</span><span class="token punctuation">(</span>
    <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token number">3</span>
<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 6</span>

<span class="token comment">// åº”ç”¨åˆ°å‡½æ•°ä¸­</span>
<span class="token attribute atrule">@RBS</span> <span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
    <span class="token number">1</span>
    <span class="token number">2</span>
    <span class="token number">3</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>

<span class="token comment">// è®¾ç½®äº† buildEither å°±å¯ä»¥åœ¨é—­åŒ…ä¸­è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚</span>
<span class="token attribute atrule">@RBS</span> <span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>stopAtThree<span class="token punctuation">:</span> <span class="token class-name">Bool</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
    <span class="token number">1</span>
    <span class="token number">2</span>
    <span class="token number">3</span>
    <span class="token keyword">if</span> stopAtThree <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token punctuation">&#123;</span>
        <span class="token number">0</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token number">4</span>
        <span class="token number">5</span>
        <span class="token number">6</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f2</span><span class="token punctuation">(</span>stopAtThree<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 21</span>

<span class="token comment">// è®¾ç½®äº† buildArray å°±å¯ä»¥åœ¨é—­åŒ…å†…ä½¿ç”¨å¾ªç¯äº†</span>
<span class="token attribute atrule">@RBS</span> <span class="token keyword">func</span> <span class="token function-definition function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">3</span> <span class="token punctuation">&#123;</span>
        i <span class="token operator">*</span> <span class="token number">2</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 12</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="dynamicMemberLookup-åŠ¨æ€æˆå‘˜æŸ¥è¯¢"><a href="#dynamicMemberLookup-åŠ¨æ€æˆå‘˜æŸ¥è¯¢" class="headerlink" title="@dynamicMemberLookup åŠ¨æ€æˆå‘˜æŸ¥è¯¢"></a>@dynamicMemberLookup åŠ¨æ€æˆå‘˜æŸ¥è¯¢</h4><p>@dynamicMemberLookup æŒ‡ç¤ºè®¿é—®å±æ€§æ—¶è°ƒç”¨ä¸€ä¸ªå·²å®ç°çš„å¤„ç†åŠ¨æ€æŸ¥æ‰¾çš„ä¸‹æ ‡æ–¹æ³• subscript(dynamicMemeber:)ï¼Œé€šè¿‡æŒ‡å®šå±æ€§å­—ç¬¦ä¸²åè¿”å›å€¼ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token attribute atrule">@dynamicMemberLookup</span>
<span class="token keyword">struct</span> <span class="token class-name">D</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// æ‰¾å­—ç¬¦ä¸²</span>
    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember m<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"first"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"second"</span></span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> p<span class="token punctuation">[</span>m<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// æ‰¾æ•´å‹</span>
    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember m<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> p<span class="token punctuation">[</span>m<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// æ‰¾é—­åŒ…</span>
    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember m<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">(</span><span class="token omit keyword">_</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"show </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token short-argument">$0</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// é™æ€æ•°ç»„æˆå‘˜</span>
    <span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"This is a member"</span></span><span class="token punctuation">]</span>
    <span class="token comment">// åŠ¨æ€æ•°ç»„æˆå‘˜</span>
    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember m<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"This is a dynamic member"</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token class-name">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s1<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> d<span class="token punctuation">.</span>one
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment">// first</span>
<span class="token keyword">let</span> i1<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> d<span class="token punctuation">.</span>one
<span class="token function">print</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span> <span class="token comment">// 1</span>
d<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"something"</span></span><span class="token punctuation">)</span> <span class="token comment">// show something</span>
<span class="token function">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>p<span class="token punctuation">)</span> <span class="token comment">// ["This is a member"]</span>
<span class="token keyword">let</span> dynamicP<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">.</span>dp
<span class="token function">print</span><span class="token punctuation">(</span>dynamicP<span class="token punctuation">)</span> <span class="token comment">// ["This is a dynamic member"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç±»ä½¿ç”¨ @dynamicMemberLookupï¼Œç»§æ‰¿çš„ç±»ä¹Ÿä¼šè‡ªåŠ¨åŠ ä¸Š @dynamicMemberLookupã€‚åè®®ä¸Šå®šä¹‰ @dynamicMemberLookupï¼Œé€šè¿‡æ‰©å±•å¯ä»¥é»˜è®¤å®ç° subscript(dynamicMember:) æ–¹æ³•ã€‚</p>
<h4 id="dynamicCallable-åŠ¨æ€å¯è°ƒç”¨ç±»å‹"><a href="#dynamicCallable-åŠ¨æ€å¯è°ƒç”¨ç±»å‹" class="headerlink" title="@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹"></a>@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹</h4><p>@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹ã€‚é€šè¿‡å®ç° dynamicallyCall æ–¹æ³•æ¥å®šä¹‰å˜å‚çš„å¤„ç†ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token attribute atrule">@dynamicCallable</span>
<span class="token keyword">struct</span> <span class="token class-name">D</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å¸¦å‚æ•°è¯´æ˜</span>
    <span class="token keyword">func</span> <span class="token function-definition function">dynamicallyCall</span><span class="token punctuation">(</span>withKeywordArguments args<span class="token punctuation">:</span> <span class="token class-name">KeyValuePairs</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Int</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> firstArg <span class="token operator">=</span> args<span class="token punctuation">.</span>first<span class="token operator">?</span><span class="token punctuation">.</span>value <span class="token operator">??</span> <span class="token number">0</span>
        <span class="token keyword">return</span> firstArg <span class="token operator">*</span> <span class="token number">2</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// æ— å‚æ•°è¯´æ˜</span>
    <span class="token keyword">func</span> <span class="token function-definition function">dynamicallyCall</span><span class="token punctuation">(</span>withArguments args<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> firstArg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
        <span class="token keyword">if</span> args<span class="token punctuation">.</span>count <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>
            firstArg <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"show </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">firstArg</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token class-name">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token function">d</span><span class="token punctuation">(</span>numberIs<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// 4</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// show hi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="è‡ªå¸¦åè®®"><a href="#è‡ªå¸¦åè®®" class="headerlink" title="è‡ªå¸¦åè®®"></a>è‡ªå¸¦åè®®</h3><h4 id="Hashable"><a href="#Hashable" class="headerlink" title="Hashable"></a>Hashable</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">H</span><span class="token punctuation">:</span> <span class="token class-name">Hashable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    
    <span class="token comment">// æä¾›éšæœº seed</span>
    <span class="token keyword">func</span> <span class="token function-definition function">hash</span><span class="token punctuation">(</span>into hasher<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">Hasher</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        hasher<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> h1 <span class="token operator">=</span> <span class="token class-name">H</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> h2 <span class="token operator">=</span> <span class="token class-name">H</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> hs1 <span class="token operator">=</span> <span class="token class-name">Hasher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
hs1<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>h1<span class="token punctuation">)</span>
hs1<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>h2<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span>hashValue<span class="token punctuation">)</span> <span class="token comment">// 7417088153212460033 éšæœºå€¼</span>
<span class="token function">print</span><span class="token punctuation">(</span>h2<span class="token punctuation">.</span>hashValue<span class="token punctuation">)</span> <span class="token comment">// -6972912482785541972 éšæœºå€¼</span>
<span class="token function">print</span><span class="token punctuation">(</span>hs1<span class="token punctuation">.</span><span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 7955861102637572758 éšæœºå€¼</span>
<span class="token function">print</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span>hashValue<span class="token punctuation">)</span> <span class="token comment">// 7417088153212460033 å’Œå‰é¢ h1 ä¸€æ ·</span>

<span class="token keyword">let</span> h3 <span class="token operator">=</span> <span class="token class-name">H</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>h3<span class="token punctuation">.</span>hashValue<span class="token punctuation">)</span> <span class="token comment">// 7417088153212460033 å’Œå‰é¢ h1 ä¸€æ ·</span>
<span class="token keyword">var</span> hs2 <span class="token operator">=</span> <span class="token class-name">Hasher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
hs2<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>h3<span class="token punctuation">)</span>
hs2<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>h2<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>hs2<span class="token punctuation">.</span><span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 7955861102637572758 å’Œå‰é¢ hs1 ä¸€æ ·</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åº”ç”¨ç”Ÿå‘½å‘¨æœŸå†…ï¼Œè°ƒç”¨ combine() æ·»åŠ ç›¸åŒå±æ€§å“ˆå¸Œå€¼ç›¸åŒï¼Œç”±äº Hasher æ¯æ¬¡éƒ½ä¼šä½¿ç”¨éšæœºçš„ seedï¼Œå› æ­¤ä¸åŒåº”ç”¨ç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯ä¸‹æ¬¡å¯åŠ¨çš„å“ˆå¸Œå€¼ï¼Œå°±ä¼šå’Œä¸Šæ¬¡çš„å“ˆå¸Œå€¼ä¸åŒã€‚</p>
<h3 id="Codable"><a href="#Codable" class="headerlink" title="Codable"></a>Codable</h3><h4 id="JSON-æ²¡æœ‰-id-å­—æ®µ"><a href="#JSON-æ²¡æœ‰-id-å­—æ®µ" class="headerlink" title="JSON æ²¡æœ‰ id å­—æ®µ"></a>JSON æ²¡æœ‰ id å­—æ®µ</h4><p>å¦‚æœSwiftUIè¦æ±‚æ•°æ®Modeléƒ½æ˜¯éµå¾ªIdentifiableåè®®çš„ï¼Œè€Œæœ‰çš„jsonæ²¡æœ‰idè¿™ä¸ªå­—æ®µï¼Œå¯ä»¥ä½¿ç”¨æ‰©å±•structçš„æ–¹å¼è§£å†³ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">CommitModel</span><span class="token punctuation">:</span> <span class="token class-name">Decodable</span><span class="token punctuation">,</span> <span class="token class-name">Hashable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> sha<span class="token punctuation">:</span> <span class="token class-name">String</span>
  <span class="token keyword">var</span> author<span class="token punctuation">:</span> <span class="token class-name">AuthorModel</span>
  <span class="token keyword">var</span> commit<span class="token punctuation">:</span> <span class="token class-name">CommitModel</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">extension</span> <span class="token class-name">CommitModel</span><span class="token punctuation">:</span> <span class="token class-name">Identifiable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> sha
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h3><h4 id="ç½‘ç»œçŠ¶æ€æ£€æŸ¥"><a href="#ç½‘ç»œçŠ¶æ€æ£€æŸ¥" class="headerlink" title="ç½‘ç»œçŠ¶æ€æ£€æŸ¥"></a>ç½‘ç»œçŠ¶æ€æ£€æŸ¥</h4><p>é€šè¿‡ Network åº“çš„ NWPathMonitor æ¥æ£€æŸ¥</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>
<span class="token keyword">import</span> <span class="token class-name">Network</span>

<span class="token comment">// ç½‘ç»œçŠ¶æ€æ£€æŸ¥ network state check</span>
<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Nsck</span><span class="token punctuation">:</span> <span class="token class-name">ObservableObject</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> shared <span class="token operator">=</span> <span class="token class-name">Nsck</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token keyword">lazy</span> <span class="token keyword">var</span> pb <span class="token operator">=</span> <span class="token function">mkpb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token attribute atrule">@Published</span> <span class="token keyword">private</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token keyword">var</span> pt<span class="token punctuation">:</span> <span class="token class-name">NWPath</span>
    
    <span class="token keyword">private</span> <span class="token keyword">let</span> monitor<span class="token punctuation">:</span> <span class="token class-name">NWPathMonitor</span>
    <span class="token keyword">private</span> <span class="token keyword">lazy</span> <span class="token keyword">var</span> sj <span class="token operator">=</span> <span class="token class-name">CurrentValueSubject</span><span class="token operator">&lt;</span><span class="token class-name">NWPath</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span>monitor<span class="token punctuation">.</span>currentPath<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">var</span> sb<span class="token punctuation">:</span> <span class="token class-name">AnyCancellable</span><span class="token operator">?</span>
    
    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        monitor <span class="token operator">=</span> <span class="token class-name">NWPathMonitor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        pt <span class="token operator">=</span> monitor<span class="token punctuation">.</span>currentPath
        monitor<span class="token punctuation">.</span>pathUpdateHandler <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">[</span><span class="token keyword">weak</span> <span class="token keyword">self</span><span class="token punctuation">]</span> path <span class="token keyword">in</span>
            <span class="token keyword">self</span><span class="token operator">?</span><span class="token punctuation">.</span>pt <span class="token operator">=</span> path
            <span class="token keyword">self</span><span class="token operator">?</span><span class="token punctuation">.</span>sj<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        monitor<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>queue<span class="token punctuation">:</span> <span class="token class-name">DispatchQueue</span><span class="token punctuation">.</span><span class="token function">global</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">deinit</span> <span class="token punctuation">&#123;</span>
        monitor<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        sj<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> <span class="token punctuation">.</span>finished<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function-definition function">mkpb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">AnyPublisher</span><span class="token operator">&lt;</span><span class="token class-name">NWPath</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> sj<span class="token punctuation">.</span><span class="token function">eraseToAnyPublisher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨æ–¹æ³•</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> sb <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> alertMsg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>

<span class="token class-name">Nsck</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span>pb
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
        <span class="token comment">//</span>
    <span class="token punctuation">&#125;</span> receiveValue<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> path <span class="token keyword">in</span>
        alertMsg <span class="token operator">=</span> path<span class="token punctuation">.</span>debugDescription
        <span class="token keyword">switch</span> path<span class="token punctuation">.</span>status <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>satisfied<span class="token punctuation">:</span>
            alertMsg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>unsatisfied<span class="token punctuation">:</span>
            alertMsg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ğŸ˜±"</span></span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>requiresConnection<span class="token punctuation">:</span>
            alertMsg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ğŸ¥±"</span></span>
        <span class="token attribute atrule">@unknown</span> <span class="token keyword">default</span><span class="token punctuation">:</span>
            alertMsg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ğŸ¤”"</span></span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span> path<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token punctuation">.</span>unsatisfied <span class="token punctuation">&#123;</span>
            <span class="token keyword">switch</span> path<span class="token punctuation">.</span>unsatisfiedReason <span class="token punctuation">&#123;</span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span>notAvailable<span class="token punctuation">:</span>
                alertMsg <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"ç½‘ç»œä¸å¯ç”¨"</span></span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span>cellularDenied<span class="token punctuation">:</span>
                alertMsg <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"èœ‚çªç½‘ä¸å¯ç”¨"</span></span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span>wifiDenied<span class="token punctuation">:</span>
                alertMsg <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"Wifiä¸å¯ç”¨"</span></span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span>localNetworkDenied<span class="token punctuation">:</span>
                alertMsg <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"ç½‘çº¿ä¸å¯ç”¨"</span></span>
            <span class="token attribute atrule">@unknown</span> <span class="token keyword">default</span><span class="token punctuation">:</span>
                alertMsg <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"ç½‘ç»œä¸å¯ç”¨"</span></span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>sb<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h3><h4 id="å¸ƒå±€åŠ¨ç”»"><a href="#å¸ƒå±€åŠ¨ç”»" class="headerlink" title="å¸ƒå±€åŠ¨ç”»"></a>å¸ƒå±€åŠ¨ç”»</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">SwiftUI</span>

<span class="token keyword">struct</span> <span class="token class-name">AnimateLayout</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
 <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> changeLayout<span class="token punctuation">:</span> <span class="token class-name">Bool</span> <span class="token operator">=</span> <span class="token boolean">true</span>
 <span class="token attribute atrule">@Namespace</span> <span class="token keyword">var</span> namespace

 <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
  <span class="token class-name">VStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   <span class="token keyword">if</span> changeLayout <span class="token punctuation">&#123;</span>
    <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span> items <span class="token punctuation">&#125;</span>
   <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span> items <span class="token punctuation">&#125;</span>
   <span class="token punctuation">&#125;</span>
   <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"åˆ‡æ¢å¸ƒå±€"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    withAnimation <span class="token punctuation">&#123;</span> changeLayout<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span>
   <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">&#125;</span>

 <span class="token attribute atrule">@ViewBuilder</span> <span class="token keyword">var</span> items<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
  <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> namespace<span class="token punctuation">)</span>
  <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Two"</span></span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Two"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> namespace<span class="token punctuation">)</span>
  <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Three"</span></span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Three"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> namespace<span class="token punctuation">)</span>
 <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="å®‰å…¨"><a href="#å®‰å…¨" class="headerlink" title="å®‰å…¨"></a>å®‰å…¨</h3><h4 id="Keychain"><a href="#Keychain" class="headerlink" title="Keychain"></a>Keychain</h4><p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> d1 <span class="token operator">=</span> <span class="token class-name">Data</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"keyChain github token"</span></span><span class="token punctuation">.</span>utf8<span class="token punctuation">)</span>
<span class="token keyword">let</span> service <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"access-token"</span></span>
<span class="token keyword">let</span> account <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"github"</span></span>
<span class="token keyword">let</span> q1 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token constant">kSecValueData</span><span class="token punctuation">:</span> d1<span class="token punctuation">,</span>
    <span class="token constant">kSecClass</span><span class="token punctuation">:</span> <span class="token constant">kSecClassGenericPassword</span><span class="token punctuation">,</span>
    <span class="token constant">kSecAttrService</span><span class="token punctuation">:</span> service<span class="token punctuation">,</span>
    <span class="token constant">kSecAttrAccount</span><span class="token punctuation">:</span> account
<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">CFDictionary</span>

<span class="token comment">// æ·»åŠ ä¸€ä¸ª keychain</span>
<span class="token keyword">let</span> status <span class="token operator">=</span> <span class="token class-name">SecItemAdd</span><span class="token punctuation">(</span>q1<span class="token punctuation">,</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span>

<span class="token comment">// å¦‚æœå·²ç»æ·»åŠ è¿‡ä¼šæŠ›å‡º -25299 é”™è¯¯ä»£ç ï¼Œéœ€è¦è°ƒç”¨ SecItemUpdate æ¥è¿›è¡Œæ›´æ–°</span>
<span class="token keyword">if</span> status <span class="token operator">==</span> errSecDuplicateItem <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> q2 <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token constant">kSecClass</span><span class="token punctuation">:</span> <span class="token constant">kSecClassGenericPassword</span><span class="token punctuation">,</span>
        <span class="token constant">kSecAttrService</span><span class="token punctuation">:</span> service<span class="token punctuation">,</span>
        <span class="token constant">kSecAttrAccount</span><span class="token punctuation">:</span> account
    <span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">CFDictionary</span>
    <span class="token keyword">let</span> q3 <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token constant">kSecValueData</span><span class="token punctuation">:</span> d1
    <span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">CFDictionary</span>
    <span class="token class-name">SecItemUpdate</span><span class="token punctuation">(</span>q2<span class="token punctuation">,</span> q3<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// è¯»å–</span>
<span class="token keyword">let</span> q4 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token constant">kSecAttrService</span><span class="token punctuation">:</span> service<span class="token punctuation">,</span>
    <span class="token constant">kSecAttrAccount</span><span class="token punctuation">:</span> account<span class="token punctuation">,</span>
    <span class="token constant">kSecClass</span><span class="token punctuation">:</span> <span class="token constant">kSecClassGenericPassword</span><span class="token punctuation">,</span>
    <span class="token constant">kSecReturnData</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">CFDictionary</span>

<span class="token keyword">var</span> re<span class="token punctuation">:</span> <span class="token class-name">AnyObject</span><span class="token operator">?</span>
<span class="token class-name">SecItemCopyMatching</span><span class="token punctuation">(</span>q4<span class="token punctuation">,</span> <span class="token operator">&amp;</span>re<span class="token punctuation">)</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> reData <span class="token operator">=</span> re <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">Data</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">(</span>decoding<span class="token punctuation">:</span> reData<span class="token punctuation">,</span> <span class="token keyword">as</span><span class="token punctuation">:</span> UTF8<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// keyChain github token</span>

<span class="token comment">// åˆ é™¤</span>
<span class="token keyword">let</span> q5 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token constant">kSecAttrService</span><span class="token punctuation">:</span> service<span class="token punctuation">,</span>
    <span class="token constant">kSecAttrAccount</span><span class="token punctuation">:</span> account<span class="token punctuation">,</span>
    <span class="token constant">kSecClass</span><span class="token punctuation">:</span> <span class="token constant">kSecClassGenericPassword</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">CFDictionary</span>

<span class="token class-name">SecItemDelete</span><span class="token punctuation">(</span>q5<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="å·¥ç¨‹"><a href="#å·¥ç¨‹" class="headerlink" title="å·¥ç¨‹"></a>å·¥ç¨‹</h3><h4 id="ç¨‹åºå…¥å£ç‚¹"><a href="#ç¨‹åºå…¥å£ç‚¹" class="headerlink" title="ç¨‹åºå…¥å£ç‚¹"></a>ç¨‹åºå…¥å£ç‚¹</h4><p>Swift å…è®¸å…¨å±€ç¼–å†™ Swift ä»£ç ï¼Œå®é™…ä¸Š clang ä¼šè‡ªåŠ¨å°†ä»£ç åŒ…è¿›ä¸€ä¸ªæ¨¡æ‹Ÿ C çš„å‡½æ•°ä¸­ã€‚Swift ä¹Ÿèƒ½å¤ŸæŒ‡å®šå…¥å£ç‚¹ï¼Œæ¯”å¦‚ @UIApplicationMain æˆ– @NSApplicationMainï¼ŒUIKit å¯åŠ¨åç”Ÿå‘½å‘¨æœŸç®¡ç†æ˜¯ AppDelegate å’Œ SceneDelegateï¼Œã€Š <a target="_blank" rel="noopener" href="https://www.donnywals.com/understanding-the-ios-13-scene-delegate/">Understanding the iOS 13 Scene Delegate</a> ã€‹è¿™ç¯‡æœ‰è¯¦ç»†ä»‹ç»ã€‚</p>
<p>@UIApplicationMain å’Œ @NSApplicationMain ä¼šè‡ªåŠ¨ç”Ÿæˆå…¥å£ç‚¹ã€‚è¿™äº›å…¥å£ç‚¹éƒ½æ˜¯å¹³å°ç›¸å…³çš„ï¼ŒSwift å‘å±•æ¥çœ‹æ˜¯å¤šå¹³å°çš„ï¼Œè¿™æ ·åœ¨ Swift 5.3 æ—¶å¼•å…¥äº† @mainï¼Œå¯ä»¥æ–¹ä¾¿çš„æŒ‡å®šå…¥å£ç‚¹ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token attribute atrule">@main</span> <span class="token comment">// è¦å®šä¹‰ä¸ªé™æ€çš„ main å‡½æ•°</span>
<span class="token keyword">struct</span> <span class="token class-name">M</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"let's begin"</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p> <a target="_blank" rel="noopener" href="https://github.com/apple/swift-argument-parser">ArgumentParser</a>  åº“ï¼ŒSwift å®˜æ–¹å¼€æºçš„ä¸€ä¸ªå¼€å‘å‘½ä»¤è¡Œå·¥å…·çš„åº“ï¼Œä¹Ÿæ”¯æŒ @mainã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">ArgumentParser</span>

<span class="token attribute atrule">@main</span>
<span class="token keyword">struct</span> <span class="token class-name">C</span><span class="token punctuation">:</span> <span class="token class-name">ParsableCommand</span> <span class="token punctuation">&#123;</span>
  <span class="token attribute atrule">@Argument</span><span class="token punctuation">(</span>help<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Start"</span></span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> phrase<span class="token punctuation">:</span> <span class="token class-name">String</span>
   
  <span class="token keyword">func</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">5</span> <span class="token punctuation">&#123;</span>
      <span class="token function">print</span><span class="token punctuation">(</span>phrase<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h2 id="ä¸“é¢˜"><a href="#ä¸“é¢˜" class="headerlink" title="ä¸“é¢˜"></a>ä¸“é¢˜</h2><h3 id="Swift-é‚£äº›äº‹"><a href="#Swift-é‚£äº›äº‹" class="headerlink" title="Swift é‚£äº›äº‹"></a>Swift é‚£äº›äº‹</h3><h2 id="è¯­æ³•é€ŸæŸ¥-1"><a href="#è¯­æ³•é€ŸæŸ¥-1" class="headerlink" title="è¯­æ³•é€ŸæŸ¥"></a>è¯­æ³•é€ŸæŸ¥</h2><h3 id="åŸºç¡€-1"><a href="#åŸºç¡€-1" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><h4 id="å˜é‡-let-var-1"><a href="#å˜é‡-let-var-1" class="headerlink" title="å˜é‡ let, var"></a>å˜é‡ let, var</h4><p>å˜é‡æ˜¯å¯å˜çš„ï¼Œä½¿ç”¨ var ä¿®é¥°ï¼Œå¸¸é‡æ˜¯ä¸å¯å˜çš„ï¼Œä½¿ç”¨ let ä¿®é¥°ã€‚ç±»ã€ç»“æ„ä½“å’Œæšä¸¾é‡Œçš„å˜é‡æ˜¯å±æ€§ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> v1<span class="token punctuation">:</span><span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"hi"</span></span> <span class="token comment">// æ ‡æ³¨ç±»å‹</span>
<span class="token keyword">var</span> v2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ç±»å‹æ¨å¯¼"</span></span>
<span class="token keyword">let</span> l1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"æ ‡é¢˜"</span></span> <span class="token comment">// å¸¸é‡</span>

<span class="token keyword">class</span> a <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token number">3</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        p1 <span class="token operator">*</span> <span class="token number">3</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å±æ€§æ²¡æœ‰ set å¯ä»¥çœç•¥ getï¼Œå¦‚æœæœ‰ set éœ€åŠ  getã€‚å˜é‡è®¾ç½®å‰é€šè¿‡ willSet è®¿é—®åˆ°ï¼Œå˜é‡è®¾ç½®åé€šè¿‡ didSet è®¿é—®ã€‚</p>
<h4 id="æ‰“å°-print-â€œâ€-1"><a href="#æ‰“å°-print-â€œâ€-1" class="headerlink" title="æ‰“å° print(â€œâ€)"></a>æ‰“å° print(â€œâ€)</h4><p>æ§åˆ¶å°æ‰“å°å€¼</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">14</span>
<span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"9æœˆ</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">æ˜¯å°æŸ æª¬çš„ç”Ÿæ—¥"</span></span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">3</span><span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// output:</span>
<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
<span class="token comment">// 3</span>

<span class="token comment">// ä½¿ç”¨terminatorä½¿å¾ªç¯æ‰“å°æ›´æ•´æ´</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">3</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> "</span></span><span class="token punctuation">,</span> terminator<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// output:</span>
<span class="token comment">// 1 2 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="æ³¨é‡Š-x2F-x2F-1"><a href="#æ³¨é‡Š-x2F-x2F-1" class="headerlink" title="æ³¨é‡Š &#x2F;&#x2F;"></a>æ³¨é‡Š &#x2F;&#x2F;</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å•è¡Œæ³¨é‡Š</span>
<span class="token comment">/*
å¤šè¡Œæ³¨é‡Šç¬¬ä¸€è¡Œã€‚
å¤šè¡Œæ³¨é‡Šç¬¬äºŒè¡Œã€‚
*/</span> 
<span class="token comment">// MARK: ä¼šåœ¨ minimap ä¸Šå±•ç¤º</span>
<span class="token comment">// TODO: å¾…åš</span>
<span class="token comment">// FIXME: å¾…ä¿®å¤</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="å¯é€‰-1"><a href="#å¯é€‰-1" class="headerlink" title="å¯é€‰ ?, !"></a>å¯é€‰ ?, !</h4><p>å¯èƒ½ä¼šæ˜¯ nil çš„å˜é‡å°±æ˜¯å¯é€‰å˜é‡ã€‚å½“å˜é‡ä¸º nil é€šè¿‡??æ“ä½œç¬¦å¯ä»¥æä¾›ä¸€ä¸ªé»˜è®¤å€¼ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> o<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token nil constant">nil</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> o <span class="token operator">??</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0345-if-let-shorthand.md">SE-0345 if let shorthand for shadowing an existing optional variable</a> å¼•å…¥çš„æ–°è¯­æ³•ï¼Œç”¨äº unwrapping optinalã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> s1<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"hey"</span></span>
<span class="token keyword">let</span> s2<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"u"</span></span>
<span class="token keyword">if</span> <span class="token keyword">let</span> s1 <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">guard</span> <span class="token keyword">let</span> s1<span class="token punctuation">,</span> <span class="token keyword">let</span> s2 <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1 <span class="token operator">+</span> <span class="token string-literal"><span class="token string">" "</span></span> <span class="token operator">+</span> s2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="é—­åŒ…-1"><a href="#é—­åŒ…-1" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h4><p>é—­åŒ…ä¹Ÿå¯ä»¥å«åš lambdaï¼Œæ˜¯åŒ¿åå‡½æ•°ï¼Œå¯¹åº” OC çš„ blockã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">(</span>l<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> r<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Bool</span> <span class="token keyword">in</span>
    <span class="token keyword">return</span> l <span class="token operator">&lt;</span> r
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token comment">// å¦‚æœé—­åŒ…æ˜¯å”¯ä¸€çš„å‚æ•°å¹¶åœ¨è¡¨è¾¾å¼æœ€åå¯ä»¥ä½¿ç”¨ç»“å°¾é—­åŒ…è¯­æ³•ï¼Œå†™æ³•ç®€åŒ–ä¸º</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sorted <span class="token punctuation">&#123;</span> <span class="token punctuation">(</span>l<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">,</span> r<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Bool</span> <span class="token keyword">in</span>
    <span class="token keyword">return</span> l <span class="token operator">&lt;</span> r
<span class="token punctuation">&#125;</span>
<span class="token comment">// å·²çŸ¥ç±»å‹å¯ä»¥çœç•¥</span>
<span class="token keyword">let</span> a3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sorted <span class="token punctuation">&#123;</span> l<span class="token punctuation">,</span> r <span class="token keyword">in</span>
    <span class="token keyword">return</span> l <span class="token operator">&lt;</span> r
<span class="token punctuation">&#125;</span>
<span class="token comment">// é€šè¿‡ä½ç½®æ¥ä½¿ç”¨é—­åŒ…çš„å‚æ•°ï¼Œæœ€åç®€åŒ–å¦‚ä¸‹ï¼š</span>
<span class="token keyword">let</span> a4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sorted <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span> <span class="token operator">&lt;</span> <span class="token short-argument">$1</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‡½æ•°ä¹Ÿæ˜¯é—­åŒ…çš„ä¸€ç§ï¼Œå‡½æ•°çš„å‚æ•°ä¹Ÿå¯ä»¥æ˜¯é—­åŒ…ã€‚@escaping è¡¨ç¤ºé€ƒé€¸é—­åŒ…ï¼Œé€ƒé€¸é—­åŒ…æ˜¯å¯ä»¥åœ¨å‡½æ•°è¿”å›ä¹‹åç»§ç»­è°ƒç”¨çš„ã€‚@autoclosure è¡¨ç¤ºè‡ªåŠ¨é—­åŒ…ï¼Œå¯ä»¥ç”¨æ¥çœç•¥èŠ±æ‹¬å·ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0326-extending-multi-statement-closure-inference.md">SE-0326</a> æé«˜äº† Swift å¯¹é—­åŒ…ä½¿ç”¨å‚æ•°å’Œç±»å‹æ¨æ–­çš„èƒ½åŠ›ã€‚å¦‚ä¸‹ä»£ç ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> r <span class="token operator">=</span> a<span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
    <span class="token keyword">if</span> i <span class="token operator">>=</span> <span class="token number">2</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> å¤§äºç­‰äº2"</span></span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> å°äº2"</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="å‡½æ•°-func-1"><a href="#å‡½æ•°-func-1" class="headerlink" title="å‡½æ•° func"></a>å‡½æ•° func</h4><p>å‡½æ•°å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›ã€‚å‡½æ•°æ˜¯ç‰¹æ®Šçš„é—­åŒ…ï¼Œåœ¨ç±»ã€ç»“æ„ä½“å’Œæšä¸¾ä¸­æ˜¯æ–¹æ³•ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// ä¸ºå‚æ•°è®¾ç½®é»˜è®¤å€¼</span>
<span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"p"</span></span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token string-literal"><span class="token string">"p is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// å‡½æ•°ä½œä¸ºå‚æ•°</span>
<span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>fn<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span><span class="token punctuation">,</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f2</span><span class="token punctuation">(</span>fn<span class="token punctuation">:</span>f1<span class="token punctuation">,</span> p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"d"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// p is d</span>

<span class="token comment">// å‡½æ•°ä½œä¸ºè¿”å›å€¼</span>
<span class="token keyword">func</span> <span class="token function-definition function">f3</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> f1
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f3</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"yes"</span></span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"no"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// p is no</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼Œå‡½æ•°æ˜¯å¯ä»¥åµŒå¥—çš„ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°é‡Œå†…å¯ä»¥å®šä¹‰å‡½æ•°ï¼Œå‡½æ•°å†…å®šä¹‰çš„å‡½æ•°å¯ä»¥è®¿é—®è‡ªå·±ä½œç”¨åŸŸå¤–å‡½æ•°å†…çš„å˜é‡ã€‚inout è¡¨ç¤ºçš„æ˜¯è¾“å…¥è¾“å‡ºå‚æ•°ï¼Œå‡½æ•°å¯ä»¥åœ¨å‡½æ•°å†…æ”¹å˜è¾“å…¥è¾“å‡ºå‚æ•°ã€‚defer æ ‡è¯†çš„ä»£ç å—ä¼šåœ¨å‡½æ•°è¿”å›ä¹‹å‰æ‰§è¡Œã€‚</p>
<p>å‡½æ•°åœ¨ Swift 5.4 æ—¶å¼€å§‹æœ‰äº†ä½¿ç”¨å¤šä¸ªå˜é‡å‚æ•°çš„èƒ½åŠ›ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">f4</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">...</span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">f4</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment">/// ["one", "two", "three"]</span>
<span class="token comment">/// [1, 2, 3]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åµŒå¥—å‡½æ•°å¯ä»¥é‡è½½ï¼ŒåµŒå¥—å‡½æ•°å¯ä»¥åœ¨å£°æ˜å‡½æ•°ä¹‹å‰è°ƒç”¨ä»–ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">f5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">nf5</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">func</span> <span class="token function-definition function">nf5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"this is nested function"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">f5</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// this is nested function</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="è®¿é—®æ§åˆ¶-1"><a href="#è®¿é—®æ§åˆ¶-1" class="headerlink" title="è®¿é—®æ§åˆ¶"></a>è®¿é—®æ§åˆ¶</h4><p>åœ¨ Xcode é‡Œçš„ target å°±æ˜¯æ¨¡å—ï¼Œä½¿ç”¨ import å¯å¯¼å…¥æ¨¡å—ã€‚æ¨¡å—å†…åŒ…å«æºæ–‡ä»¶ï¼Œæ¯ä¸ªæºæ–‡ä»¶é‡Œå¯ä»¥æœ‰å¤šä¸ªç±»ã€ç»“æ„ä½“ã€æšä¸¾å’Œå‡½æ•°ç­‰å¤šç§ç±»å‹ã€‚è®¿é—®çº§åˆ«å¯ä»¥é€šè¿‡ä¸€äº›å…³é”®å­—æè¿°ï¼Œåˆ†ä¸ºå¦‚ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>openï¼šåœ¨æ¨¡å—å¤–å¯ä»¥è°ƒç”¨å’Œç»§æ‰¿ã€‚</li>
<li>publicï¼šåœ¨æ¨¡å—å¤–å¯è°ƒç”¨ä¸å¯ç»§æ‰¿ï¼Œopen åªé€‚ç”¨ç±»å’Œç±»æˆå‘˜ã€‚</li>
<li>internalï¼šé»˜è®¤çº§åˆ«ï¼Œæ¨¡å—å†…å¯è·¨æºæ–‡ä»¶è°ƒç”¨ï¼Œæ¨¡å—å¤–ä¸å¯è°ƒç”¨ã€‚</li>
<li>fileprivateï¼šåªèƒ½åœ¨æºæ–‡ä»¶å†…è®¿é—®ã€‚</li>
<li>privateï¼šåªèƒ½åœ¨æ‰€åœ¨çš„ä½œç”¨åŸŸå†…è®¿é—®ã€‚</li>
</ul>
<p>é‡å†™ç»§æ‰¿ç±»çš„æˆå‘˜ï¼Œå¯ä»¥è®¾ç½®æˆå‘˜æ¯”çˆ¶ç±»çš„è¿™ä¸ªæˆå‘˜æ›´é«˜çš„è®¿é—®çº§åˆ«ã€‚Setter çš„çº§åˆ«å¯ä»¥ä½äºå¯¹åº”çš„ Getter çš„çº§åˆ«ï¼Œæ¯”å¦‚è®¾ç½® Setter è®¿é—®çº§åˆ«ä¸º privateï¼Œå¯ä»¥åœ¨å±æ€§ä½¿ç”¨ private(set) æ¥ä¿®é¥°ã€‚</p>
<h4 id="Regex"><a href="#Regex" class="headerlink" title="Regex"></a>Regex</h4><p>æ ‡å‡†åº“å¤šäº†ä¸ª <code>Regex&lt;Output&gt;</code> ç±»å‹ï¼ŒRegex è¯­æ³•ä¸ Perlã€Pythonã€Rubyã€Javaã€NSRegularExpression å’Œè®¸å¤šå…¶ä»–è¯­è¨€å…¼å®¹ã€‚å¯ä»¥ç”¨ <code>let regex = try! Regex(&quot;a[bc]+&quot;)</code> æˆ– <code>let regex = /a[bc]+/</code> å†™æ³•æ¥ä½¿ç”¨ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0350-regex-type-overview.md">SE-0350 Regex Type and Overview</a> å¼•å…¥ Regex ç±»å‹ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0351-regex-builder.md">SE-0351 Regex builder DSL</a> ä½¿ç”¨ result builder æ¥æ„å»ºæ­£åˆ™è¡¨è¾¾å¼çš„ DSLã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0354-regex-literals.md">SE-0354 Regex Literals</a> ç®€åŒ–çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0357-regex-string-processing-algorithms.md">SE-0357 Regex-powered string processing algorithms</a> ææ¡ˆé‡Œæœ‰åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„æ–°å­—ç¬¦ä¸²å¤„ç†ç®—æ³•ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/RegexBuilder">RegexBuilder æ–‡æ¡£</a></p>
<p>session <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-110357">Meet Swift Regex</a> ã€<a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-110358">Swift Regex: Beyond the basics</a></p>
<p>Regex ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"I am not a good painter"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">ranges</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token operator">/</span>good<span class="token operator">/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> regGood <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token class-name">Regex</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"[a-z]ood"</span></span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">replacing</span><span class="token punctuation">(</span>regGood<span class="token punctuation">,</span> with<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"bad"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">trimmingPrefix</span><span class="token punctuation">(</span><span class="token operator">/</span>i am <span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">ignoresCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> reg1 <span class="token operator">=</span> <span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">.+?</span><span class="token punctuation">)</span> <span class="token function">read</span> <span class="token punctuation">(</span><span class="token punctuation">\</span>d<span class="token operator">+</span><span class="token punctuation">)</span> books<span class="token operator">./</span>
<span class="token keyword">let</span> reg2 <span class="token operator">=</span> <span class="token operator">/</span><span class="token punctuation">(</span><span class="token operator">?&lt;</span>name<span class="token operator">></span><span class="token operator">.+?</span><span class="token punctuation">)</span> <span class="token function">read</span> <span class="token punctuation">(</span><span class="token operator">?&lt;</span>books<span class="token operator">></span><span class="token punctuation">\</span>d<span class="token operator">+</span><span class="token punctuation">)</span> books<span class="token operator">./</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Jack read 3 books."</span></span>
<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> r1 <span class="token operator">=</span> <span class="token keyword">try</span> reg1<span class="token punctuation">.</span><span class="token function">wholeMatch</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> s2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span>r1<span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token function">print</span><span class="token punctuation">(</span>r1<span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> r2 <span class="token operator">=</span> <span class="token keyword">try</span> reg2<span class="token punctuation">.</span><span class="token function">wholeMatch</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> s2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"name:"</span></span> <span class="token operator">+</span> r2<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"books:"</span></span> <span class="token operator">+</span> r2<span class="token punctuation">.</span>books<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨ regex builders çš„å®˜æ–¹ç¤ºä¾‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// Text to parse:</span>
<span class="token comment">// CREDIT  03/02/2022  Payroll from employer     $200.23</span>
<span class="token comment">// CREDIT  03/03/2022  Suspect A           $2,000,000.00</span>
<span class="token comment">// DEBIT   03/03/2022  Ted's Pet Rock Sanctuary    $2,000,000.00</span>
<span class="token comment">// DEBIT   03/05/2022  Doug's Dugout Dogs      $33.27</span>

<span class="token keyword">import</span> <span class="token class-name">RegexBuilder</span>
<span class="token keyword">let</span> fieldSeparator <span class="token operator">=</span> <span class="token operator">/</span><span class="token punctuation">\</span>s<span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token operator">|</span><span class="token punctuation">\</span>t<span class="token operator">/</span>
<span class="token keyword">let</span> transactionMatcher <span class="token operator">=</span> <span class="token class-name">Regex</span> <span class="token punctuation">&#123;</span>
  <span class="token operator">/</span><span class="token constant">CREDIT</span><span class="token operator">|</span><span class="token constant">DEBIT</span><span class="token operator">/</span>
  fieldSeparator
  <span class="token class-name">One</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">.</span>numeric<span class="token punctuation">,</span> locale<span class="token punctuation">:</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"en_US"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> timeZone<span class="token punctuation">:</span> <span class="token punctuation">.</span>gmt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ğŸ‘ˆğŸ» we define which data locale/timezone we want to use</span>
  fieldSeparator
  <span class="token class-name">OneOrMore</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">NegativeLookahead</span> <span class="token punctuation">&#123;</span> fieldSeparator <span class="token punctuation">&#125;</span> <span class="token comment">// ğŸ‘ˆğŸ» we stop as soon as we see one field separator</span>
    <span class="token class-name">CharacterClass</span><span class="token punctuation">.</span>any
  <span class="token punctuation">&#125;</span>
  fieldSeparator
  <span class="token class-name">One</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">localizedCurrency</span><span class="token punctuation">(</span>code<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"USD"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"en_US"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ•è·æ•°æ®ï¼Œä½¿ç”¨ Captureï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> fieldSeparator <span class="token operator">=</span> <span class="token operator">/</span><span class="token punctuation">\</span>s<span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token operator">|</span><span class="token punctuation">\</span>t<span class="token operator">/</span>
<span class="token keyword">let</span> transactionMatcher <span class="token operator">=</span> <span class="token class-name">Regex</span> <span class="token punctuation">&#123;</span>
  <span class="token class-name">Capture</span> <span class="token punctuation">&#123;</span> <span class="token operator">/</span><span class="token constant">CREDIT</span><span class="token operator">|</span><span class="token constant">DEBIT</span><span class="token operator">/</span> <span class="token punctuation">&#125;</span> <span class="token comment">// ğŸ‘ˆğŸ»</span>
  fieldSeparator

  <span class="token class-name">Capture</span> <span class="token punctuation">&#123;</span> <span class="token class-name">One</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">.</span>numeric<span class="token punctuation">,</span> locale<span class="token punctuation">:</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"en_US"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> timeZone<span class="token punctuation">:</span> <span class="token punctuation">.</span>gmt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span> <span class="token comment">// ğŸ‘ˆğŸ»</span>
  fieldSeparator

  <span class="token class-name">Capture</span> <span class="token punctuation">&#123;</span> <span class="token comment">// ğŸ‘ˆğŸ»</span>
    <span class="token class-name">OneOrMore</span> <span class="token punctuation">&#123;</span>
      <span class="token class-name">NegativeLookahead</span> <span class="token punctuation">&#123;</span> fieldSeparator <span class="token punctuation">&#125;</span>
      <span class="token class-name">CharacterClass</span><span class="token punctuation">.</span>any
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  fieldSeparator
  <span class="token class-name">Capture</span> <span class="token punctuation">&#123;</span> <span class="token class-name">One</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">localizedCurrency</span><span class="token punctuation">(</span>code<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"USD"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"en_US"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span> <span class="token comment">// ğŸ‘ˆğŸ»</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// transactionMatcher: Regex&lt;(Substring, Substring, Date, Substring, Decimal)></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="åŸºç¡€ç±»å‹-1"><a href="#åŸºç¡€ç±»å‹-1" class="headerlink" title="åŸºç¡€ç±»å‹"></a>åŸºç¡€ç±»å‹</h3><h4 id="æ•°å­—-Int-Float-1"><a href="#æ•°å­—-Int-Float-1" class="headerlink" title="æ•°å­— Int, Float"></a>æ•°å­— Int, Float</h4><p>æ•°å­—çš„ç±»å‹æœ‰ Intã€Float å’Œ Double</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// Int</span>
<span class="token keyword">let</span> i1 <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">let</span> i2 <span class="token operator">=</span> <span class="token number">22</span>
<span class="token function">print</span><span class="token punctuation">(</span>i1 <span class="token operator">/</span> i2<span class="token punctuation">)</span> <span class="token comment">// å‘ä¸‹å–æ•´å¾— 4</span>

<span class="token comment">// Float</span>
<span class="token keyword">let</span> f1<span class="token punctuation">:</span> <span class="token class-name">Float</span> <span class="token operator">=</span> <span class="token number">100.0</span>
<span class="token keyword">let</span> f2<span class="token punctuation">:</span> <span class="token class-name">Float</span> <span class="token operator">=</span> <span class="token number">22.0</span>
<span class="token function">print</span><span class="token punctuation">(</span>f1 <span class="token operator">/</span> f2<span class="token punctuation">)</span> <span class="token comment">// 4.5454545</span>

<span class="token keyword">let</span> f3<span class="token punctuation">:</span> <span class="token class-name">Float16</span> <span class="token operator">=</span> <span class="token number">5.0</span> <span class="token comment">// macOS è¿˜ä¸èƒ½ç”¨</span>
<span class="token keyword">let</span> f4<span class="token punctuation">:</span> <span class="token class-name">Float32</span> <span class="token operator">=</span> <span class="token number">5.0</span>
<span class="token keyword">let</span> f5<span class="token punctuation">:</span> <span class="token class-name">Float64</span> <span class="token operator">=</span> <span class="token number">5.0</span>
<span class="token keyword">let</span> f6<span class="token punctuation">:</span> <span class="token class-name">Float80</span> <span class="token operator">=</span> <span class="token number">5.0</span>
<span class="token function">print</span><span class="token punctuation">(</span>f4<span class="token punctuation">,</span> f5<span class="token punctuation">,</span> f6<span class="token punctuation">)</span> <span class="token comment">// 5.0 5.0 5.0</span>

<span class="token comment">// Double</span>
<span class="token keyword">let</span> d1<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">100.0</span>
<span class="token keyword">let</span> d2<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">22.0</span>
<span class="token function">print</span><span class="token punctuation">(</span>d1 <span class="token operator">/</span> d2<span class="token punctuation">)</span> <span class="token comment">// 4.545454545454546</span>

<span class="token comment">// å­—é¢é‡</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">(</span><span class="token number">0b10101</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0b å¼€å¤´æ˜¯äºŒè¿›åˆ¶ </span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">(</span><span class="token number">0x00afff</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0x å¼€å¤´æ˜¯åå…­è¿›åˆ¶</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">2.5e4</span><span class="token punctuation">)</span> <span class="token comment">// 2.5x10^4 åè¿›åˆ¶ç”¨ e</span>
<span class="token function">print</span><span class="token punctuation">(</span>0xAp2<span class="token punctuation">)</span> <span class="token comment">// 10*2^2  åå…­è¿›åˆ¶ç”¨ p</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token number">2_000_000</span><span class="token punctuation">)</span> <span class="token comment">// 2000000</span>

<span class="token comment">// isMultiple(of:) æ–¹æ³•æ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¦æ˜¯å¦ä¸€ä¸ªæ•°å­—çš„å€æ•°</span>
<span class="token keyword">let</span> i3 <span class="token operator">=</span> <span class="token number">36</span>
<span class="token function">print</span><span class="token punctuation">(</span>i3<span class="token punctuation">.</span><span class="token function">isMultiple</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¤„ç†æ•°å­—æœ‰ floorã€ceilã€roundã€‚floor æ˜¯å‘ä¸‹å–æ•´ï¼Œåªå–æ•´æ•°éƒ¨åˆ†ï¼›cell æ˜¯å‘ä¸Šå–æ•´ï¼Œåªè¦æœ‰ä¸ä¸ºé›¶çš„å°æ•°ï¼Œæ•´æ•°å°±åŠ 1;round æ˜¯å››èˆäº”å…¥ã€‚       </p>
<h4 id="å¸ƒå°”æ•°-Bool-1"><a href="#å¸ƒå°”æ•°-Bool-1" class="headerlink" title="å¸ƒå°”æ•° Bool"></a>å¸ƒå°”æ•° Bool</h4><p>å¸ƒå°”æ•°æœ‰ true å’Œ false ä¸¤ç§å€¼ï¼Œè¿˜æœ‰ä¸€ä¸ªèƒ½å¤Ÿåˆ‡æ¢è¿™ä¸¤ä¸ªå€¼çš„ toggle æ–¹æ³•ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token boolean">false</span>
b<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
b<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>


<h4 id="å…ƒç»„-a-b-c-1"><a href="#å…ƒç»„-a-b-c-1" class="headerlink" title="å…ƒç»„ (a, b, c)"></a>å…ƒç»„ (a, b, c)</h4><p>å…ƒç»„é‡Œçš„å€¼ç±»å‹å¯ä»¥æ˜¯ä¸åŒçš„ã€‚å…ƒç»„å¯ä»¥çœ‹æˆæ˜¯åŒ¿åçš„ç»“æ„ä½“ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> t1 <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> p3<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>p1<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span>p3<span class="token punctuation">)</span>

<span class="token comment">// ç±»å‹æ¨å¯¼</span>
<span class="token keyword">let</span> t2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// é€šè¿‡ä¸‹æ ‡è®¿é—®</span>
<span class="token function">print</span><span class="token punctuation">(</span>t2<span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// two</span>

<span class="token comment">// åˆ†è§£å…ƒç»„</span>
<span class="token keyword">let</span> <span class="token punctuation">(</span>dp1<span class="token punctuation">,</span> dp2<span class="token punctuation">,</span> <span class="token omit keyword">_</span><span class="token punctuation">)</span> <span class="token operator">=</span> t2
<span class="token function">print</span><span class="token punctuation">(</span>dp1<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>dp2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="å­—ç¬¦ä¸²-1"><a href="#å­—ç¬¦ä¸²-1" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Hi! This is a string. Cool?"</span></span>

<span class="token comment">/// è½¬ä¹‰ç¬¦ \n è¡¨ç¤ºæ¢è¡Œã€‚</span>
<span class="token comment">/// å…¶å®ƒè½¬ä¹‰å­—ç¬¦æœ‰ \0 ç©ºå­—ç¬¦)ã€\t æ°´å¹³åˆ¶è¡¨ç¬¦ ã€\n æ¢è¡Œç¬¦ã€\r å›è½¦ç¬¦</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Hi!\nThis is a string. Cool?"</span></span>

<span class="token comment">// å¤šè¡Œ</span>
<span class="token keyword">let</span> s3 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"""
Hi!
This is a string.
Cool?
"""</span></span>

<span class="token comment">// é•¿åº¦</span>
<span class="token function">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span>

<span class="token comment">// æ‹¼æ¥</span>
<span class="token function">print</span><span class="token punctuation">(</span>s3 <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"\nSure!"</span></span><span class="token punctuation">)</span>

<span class="token comment">// å­—ç¬¦ä¸²ä¸­æ’å…¥å˜é‡</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Today is good day, double </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">!"</span></span><span class="token punctuation">)</span>

<span class="token comment">/// éå†å­—ç¬¦ä¸²</span>
<span class="token comment">/// è¾“å‡ºï¼š</span>
<span class="token comment">/// o</span>
<span class="token comment">/// n</span>
<span class="token comment">/// e</span>
<span class="token keyword">for</span> c <span class="token keyword">in</span> <span class="token string-literal"><span class="token string">"one"</span></span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// æŸ¥æ‰¾</span>
<span class="token function">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">.</span><span class="token function">lowercased</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"cool"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// æ›¿æ¢</span>
<span class="token keyword">let</span> s4 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"one is two"</span></span>
<span class="token keyword">let</span> newS4 <span class="token operator">=</span> s4<span class="token punctuation">.</span><span class="token function">replacingOccurrences</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> with<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>newS4<span class="token punctuation">)</span>

<span class="token comment">// åˆ é™¤ç©ºæ ¼å’Œæ¢è¡Œ</span>
<span class="token keyword">let</span> s5 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">" Simple line. \n\n  "</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>s5<span class="token punctuation">.</span><span class="token function">trimmingCharacters</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>whitespacesAndNewlines<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// åˆ‡å‰²æˆæ•°ç»„</span>
<span class="token keyword">let</span> s6 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"one/two/three"</span></span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> s6<span class="token punctuation">.</span><span class="token function">components</span><span class="token punctuation">(</span>separatedBy<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"/"</span></span><span class="token punctuation">)</span> <span class="token comment">// ç»§æ‰¿è‡ª NSString çš„æ¥å£</span>
<span class="token function">print</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span> <span class="token comment">// ["one", "two", "three"]</span>

<span class="token keyword">let</span> a2 <span class="token operator">=</span> s6<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>separator<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"/"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// ["one", "two", "three"] å±äºåˆ‡ç‰‡ï¼Œæ€§èƒ½è¾ƒ components æ›´å¥½</span>

<span class="token comment">// åˆ¤æ–­æ˜¯å¦æ˜¯æŸç§ç±»å‹</span>
<span class="token keyword">let</span> c1<span class="token punctuation">:</span> <span class="token class-name">Character</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ğŸ¤”"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>isASCII<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>isSymbol<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>isLetter<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>isNumber<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>isUppercase<span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// å­—ç¬¦ä¸²å’Œ Data äº’è½¬</span>
<span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token class-name">Data</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">.</span>utf8<span class="token punctuation">)</span>
<span class="token keyword">let</span> s7 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">(</span>decoding<span class="token punctuation">:</span> data<span class="token punctuation">,</span> <span class="token keyword">as</span><span class="token punctuation">:</span> UTF8<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s7<span class="token punctuation">)</span> <span class="token comment">// hi</span>

<span class="token comment">// å­—ç¬¦ä¸²å¯ä»¥å½“ä½œé›†åˆæ¥ç”¨ã€‚</span>
<span class="token keyword">let</span> revered <span class="token operator">=</span> s7<span class="token punctuation">.</span><span class="token function">reversed</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">(</span>revered<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Unicodeã€Character å’Œ SubString ç­‰å†…å®¹å‚è§å®˜æ–¹å­—ç¬¦ä¸²æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://docs.swift.org/swift-book/LanguageGuide/StringsAndCharacters.html">Strings and Characters â€” The Swift Programming Language (Swift 5.1)</a></p>
<p>å­—ç¬¦ä¸²å­—é¢ç¬¦å·å¯ä»¥å‚çœ‹ã€Š<a target="_blank" rel="noopener" href="https://www.swiftbysundell.com/articles/string-literals-in-swift/">String literals in Swift</a>ã€‹ã€‚</p>
<p>åŸå§‹å­—ç¬¦ä¸²</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// åŸå§‹å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²å‰åŠ ä¸Šä¸€ä¸ªæˆ–å¤šä¸ª#ç¬¦å·ã€‚é‡Œé¢çš„åŒå¼•å·å’Œè½¬ä¹‰ç¬¦å·å°†ä¸å†èµ·ä½œç”¨äº†ï¼Œå¦‚æœæƒ³è®©è½¬ä¹‰ç¬¦èµ·ä½œç”¨ï¼Œéœ€è¦åœ¨è½¬ä¹‰ç¬¦åé¢åŠ ä¸Š#ç¬¦å·ã€‚</span>
<span class="token keyword">let</span> s8 <span class="token operator">=</span> #"<span class="token punctuation">\</span><span class="token punctuation">(</span>s7<span class="token punctuation">)</span><span class="token punctuation">\</span>#<span class="token punctuation">(</span>s7<span class="token punctuation">)</span> <span class="token string-literal"><span class="token string">"one"</span></span> and <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">\</span>n<span class="token punctuation">.</span> <span class="token punctuation">\</span><span class="token other-directive property">#nThe</span> second line<span class="token punctuation">.</span>"#
<span class="token function">print</span><span class="token punctuation">(</span>s8<span class="token punctuation">)</span>
<span class="token comment">/// \(s7)hi "one" and "two"\n.</span>
<span class="token comment">/// The second line.</span>

<span class="token comment">// åŸå§‹å­—ç¬¦ä¸²åœ¨æ­£åˆ™ä½¿ç”¨æ•ˆæœæ›´ä½³ï¼Œåæ–œæ æ›´å°‘äº†ã€‚</span>
<span class="token keyword">let</span> s9 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"\\\\[A-Z]+[A-Za-z]+\\.[a-z]+"</span></span>
<span class="token keyword">let</span> s10 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">#"\\[A-Z]+[A-Za-z]+\.[a-z]+"#</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>s9<span class="token punctuation">)</span> <span class="token comment">// \\[A-Z]+[A-Za-z]+\.[a-z]+</span>
<span class="token function">print</span><span class="token punctuation">(</span>s10<span class="token punctuation">)</span> <span class="token comment">// \\[A-Z]+[A-Za-z]+\.[a-z]+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Swift5.7 String Index å¤§å‡çº§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0180-string-index-overhaul.md">String Index Overhaul</a></p>
<h4 id="æšä¸¾-1"><a href="#æšä¸¾-1" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h4><p>Swiftçš„æšä¸¾æœ‰ç±»çš„ä¸€äº›ç‰¹æ€§ï¼Œæ¯”å¦‚è®¡ç®—å±æ€§ã€å®ä¾‹æ–¹æ³•ã€æ‰©å±•ã€éµå¾ªåè®®ç­‰ç­‰ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">enum</span> E1<span class="token punctuation">:</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">CaseIterable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> e1<span class="token punctuation">,</span> e2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"12"</span></span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// å…³è”å€¼</span>
<span class="token keyword">enum</span> E2 <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token function">e1</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token function">e2</span><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> e1 <span class="token operator">=</span> E2<span class="token punctuation">.</span><span class="token function">e1</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> e2 <span class="token operator">=</span> E2<span class="token punctuation">.</span><span class="token function">e2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token keyword">switch</span> e1 <span class="token punctuation">&#123;</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">e1</span><span class="token punctuation">(</span><span class="token keyword">let</span> array<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">e2</span><span class="token punctuation">(</span><span class="token keyword">let</span> int<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span>int<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>e2<span class="token punctuation">)</span>

<span class="token comment">// åŸå§‹å€¼</span>
<span class="token function">print</span><span class="token punctuation">(</span>E1<span class="token punctuation">.</span>e1<span class="token punctuation">.</span>rawValue<span class="token punctuation">)</span>

<span class="token comment">// éµå¾ª CaseIterable åè®®å¯è¿­ä»£</span>
<span class="token keyword">for</span> ie <span class="token keyword">in</span> E1<span class="token punctuation">.</span>allCases <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"show </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">ie</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// é€’å½’æšä¸¾</span>
<span class="token keyword">enum</span> <span class="token constant">RE</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
    <span class="token keyword">indirect</span> <span class="token keyword">case</span> <span class="token function">node</span><span class="token punctuation">(</span>l<span class="token punctuation">:</span><span class="token constant">RE</span><span class="token punctuation">,</span> r<span class="token punctuation">:</span><span class="token constant">RE</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> lNode <span class="token operator">=</span> <span class="token constant">RE</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"left"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> rNode <span class="token operator">=</span> <span class="token constant">RE</span><span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"right"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> pNode <span class="token operator">=</span> <span class="token constant">RE</span><span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span>l<span class="token punctuation">:</span> lNode<span class="token punctuation">,</span> r<span class="token punctuation">:</span> rNode<span class="token punctuation">)</span>

<span class="token keyword">switch</span> pNode <span class="token punctuation">&#123;</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token keyword">let</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token keyword">let</span> l<span class="token punctuation">,</span> <span class="token keyword">let</span> r<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token function">print</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span>r<span class="token punctuation">)</span>
    <span class="token keyword">switch</span> l <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token keyword">let</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token keyword">let</span> l<span class="token punctuation">,</span> <span class="token keyword">let</span> r<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">switch</span> r <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">v</span><span class="token punctuation">(</span><span class="token keyword">let</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">node</span><span class="token punctuation">(</span><span class="token keyword">let</span> l<span class="token punctuation">,</span> <span class="token keyword">let</span> r<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>@unknown ç”¨æ¥åŒºåˆ†å›ºå®šçš„æšä¸¾å’Œå¯èƒ½æ”¹å˜çš„æšä¸¾çš„èƒ½åŠ›ã€‚@unknown ç”¨äºé˜²æ­¢æœªæ¥æ–°å¢æšä¸¾å±æ€§ä¼šè¿›è¡Œæé†’æç¤ºå®Œå–„æ¯ä¸ª case çš„å¤„ç†ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// @unknown</span>
<span class="token keyword">enum</span> E3 <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> e1<span class="token punctuation">,</span> e2<span class="token punctuation">,</span> e3
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function-definition function">fe1</span><span class="token punctuation">(</span>e<span class="token punctuation">:</span> E3<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">switch</span> e <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>e1<span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"e1 ok"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>e2<span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"e2 ok"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>e3<span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"e3 ok"</span></span><span class="token punctuation">)</span>
    <span class="token attribute atrule">@unknown</span> <span class="token keyword">default</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"not ok"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç¬¦åˆ Comparable åè®®çš„æšä¸¾å¯ä»¥è¿›è¡Œæ¯”è¾ƒã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// Comparable æšä¸¾æ¯”è¾ƒ</span>
<span class="token keyword">enum</span> E4<span class="token punctuation">:</span> <span class="token class-name">Comparable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> e1<span class="token punctuation">,</span> e2
    <span class="token keyword">case</span> <span class="token function">e3</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> e4
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> e3 <span class="token operator">=</span> E4<span class="token punctuation">.</span>e4
<span class="token keyword">let</span> e4 <span class="token operator">=</span> E4<span class="token punctuation">.</span><span class="token function">e3</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> e5 <span class="token operator">=</span> E4<span class="token punctuation">.</span><span class="token function">e3</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> e6 <span class="token operator">=</span> E4<span class="token punctuation">.</span>e1
<span class="token function">print</span><span class="token punctuation">(</span>e3 <span class="token operator">></span> e4<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span>e3<span class="token punctuation">,</span> e4<span class="token punctuation">,</span> e5<span class="token punctuation">,</span> e6<span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> a2 <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/// e1</span>
<span class="token comment">/// e3(i: 2)</span>
<span class="token comment">/// e3(i: 3)</span>
<span class="token comment">/// e4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="æ³›å‹å’Œåè®®"><a href="#æ³›å‹å’Œåè®®" class="headerlink" title="æ³›å‹å’Œåè®®"></a>æ³›å‹å’Œåè®®</h4><p>æ³›å‹å¯ä»¥å‡å°‘é‡å¤ä»£ç ï¼Œæ˜¯ä¸€ç§æŠ½è±¡çš„è¡¨è¾¾æ–¹å¼ã€‚where å…³é”®å­—å¯ä»¥å¯¹æ³›å‹åšçº¦æŸã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">fn</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    r<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    <span class="token keyword">return</span> r
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ç»“æ„ä½“</span>
<span class="token keyword">struct</span> S1<span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">add</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> p<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        arr<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token function">S1</span><span class="token punctuation">(</span>arr<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"zero"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>arr<span class="token punctuation">)</span> <span class="token comment">// ["zero", "one", "two"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å…³è”ç±»å‹</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">protocol</span> pc <span class="token punctuation">&#123;</span>
    <span class="token keyword">associatedtype</span> <span class="token class-name">T</span>
    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">add</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> p<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> S2<span class="token punctuation">:</span> pc <span class="token punctuation">&#123;</span>
    <span class="token keyword">typealias</span> <span class="token class-name">T</span> <span class="token operator">=</span> <span class="token class-name">String</span> <span class="token comment">// ç±»å‹æ¨å¯¼ï¼Œå¯çœç•¥</span>
    <span class="token keyword">var</span> strs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">add</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        strs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ³›å‹é€‚ç”¨äºåµŒå¥—ç±»å‹</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> S3<span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">struct</span> S4 <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">T</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">T</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> S4
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">S3</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> S3<span class="token punctuation">.</span><span class="token function">S4</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s3 <span class="token operator">=</span> <span class="token function">S3</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> S3<span class="token punctuation">.</span><span class="token function">S4</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s2<span class="token punctuation">,</span>s3<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>session <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/110352/">Embrace Swift generics</a> ã€<a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-110353">Design protocol interfaces in Swift</a></p>
<p>swift 5.6 å’Œä¹‹å‰ç¼–å†™æ³›å‹æ¥å£å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">feed</span><span class="token operator">&lt;</span><span class="token class-name">A</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token omit keyword">_</span> animal<span class="token punctuation">:</span> <span class="token class-name">A</span><span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token class-name">A</span><span class="token punctuation">:</span> <span class="token class-name">Animal</span>

<span class="token comment">// ğŸ‘†ğŸ»ğŸ‘‡ğŸ» Equivalents</span>

<span class="token keyword">func</span> <span class="token function-definition function">feed</span><span class="token operator">&lt;</span><span class="token class-name">A</span><span class="token punctuation">:</span> <span class="token class-name">Animal</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token omit keyword">_</span> animal<span class="token punctuation">:</span> <span class="token class-name">A</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>swift 5.7 å¯ä»¥è¿™æ ·å†™ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">feed</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> animal<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">Animal</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>some å…³é”®å­—å¯ä»¥ç”¨äºå‚æ•°å’Œç»“æ„ç±»å‹ã€‚some ä¼šä¿è¯ç±»å‹å…³ç³»ï¼Œè€Œ any ä¼šæŒæœ‰ä»»æ„å…·ä½“ç±»å‹ï¼Œåˆ é™¤ç±»å‹å…³ç³»ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0347-type-inference-from-default-exprs.md">SE-0347 Type inference from default expressions</a> æ‰©å±• Swift æ³›å‹å‚æ•°ç±»å‹çš„é»˜è®¤å€¼èƒ½åŠ›ã€‚å¦‚ä¸‹ä»£ç ç¤ºä¾‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">suffledArray</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">Sequence</span><span class="token operator">></span><span class="token punctuation">(</span>from options<span class="token punctuation">:</span> <span class="token class-name">T</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token class-name">Element</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">Array</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token function">shuffled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">suffledArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">suffledArray</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0341-opaque-parameters.md">SE-0341 Opaque Parameter Declarations</a> ä½¿ç”¨ some å‚æ•°ç®€åŒ–æ³›å‹å‚æ•°å£°æ˜ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0328-structural-opaque-result-types.md">SE-0328 Structural opaque result types</a> æ‰©å¤§ä¸é€æ˜ç»“æœè¿”å›ç±»å‹å¯ä»¥ä½¿ç”¨çš„èŒƒå›´ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0360-opaque-result-types-with-availability.md">SE-0360 Opaque result types with limited availability</a> å¯ç”¨æ€§æœ‰é™çš„ä¸é€æ˜ç»“æœç±»å‹ï¼Œæ¯”å¦‚ <code>if #available(macOS 13.0, *) &#123;&#125;</code> å°±å¯ä»¥æ ¹æ®ç³»ç»Ÿä¸åŒç‰ˆæœ¬è¿”å›ä¸åŒç±»å‹ï¼Œæ–°ç‰ˆæœ¬å‡ºç°æ–°ç±»å‹çš„ View å°±å¯ä»¥å’Œä»¥å‰çš„ View ç±»å‹åŒºåˆ«å¼€ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0309-unlock-existential-types-for-all-protocols.md">SE-0309 Unlock existentials for all protocols</a> æ”¹è¿›äº† existentials å’Œ æ³›å‹çš„äº¤äº’ã€‚è¿™æ ·å°±å¯ä»¥æ›´æ–¹ä¾¿çš„æ£€æŸ¥ Any ç±»å‹çš„ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰</p>
<p>any å…³é”®å­—å……å½“çš„æ˜¯ç±»å‹æ“¦é™¤çš„åŠ©æ‰‹ï¼Œæ˜¯é€šè¿‡å‘ŠçŸ¥ç¼–è¯‘å™¨ä½ ä½¿ç”¨ existential ä½œä¸ºç±»å‹ï¼Œæ­¤è¯­æ³•å¯å…¼å®¹ä»¥å‰ç³»ç»Ÿã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0346-light-weight-same-type-syntax.md">SE-0346 Lightweight same-type requirements for primary associated types</a> å¼•å…¥ä¸€ç§æ–°è¯­æ³•ï¼Œç”¨äºç¬¦åˆæ³›å‹å‚æ•°å¹¶é€šè¿‡ç›¸åŒç±»å‹è¦æ±‚çº¦æŸå…³è”ç±»å‹ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0358-primary-associated-types-in-stdlib.md">SE-0358 Primary Associated Types in the Standard Library</a> å¼•å…¥ä¸»è¦å…³è”ç±»å‹æ¦‚å¿µï¼Œå¹¶å°†å…¶å¸¦å…¥äº†æ ‡å‡†åº“ã€‚è¿™äº›å…³è”ç±»å‹å¾ˆåƒæ³›å‹ï¼Œå…è®¸å¼€å‘è€…å°†ç»™å®šå…³è”ç±»å‹çš„ç±»å‹æŒ‡å®šä¸ºé€šç”¨çº¦æŸã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0353-constrained-existential-types.md">SE-0353 Constrained Existential Types</a> åŸºäº SE-0309 å’Œ SE-0346 ææ¡ˆï¼Œåœ¨ existential ç±»å‹çš„ä¸Šä¸‹æ–‡ä¸­é‡ç”¨è½»é‡å…³è”ç±»å‹çš„çº¦æŸã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0352-implicit-open-existentials.md">SE-0352 Implicitly Opened Existentials</a>  å…è®¸ Swift åœ¨å¾ˆå¤šæƒ…å†µä¸‹ä½¿ç”¨åè®®è°ƒç”¨æ³›å‹å‡½æ•°ã€‚</p>
<p>Swift è®ºå›ä¸Šä¸€ä¸ªå¯¹ any å’Œ some å…³é”®å­—è¯­æ³•ä½¿ç”¨åœºæ™¯çš„è®¨è®ºï¼Œ<a target="_blank" rel="noopener" href="https://forums.swift.org/t/do-any-and-some-help-with-protocol-oriented-testing-at-all/58113">Do <code>any</code> and <code>some</code> help with â€œProtocol Oriented Testingâ€ at all?</a> ã€‚</p>
<h4 id="ä¸é€æ˜ç±»å‹-1"><a href="#ä¸é€æ˜ç±»å‹-1" class="headerlink" title="ä¸é€æ˜ç±»å‹"></a>ä¸é€æ˜ç±»å‹</h4><p>ä¸é€æ˜ç±»å‹ä¼šéšè—ç±»å‹ï¼Œè®©ä½¿ç”¨è€…æ›´å…³æ³¨åŠŸèƒ½ã€‚ä¸é€æ˜ç±»å‹å’Œåè®®å¾ˆç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ä¸é€æ˜æ¯”åè®®é™å®šçš„è¦å¤šï¼Œåè®®èƒ½å¤Ÿå¯¹åº”æ›´å¤šç±»å‹ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">protocol</span> <span class="token class-name">P</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">struct</span> S1<span class="token punctuation">:</span> <span class="token class-name">P</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"one\n"</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">struct</span> S2<span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">:</span> <span class="token class-name">P</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">P</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">T</span>
    <span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> p<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"two\n"</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">struct</span> S3<span class="token operator">&lt;</span>T1<span class="token punctuation">:</span> <span class="token class-name">P</span><span class="token punctuation">,</span> T2<span class="token punctuation">:</span> <span class="token class-name">P</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">P</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> T1
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> T2
    <span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> p1<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> p2<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"three\n"</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">func</span> <span class="token function-definition function">someP</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">P</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token function">S3</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token function">S1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token function">S2</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token function">S1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token function">someP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å‡½æ•°è°ƒç”¨è€…å†³å®šè¿”å›ä»€ä¹ˆç±»å‹æ˜¯æ³›å‹ï¼Œå‡½æ•°è‡ªèº«å†³å®šè¿”å›ä»€ä¹ˆç±»å‹ä½¿ç”¨ä¸é€æ˜è¿”å›ç±»å‹ã€‚</p>
<h4 id="Result-1"><a href="#Result-1" class="headerlink" title="Result"></a>Result</h4><p>Result ç±»å‹ç”¨æ¥å¤„ç†é”™è¯¯ï¼Œç‰¹åˆ«é€‚ç”¨å¼‚æ­¥æ¥å£çš„é”™è¯¯å¤„ç†ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">extension</span> <span class="token class-name">URLSession</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">dataTaskWithResult</span><span class="token punctuation">(</span>
        with url<span class="token punctuation">:</span> <span class="token constant">URL</span><span class="token punctuation">,</span>
        handler<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token class-name">Result</span><span class="token operator">&lt;</span><span class="token class-name">Data</span><span class="token punctuation">,</span> <span class="token class-name">Error</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span>
    <span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">URLSessionDataTask</span> <span class="token punctuation">&#123;</span>
        <span class="token function">dataTask</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> url<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> data<span class="token punctuation">,</span> <span class="token omit keyword">_</span><span class="token punctuation">,</span> err <span class="token keyword">in</span>
            <span class="token keyword">if</span> <span class="token keyword">let</span> err <span class="token operator">=</span> err <span class="token punctuation">&#123;</span>
                <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>data <span class="token operator">??</span> <span class="token class-name">Data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://ming1016.github.io/"</span></span><span class="token punctuation">)</span><span class="token operator">!</span>

<span class="token comment">// ä»¥å‰ç½‘ç»œè¯·æ±‚</span>
<span class="token keyword">let</span> t1 <span class="token operator">=</span> <span class="token class-name">URLSession</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token function">dataTask</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> url<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    data<span class="token punctuation">,</span> <span class="token omit keyword">_</span><span class="token punctuation">,</span> error <span class="token keyword">in</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> err <span class="token operator">=</span> error <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token keyword">let</span> data <span class="token operator">=</span> data <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">(</span>decoding<span class="token punctuation">:</span> data<span class="token punctuation">,</span> <span class="token keyword">as</span><span class="token punctuation">:</span> UTF8<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
t1<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// ä½¿ç”¨ Result ç½‘ç»œè¯·æ±‚</span>
<span class="token keyword">let</span> t2 <span class="token operator">=</span> <span class="token class-name">URLSession</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token function">dataTaskWithResult</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> url<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> result <span class="token keyword">in</span>
    <span class="token keyword">switch</span> result <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token keyword">let</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">(</span>decoding<span class="token punctuation">:</span> data<span class="token punctuation">,</span> <span class="token keyword">as</span><span class="token punctuation">:</span> UTF8<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token keyword">let</span> err<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
t2<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="ç±»å‹è½¬æ¢-1"><a href="#ç±»å‹è½¬æ¢-1" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h4><p>ä½¿ç”¨ is å…³é”®å­—è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œ ä½¿ç”¨as å…³é”®å­—æ¥è½¬æ¢æˆå­ç±»ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">class</span> S0 <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> S1<span class="token punctuation">:</span> S0 <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">class</span> S2<span class="token punctuation">:</span> S0 <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span>S0<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">S1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">S2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> e <span class="token keyword">in</span> a <span class="token punctuation">&#123;</span>
    <span class="token comment">// ç±»å‹åˆ¤æ–­</span>
    <span class="token keyword">if</span> e <span class="token keyword">is</span> S1 <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Type is S1"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> e <span class="token keyword">is</span> S2 <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Type is S2"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// ä½¿ç”¨ as å…³é”®å­—è½¬æ¢æˆå­ç±»</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> s1 <span class="token operator">=</span> e <span class="token keyword">as</span><span class="token operator">?</span> S1 <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"As S1 </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token keyword">let</span> s2 <span class="token operator">=</span> e <span class="token keyword">as</span><span class="token operator">?</span> S2 <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"As S2 </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="ç±»å’Œç»“æ„ä½“-1"><a href="#ç±»å’Œç»“æ„ä½“-1" class="headerlink" title="ç±»å’Œç»“æ„ä½“"></a>ç±»å’Œç»“æ„ä½“</h3><h4 id="ç±»-1"><a href="#ç±»-1" class="headerlink" title="ç±»"></a>ç±»</h4><p>ç±»å¯ä»¥å®šä¹‰å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ã€ä¸‹æ ‡æ“ä½œã€‚ç±»ä½¿ç”¨æ‰©å±•æ¥æ‰©å±•åŠŸèƒ½ï¼Œéµå¾ªåè®®ã€‚ç±»è¿˜ä»¥ç»§æ‰¿ï¼Œè¿è¡Œæ—¶æ£€æŸ¥å®ä¾‹ç±»å‹ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>p <span class="token operator">=</span> p
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// ä¸‹æ ‡æ“ä½œ</span>
    <span class="token keyword">subscript</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">get</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> p <span class="token operator">+</span> s
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">set</span> <span class="token punctuation">&#123;</span>
            p <span class="token operator">=</span> s <span class="token operator">+</span> newValue
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>p<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">" ming"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
c<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"v"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>p<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="ç»“æ„ä½“-1"><a href="#ç»“æ„ä½“-1" class="headerlink" title="ç»“æ„ä½“"></a>ç»“æ„ä½“</h4><p>ç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼Œå¯ä»¥å®šä¹‰å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ã€ä¸‹æ ‡æ“ä½œã€‚ç»“æ„ä½“ä½¿ç”¨æ‰©å±•æ¥æ‰©å±•åŠŸèƒ½ï¼Œéµå¾ªåè®®ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">extension</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> p1 <span class="token operator">+</span> <span class="token class-name">String</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>p1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"1"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 11</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="å±æ€§-1"><a href="#å±æ€§-1" class="headerlink" title="å±æ€§"></a>å±æ€§</h4><p>ç±»ã€ç»“æ„ä½“æˆ–æšä¸¾é‡Œçš„å˜é‡å¸¸é‡å°±æ˜¯ä»–ä»¬çš„å±æ€§ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> sp <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ç±»å‹å±æ€§"</span></span> <span class="token comment">// ç±»å‹å±æ€§é€šè¿‡ç±»å‹æœ¬èº«è®¿é—®ï¼Œéå®ä¾‹è®¿é—®</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token comment">// cp æ˜¯è®¡ç®—å±æ€§</span>
    <span class="token keyword">var</span> cp<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">get</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> p2 <span class="token operator">*</span> <span class="token number">2</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">set</span> <span class="token punctuation">&#123;</span>
            p2 <span class="token operator">=</span> newValue <span class="token operator">+</span> <span class="token number">2</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// åªæœ‰ getter çš„æ˜¯åªè¯»è®¡ç®—å±æ€§</span>
    <span class="token keyword">var</span> rcp<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        p2 <span class="token operator">*</span> <span class="token number">4</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">.</span>sp<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cp<span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>cp <span class="token operator">=</span> <span class="token number">3</span>
<span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>p2<span class="token punctuation">)</span> <span class="token comment">// 5</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>rcp<span class="token punctuation">)</span> <span class="token comment">// 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>willSet å’Œ didSet æ˜¯å±æ€§è§‚å¯Ÿå™¨ï¼Œå¯ä»¥åœ¨å±æ€§å€¼è®¾ç½®å‰åæ’å…¥è‡ªå·±çš„é€»è¾‘å¤„ç†ã€‚</p>
<p>é”®è·¯å¾„è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> S2 <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">let</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">S2</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s3 <span class="token operator">=</span> <span class="token function">S2</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span>s2<span class="token punctuation">,</span> s3<span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>p1<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// ["one", "two"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="æ–¹æ³•-1"><a href="#æ–¹æ³•-1" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token class-name">E</span><span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three
    <span class="token keyword">func</span> <span class="token function-definition function">showRawValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span>rawValue<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token class-name">E</span><span class="token punctuation">.</span>three
e<span class="token punctuation">.</span><span class="token function">showRawValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// three</span>

<span class="token comment">// å¯å˜çš„å®ä¾‹æ–¹æ³•ï¼Œä½¿ç”¨ mutating æ ‡è®°</span>
<span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">addFullStopForP</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        p <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"."</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span><span class="token function">addFullStopForP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>p<span class="token punctuation">)</span>

<span class="token comment">// ç±»æ–¹æ³•</span>
<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">class</span> <span class="token keyword">func</span> <span class="token function-definition function">cf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç±»æ–¹æ³•"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>staticå’Œclasså…³é”®å­—ä¿®é¥°çš„æ–¹æ³•ç±»ä¼¼ OC çš„ç±»æ–¹æ³•ã€‚static å¯ä»¥ä¿®é¥°å­˜å‚¨å±æ€§ï¼Œè€Œ class ä¸èƒ½ï¼›class ä¿®é¥°çš„æ–¹æ³•å¯ä»¥ç»§æ‰¿ï¼Œè€Œ static ä¸èƒ½ã€‚åœ¨åè®®ä¸­éœ€ç”¨ static æ¥ä¿®é¥°ã€‚</p>
<p>é™æ€ä¸‹æ ‡æ–¹æ³•</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// é™æ€ä¸‹æ ‡</span>
<span class="token keyword">struct</span> S2 <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">var</span> sp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">static</span> <span class="token keyword">subscript</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> d<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">get</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> sp<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">??</span> d
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">set</span> <span class="token punctuation">&#123;</span>
            sp<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> newValue
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

S2<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"key1"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
S2<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"key2"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
<span class="token function">print</span><span class="token punctuation">(</span>S2<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"key2"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token function">print</span><span class="token punctuation">(</span>S2<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"key3"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 10</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è‡ªå®šä¹‰ç±»å‹ä¸­å®ç°äº† callAsFunction() çš„è¯ï¼Œè¯¥ç±»å‹çš„å€¼å°±å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// callAsFunction()</span>
<span class="token keyword">struct</span> S3 <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">callAsFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"show </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">S3</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">s2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// show hi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ç»§æ‰¿-1"><a href="#ç»§æ‰¿-1" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h4><p>ç±»èƒ½ç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼Œç»§æ‰¿å®ƒçš„æ–¹æ³•ã€å±æ€§ç­‰ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// ç±»ç»§æ‰¿</span>
<span class="token keyword">class</span> C1 <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> cp1<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">get</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> p1 <span class="token operator">+</span> <span class="token string-literal"><span class="token string">" like ATM"</span></span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">set</span> <span class="token punctuation">&#123;</span>
            p1 <span class="token operator">=</span> p1 <span class="token operator">+</span> newValue
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>p1 <span class="token operator">=</span> p1
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Hi! </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> C2<span class="token punctuation">:</span> C1 <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>p2<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>p2 <span class="token operator">=</span> p2
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> p2 <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"'s father"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">C2</span><span class="token punctuation">(</span>p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Hi! Lemon's father</span>

<span class="token comment">// é‡å†™çˆ¶ç±»æ–¹æ³•</span>
<span class="token keyword">class</span> C3<span class="token punctuation">:</span> C2 <span class="token punctuation">&#123;</span>
    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Hi! </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">C3</span><span class="token punctuation">(</span>p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Hi! Lemon</span>

<span class="token comment">// é‡å†™è®¡ç®—å±æ€§</span>
<span class="token keyword">class</span> C4<span class="token punctuation">:</span> C1 <span class="token punctuation">&#123;</span>
    <span class="token keyword">override</span> <span class="token keyword">var</span> cp1<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">get</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> p1 <span class="token operator">+</span> <span class="token string-literal"><span class="token string">" like Out of the blade"</span></span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">set</span> <span class="token punctuation">&#123;</span>
            p1 <span class="token operator">=</span> p1 <span class="token operator">+</span> newValue
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">C1</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>cp1<span class="token punctuation">)</span> <span class="token comment">// Lemon like ATM</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">C4</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span>cp1<span class="token punctuation">)</span> <span class="token comment">// Lemon like Out of the blade</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é€šè¿‡ final å…³é”®å­—å¯ä»¥é˜²æ­¢ç±»è¢«ç»§æ‰¿ï¼Œfinal è¿˜å¯ä»¥ç”¨äºå±æ€§å’Œæ–¹æ³•ã€‚ä½¿ç”¨ super å…³é”®å­—æŒ‡ä»£çˆ¶ç±»ã€‚</p>
<h3 id="å‡½æ•°å¼-1"><a href="#å‡½æ•°å¼-1" class="headerlink" title="å‡½æ•°å¼"></a>å‡½æ•°å¼</h3><h4 id="map-1"><a href="#map-1" class="headerlink" title="map"></a>map</h4><p>map å¯ä»¥ä¾æ¬¡å¤„ç†æ•°ç»„ä¸­å…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¤„ç†åçš„æ–°æ•°ç»„ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"a"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"b"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"c"</span></span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span>
    <span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token short-argument">$0</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">2"</span></span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// ["a2", "b2", "c2"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨ compactMap å¯ä»¥è¿‡æ»¤ nil çš„å…ƒç´ ã€‚flatMap ä¼šå°†å¤šä¸ªæ•°ç»„åˆæˆä¸€ä¸ªæ•°ç»„è¿”å›ã€‚</p>
<h4 id="filter-1"><a href="#filter-1" class="headerlink" title="filter"></a>filter</h4><p>æ ¹æ®æŒ‡å®šæ¡ä»¶è¿”å›</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"a"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"b"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"c"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"call my name"</span></span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span>filter <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span><span class="token keyword">prefix</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string-literal"><span class="token string">"c"</span></span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// ["c", "call my name"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="reduce-1"><a href="#reduce-1" class="headerlink" title="reduce"></a>reduce</h4><p>reduce å¯ä»¥å°†è¿­ä»£ä¸­è¿”å›çš„ç»“æœç”¨äºä¸‹ä¸ªè¿­ä»£ä¸­ï¼Œå¹¶ï¼Œè¿˜èƒ½è®©ä½ è®¾ä¸ªåˆå§‹å€¼ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"a"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"b"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"c"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"call my name."</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"get it?"</span></span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Hey u,"</span></span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> partialResult<span class="token punctuation">,</span> s <span class="token keyword">in</span>
    <span class="token comment">// partialResult æ˜¯å‰é¢è¿”å›çš„å€¼ï¼Œs æ˜¯éå†åˆ°å½“å‰çš„å€¼</span>
    partialResult <span class="token operator">+</span> <span class="token string-literal"><span class="token string">" </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// Hey u, a b c call my name. get it?</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="sorted-1"><a href="#sorted-1" class="headerlink" title="sorted"></a>sorted</h4><p>æ’åº</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// ç±»å‹éµå¾ª Comparable</span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"a"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"b"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"c"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"call my name."</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"get it?"</span></span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> a3 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token operator">></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> a4 <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token operator">&lt;</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span> <span class="token comment">// Hey u, a b c call my name. get it?</span>
<span class="token function">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span> <span class="token comment">// ["get it?", "call my name.", "c", "b", "a"]</span>
<span class="token function">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">)</span> <span class="token comment">// ["a", "b", "c", "call my name.", "get it?"]</span>

<span class="token comment">// ç±»å‹ä¸éµå¾ª Comparable</span>
<span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> i<span class="token punctuation">:</span> <span class="token class-name">Int</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> a5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">S</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"a"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">S</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"b"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">S</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"c"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a6 <span class="token operator">=</span> a5
    <span class="token punctuation">.</span>sorted <span class="token punctuation">&#123;</span> l<span class="token punctuation">,</span> r <span class="token keyword">in</span>
        l<span class="token punctuation">.</span>i <span class="token operator">></span> r<span class="token punctuation">.</span>i
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span>
        <span class="token short-argument">$0</span><span class="token punctuation">.</span>i
    <span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">)</span> <span class="token comment">// [2, 1, 0]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="æ§åˆ¶æµ-1"><a href="#æ§åˆ¶æµ-1" class="headerlink" title="æ§åˆ¶æµ"></a>æ§åˆ¶æµ</h3><h4 id="If-â€¢-If-let-â€¢-If-case-let-1"><a href="#If-â€¢-If-let-â€¢-If-case-let-1" class="headerlink" title="If â€¢ If let â€¢ If case let"></a>If â€¢ If let â€¢ If case let</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// if</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"hi"</span></span>
<span class="token keyword">if</span> s<span class="token punctuation">.</span>isEmpty <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"String is Empty"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"String is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä¸‰å…ƒæ¡ä»¶</span>
s<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"String is Empty again"</span></span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"String is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> again"</span></span><span class="token punctuation">)</span>

<span class="token comment">// if let-else</span>
<span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> s1 <span class="token operator">=</span> s <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"s1 is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"s1 is nothing"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// nil-coalescing</span>
    <span class="token keyword">let</span> s2 <span class="token operator">=</span> s <span class="token operator">??</span> <span class="token string-literal"><span class="token string">"nothing"</span></span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"s2 is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token function">f</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"something"</span></span><span class="token punctuation">)</span>
<span class="token function">f</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span>

<span class="token comment">// if case let</span>
<span class="token keyword">enum</span> <span class="token class-name">E</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token function">c1</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token function">c2</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">des</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">switch</span> <span class="token keyword">self</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">c1</span><span class="token punctuation">(</span><span class="token keyword">let</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token function">print</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">c2</span><span class="token punctuation">(</span><span class="token keyword">let</span> array<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token function">print</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token class-name">E</span><span class="token punctuation">.</span><span class="token function">c1</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"enum c1"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">des</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">E</span><span class="token punctuation">.</span><span class="token function">c2</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">des</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Guard-guard-guard-let-1"><a href="#Guard-guard-guard-let-1" class="headerlink" title="Guard guard, guard let"></a>Guard guard, guard let</h4><p>æ›´å¥½åœ°å¤„ç†å¼‚å¸¸æƒ…å†µ</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// guard</span>
<span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">guard</span> p<span class="token punctuation">.</span>isEmpty <span class="token operator">!=</span> <span class="token boolean">true</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"Empty string."</span></span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"String </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is not empty."</span></span>
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Empty string.</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// String lemon is not empty.</span>

<span class="token comment">// guard let</span>
<span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">guard</span> <span class="token keyword">let</span> p2 <span class="token operator">=</span> p1 <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"Nil."</span></span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"String </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is not nil."</span></span>
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f2</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Nil.</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f2</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"lemon"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// String lemon is not nil.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="éå†-For-in-1"><a href="#éå†-For-in-1" class="headerlink" title="éå† For-in"></a>éå† For-in</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">]</span>
<span class="token keyword">for</span> str <span class="token keyword">in</span> a <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä½¿ç”¨ä¸‹æ ‡èŒƒå›´</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">10</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä½¿ç”¨ enumerated</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i<span class="token punctuation">,</span> str<span class="token punctuation">)</span> <span class="token keyword">in</span> a<span class="token punctuation">.</span><span class="token function">enumerated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i <span class="token operator">+</span> <span class="token number">1</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">ä¸ªæ˜¯:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">str</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// for in where</span>
<span class="token keyword">for</span> str <span class="token keyword">in</span> a <span class="token keyword">where</span> str<span class="token punctuation">.</span><span class="token keyword">prefix</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string-literal"><span class="token string">"t"</span></span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// å­—å…¸ for inï¼Œéå†æ˜¯æ— åºçš„</span>
<span class="token keyword">let</span> dic <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token punctuation">]</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token keyword">in</span> dic <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"key is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">k</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, value is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">v</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// stride</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token function">stride</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> through<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> by<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
 10
 8
 6
 4
 2
 0
 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="While-while-repeat-while-1"><a href="#While-while-repeat-while-1" class="headerlink" title="While while, repeat-while"></a>While while, repeat-while</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// while</span>
<span class="token keyword">var</span> i1 <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">while</span> i1 <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"positive even number </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    i1 <span class="token operator">-=</span> <span class="token number">2</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// repeat while</span>
<span class="token keyword">var</span> i2 <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">repeat</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"positive even number </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    i2 <span class="token operator">-=</span> <span class="token number">2</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">while</span> i2 <span class="token operator">></span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨ break ç»“æŸéå†ï¼Œä½¿ç”¨ continue è·³è¿‡å½“å‰ä½œç”¨åŸŸï¼Œç»§ç»­ä¸‹ä¸ªå¾ªç¯</p>
<h4 id="Switch-1"><a href="#Switch-1" class="headerlink" title="Switch"></a>Switch</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> t<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Int</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">switch</span> pa <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">:</span>
        p1 <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">:</span>
        p1 <span class="token operator">=</span> <span class="token number">2</span>
        <span class="token keyword">fallthrough</span> <span class="token comment">// ç»§ç»­åˆ°ä¸‹ä¸ª case ä¸­</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        p2 <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p1 is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p1</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p2 is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p2</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    
    <span class="token comment">// å…ƒç»„</span>
    <span class="token keyword">switch</span> t <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"0"</span></span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"zero"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"no"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">f1</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> t<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">/*
 p1 is 2
 p2 is 0
 one
 */</span>

<span class="token comment">// æšä¸¾</span>
<span class="token keyword">enum</span> <span class="token class-name">E</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three<span class="token punctuation">,</span> <span class="token function">unknown</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token class-name">E</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">switch</span> pa <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>one<span class="token punctuation">:</span>
        p <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"1"</span></span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>two<span class="token punctuation">:</span>
        p <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"2"</span></span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>three<span class="token punctuation">:</span>
        p <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"3"</span></span>
    <span class="token keyword">case</span> <span class="token keyword">let</span> <span class="token punctuation">.</span><span class="token function">unknown</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token keyword">where</span> <span class="token class-name">Int</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token number">0</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token comment">// æšä¸¾å…³è”å€¼ï¼Œä½¿ç”¨ where å¢åŠ æ¡ä»¶</span>
        p <span class="token operator">=</span> u
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">unknown</span><span class="token punctuation">(</span><span class="token omit keyword">_</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        p <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"negative number"</span></span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">f2</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token class-name">E</span><span class="token punctuation">.</span>one<span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token function">f2</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token class-name">E</span><span class="token punctuation">.</span><span class="token function">unknown</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"10"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 10</span>
<span class="token function">f2</span><span class="token punctuation">(</span>pa<span class="token punctuation">:</span> <span class="token class-name">E</span><span class="token punctuation">.</span><span class="token function">unknown</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"-10"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// negative number</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="é›†åˆ-1"><a href="#é›†åˆ-1" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h3><h4 id="æ•°ç»„-1-2-3-1"><a href="#æ•°ç»„-1-2-3-1" class="headerlink" title="æ•°ç»„ [1, 2, 3]"></a>æ•°ç»„ [1, 2, 3]</h4><p>æ•°ç»„æ˜¯æœ‰åºé›†åˆ</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> a0<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
a0<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
a0<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>at<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>a0<span class="token punctuation">)</span> <span class="token comment">// [10, 2]</span>

<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"four"</span></span><span class="token punctuation">]</span>

<span class="token comment">// æ‰¾ä¸¤ä¸ªé›†åˆçš„ä¸åŒ</span>
<span class="token keyword">let</span> dif <span class="token operator">=</span> a1<span class="token punctuation">.</span><span class="token function">difference</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> a2<span class="token punctuation">)</span> <span class="token comment">// swiftçš„ diffing ç®—æ³•åœ¨è¿™ http://www.xmailserver.org/diff2.pdf swiftå®ç°åœ¨  swift/stdlib/public/core/Diffing.swift</span>
<span class="token keyword">for</span> c <span class="token keyword">in</span> dif <span class="token punctuation">&#123;</span>
    <span class="token keyword">switch</span> c <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">let</span> o<span class="token punctuation">,</span> <span class="token keyword">let</span> e<span class="token punctuation">,</span> <span class="token keyword">let</span> a<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"offset:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">o</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, element:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">e</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, associatedWith:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">String</span><span class="token punctuation">(</span>describing<span class="token punctuation">:</span> a<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">let</span> o<span class="token punctuation">,</span> <span class="token keyword">let</span> e<span class="token punctuation">,</span> <span class="token keyword">let</span> a<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"offset:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">o</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, element:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">e</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, associatedWith:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">String</span><span class="token punctuation">(</span>describing<span class="token punctuation">:</span> a<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
 remove offset:1, element:four, associatedWith:nil
 insert offset:0, element:one, associatedWith:nil
 insert offset:1, element:two, associatedWith:nil
 */</span>
<span class="token keyword">let</span> a3 <span class="token operator">=</span> a2<span class="token punctuation">.</span><span class="token function">applying</span><span class="token punctuation">(</span>dif<span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// å¯ä»¥ç”¨äºæ·»åŠ åˆ é™¤åŠ¨ç”»</span>
<span class="token function">print</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span> <span class="token comment">// ["one", "two", "three"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>dif æœ‰ç¬¬ä¸‰ä¸ª case å€¼ .insert(let offset, let element, let associatedWith) å¯ä»¥è·Ÿè¸ªæˆå¯¹çš„å˜åŒ–ï¼Œç”¨äºé«˜çº§åŠ¨ç”»ã€‚</p>
<p>ä»æ•°ç»„ä¸­éšæœºå–ä¸€ä¸ªå…ƒç´ </p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token function">print</span><span class="token punctuation">(</span>a0<span class="token punctuation">.</span><span class="token function">randomElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>æ•°ç»„æ’åº</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// æ’åº</span>
<span class="token keyword">struct</span> S1 <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> n<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> a4 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token function">S1</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">S1</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">S1</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">S1</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
<span class="token keyword">let</span> a5 <span class="token operator">=</span> a4<span class="token punctuation">.</span>sorted <span class="token punctuation">&#123;</span> i1<span class="token punctuation">,</span> i2 <span class="token keyword">in</span>
    i1<span class="token punctuation">.</span>n <span class="token operator">&lt;</span> i2<span class="token punctuation">.</span>n
<span class="token punctuation">&#125;</span>
<span class="token keyword">for</span> n <span class="token keyword">in</span> a5 <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/// S1(n: 1)</span>
<span class="token comment">/// S1(n: 2)</span>
<span class="token comment">/// S1(n: 3)</span>
<span class="token comment">/// S1(n: 10)</span>

<span class="token keyword">let</span> a6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [10, 7, 4, 2, 1]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¯ä»¥åŠ åˆ°æ•°ç»„æ‰©å±•ä¸­ï¼Œé€šè¿‡æ‰©å±•çº¦æŸèƒ½å¤ŸæŒ‡å®šç‰¹å®šå…ƒç´ ç±»å‹çš„æ’åºï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">extension</span> <span class="token class-name">Array</span> <span class="token keyword">where</span> <span class="token class-name">Element</span> <span class="token operator">==</span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å‡åº</span>
    <span class="token keyword">func</span> <span class="token function-definition function">intSortedASC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token operator">&lt;</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// é™åº</span>
    <span class="token keyword">func</span> <span class="token function-definition function">intSortedDESC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token operator">&lt;</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">.</span><span class="token function">intSortedASC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ä½¿ç”¨æ‰©å±•å¢åŠ è‡ªå®šä¹‰æ’åºèƒ½åŠ›</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åœ¨æ•°ç»„ä¸­æ£€ç´¢æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶äº†å°±è¿”å›</span>
<span class="token keyword">let</span> a7 <span class="token operator">=</span> a4<span class="token punctuation">.</span>first <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>n <span class="token operator">==</span> <span class="token number">10</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a7<span class="token operator">?</span><span class="token punctuation">.</span>n <span class="token operator">??</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">// æ˜¯å¦éƒ½æ»¡è¶³äº†æ¡ä»¶</span>
<span class="token function">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">.</span>allSatisfy <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>n <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">.</span><span class="token function">allSatisfy</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// æ‰¾å‡ºæœ€å¤§çš„é‚£ä¸ª</span>
<span class="token function">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> e1<span class="token punctuation">,</span> e2 <span class="token keyword">in</span>
    e1<span class="token punctuation">.</span>n <span class="token operator">&lt;</span> e2<span class="token punctuation">.</span>n
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token function">S1</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// S1(n: 10, b: true)</span>

<span class="token comment">// çœ‹çœ‹æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </span>
<span class="token function">print</span><span class="token punctuation">(</span>a4<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">where</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>n <span class="token operator">==</span> <span class="token number">7</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸€äº›åˆ‡å‰²æ•°ç»„çš„æ–¹æ³•ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// åˆ‡ç‰‡</span>
<span class="token comment">// å–å‰3ä¸ªï¼Œå¹¶ä¸æ˜¯ç›´æ¥å¤åˆ¶ï¼Œå¯¹äºå¤§çš„æ•°ç»„æœ‰æ€§èƒ½ä¼˜åŠ¿ã€‚</span>
<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">[</span><span class="token operator">..&lt;</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [1, 10, 4] éœ€è¦åšè¶Šç•Œæ£€æŸ¥</span>
<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">.</span><span class="token keyword">prefix</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [1, 10, 4, 7, 2] ä¸éœ€è¦åšè¶Šç•Œæ£€æŸ¥ï¼Œä¹Ÿæ˜¯åˆ‡ç‰‡ï¼Œæ€§èƒ½ä¸€æ ·</span>

<span class="token comment">// å»æ‰å‰3ä¸ª</span>
<span class="token function">print</span><span class="token punctuation">(</span>a6<span class="token punctuation">.</span><span class="token function">dropFirst</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [7, 2]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>prefix(while:) å’Œ drop(while:) æ–¹æ³•ï¼Œé¡ºåºéå†æ‰§è¡Œé—­åŒ…é‡Œçš„é€»è¾‘åˆ¤æ–­ï¼Œæ»¡è¶³æ¡ä»¶å°±è¿”å›ï¼Œé‡åˆ°ä¸åŒ¹é…å°±ä¼šåœæ­¢éå†ã€‚prefix è¿”å›æ»¡è¶³æ¡ä»¶çš„å…ƒç´ é›†åˆï¼Œdrop è¿”å›åœæ­¢éå†ä¹‹åé‚£äº›å…ƒç´ é›†åˆã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> a8 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> a9 <span class="token operator">=</span> a8<span class="token punctuation">.</span><span class="token keyword">prefix</span> <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span> <span class="token operator">&lt;</span> <span class="token number">30</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a9<span class="token punctuation">)</span> <span class="token comment">// [8, 9, 20, 1]</span>
<span class="token keyword">let</span> a10 <span class="token operator">=</span> a8<span class="token punctuation">.</span>drop <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span> <span class="token operator">&lt;</span> <span class="token number">30</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a10<span class="token punctuation">)</span> <span class="token comment">// [35, 3]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ¯” filter æ›´é«˜æ•ˆçš„åˆ é™¤å…ƒç´ çš„æ–¹æ³• removeAll</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// åˆ é™¤æ‰€æœ‰ä¸æ»¡è¶³æ¡ä»¶çš„å…ƒç´ </span>
<span class="token keyword">var</span> a11 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span>
a11<span class="token punctuation">.</span>removeAll <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a11<span class="token punctuation">)</span> <span class="token comment">// [4, 3, 1, 3, 3] éšæœº</span>

<span class="token comment">// åˆ›å»ºæœªåˆå§‹åŒ–çš„æ•°ç»„</span>
<span class="token keyword">let</span> a12 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">...</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
    <span class="token class-name">Int</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token operator">...</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>a12<span class="token punctuation">)</span> <span class="token comment">// [0, 3, 3, 2, 5] éšæœº</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>#if ç”¨äºåç¼€è¡¨è¾¾å¼</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// #if ç”¨äºåç¼€è¡¨è¾¾å¼</span>
<span class="token keyword">let</span> a13 <span class="token operator">=</span> a11
<span class="token directive property"><span class="token directive-name">#if</span> os<span class="token punctuation">(</span>iOS<span class="token punctuation">)</span></span>
    <span class="token punctuation">.</span>count
<span class="token directive property"><span class="token directive-name">#else</span></span>
    <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">+</span><span class="token punctuation">)</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>a13<span class="token punctuation">)</span> <span class="token comment">//37</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="Sets-Set"><a href="#Sets-Set" class="headerlink" title="Sets Set"></a>Sets Set<Int></h4><p>Set æ˜¯æ— åºé›†åˆï¼Œå…ƒç´ å”¯ä¸€</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> s0<span class="token punctuation">:</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">Int</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> s1<span class="token punctuation">:</span> <span class="token class-name">Set</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> s2<span class="token punctuation">:</span> <span class="token class-name">Set</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> s3 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">union</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">// åˆé›†</span>
<span class="token keyword">let</span> s4 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">intersection</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">// äº¤é›†</span>
<span class="token keyword">let</span> s5 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">subtracting</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">// éäº¤é›†éƒ¨åˆ†</span>
<span class="token keyword">let</span> s6 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">symmetricDifference</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span> <span class="token comment">// éäº¤é›†çš„åˆé›†</span>
<span class="token function">print</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span> <span class="token comment">// [4, 2, 1, 7, 3, 10, 8, 9, 6, 5]</span>
<span class="token function">print</span><span class="token punctuation">(</span>s4<span class="token punctuation">)</span> <span class="token comment">// [10]</span>
<span class="token function">print</span><span class="token punctuation">(</span>s5<span class="token punctuation">)</span> <span class="token comment">// [8, 4, 2, 6]</span>
<span class="token function">print</span><span class="token punctuation">(</span>s6<span class="token punctuation">)</span> <span class="token comment">// [9, 1, 3, 4, 5, 2, 6, 8, 7]</span>

<span class="token comment">// s0 æ˜¯å¦è¢« s1 åŒ…å«</span>
<span class="token function">print</span><span class="token punctuation">(</span>s0<span class="token punctuation">.</span><span class="token function">isSubset</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> s1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// s1 æ˜¯å¦åŒ…å«äº† s0</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">isSuperset</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> s0<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token keyword">let</span> s7<span class="token punctuation">:</span> <span class="token class-name">Set</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token comment">// s0 å’Œ s7 æ˜¯å¦æœ‰äº¤é›†</span>
<span class="token function">print</span><span class="token punctuation">(</span>s0<span class="token punctuation">.</span><span class="token function">isDisjoint</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> s7<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// å¯å˜ Set</span>
<span class="token keyword">var</span> s8<span class="token punctuation">:</span> <span class="token class-name">Set</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">]</span>
s8<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span>
s8<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s8<span class="token punctuation">)</span> <span class="token comment">// ["two", "three"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="å­—å…¸-1"><a href="#å­—å…¸-1" class="headerlink" title="å­—å…¸ [:]"></a>å­—å…¸ [:]</h4><p>å­—å…¸æ˜¯æ— åºé›†åˆï¼Œé”®å€¼å¯¹åº”ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> d1 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string-literal"><span class="token string">"k1"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"v1"</span></span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">"k2"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"v2"</span></span>
<span class="token punctuation">]</span>
d1<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k3"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"v3"</span></span>
d1<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k4"</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token nil constant">nil</span>

<span class="token function">print</span><span class="token punctuation">(</span>d1<span class="token punctuation">)</span> <span class="token comment">// ["k2": "v2", "k3": "v3", "k1": "v1"]</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token keyword">in</span> d1 <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"key is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">k</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, value is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">v</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
 key is k1, value is v1
 key is k2, value is v2
 key is k3, value is v3
 */</span>
 
<span class="token keyword">if</span> d1<span class="token punctuation">.</span>isEmpty <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>d1<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token comment">// 3</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// mapValues</span>
<span class="token keyword">let</span> d2 <span class="token operator">=</span> d1<span class="token punctuation">.</span>mapValues <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span> <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"_new"</span></span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>d2<span class="token punctuation">)</span> <span class="token comment">// ["k2": "v2_new", "k3": "v3_new", "k1": "v1_new"]</span>

<span class="token comment">// å¯¹å­—å…¸çš„å€¼æˆ–é”®è¿›è¡Œåˆ†ç»„</span>
<span class="token keyword">let</span> d3 <span class="token operator">=</span> <span class="token class-name">Dictionary</span><span class="token punctuation">(</span>grouping<span class="token punctuation">:</span> d1<span class="token punctuation">.</span>values<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>count
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>d3<span class="token punctuation">)</span> <span class="token comment">// [2: ["v1", "v2", "v3"]]</span>

<span class="token comment">// ä»å­—å…¸ä¸­å–å€¼ï¼Œå¦‚æœé”®å¯¹åº”æ— å€¼ï¼Œåˆ™ä½¿ç”¨é€šè¿‡ default æŒ‡å®šçš„é»˜è®¤å€¼</span>
d1<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k5"</span></span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"whatever"</span></span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"."</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>d1<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k5"</span></span><span class="token punctuation">]</span> <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span> <span class="token comment">// whatever.</span>
<span class="token keyword">let</span> v1 <span class="token operator">=</span> d1<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"k3"</span></span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"whatever"</span></span><span class="token punctuation">]</span>
<span class="token function">print</span><span class="token punctuation">(</span>v1<span class="token punctuation">)</span> <span class="token comment">// v3</span>

<span class="token comment">// compactMapValues() å¯¹å­—å…¸å€¼è¿›è¡Œè½¬æ¢å’Œè§£åŒ…ã€‚å¯ä»¥è§£å¯é€‰ç±»å‹ï¼Œå¹¶å»æ‰ nil å€¼</span>
<span class="token keyword">let</span> d4 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string-literal"><span class="token string">"k1"</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">"k2"</span></span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string-literal"><span class="token string">"k3"</span></span><span class="token punctuation">:</span> <span class="token nil constant">nil</span>
<span class="token punctuation">]</span>
<span class="token keyword">let</span> d5 <span class="token operator">=</span> d4<span class="token punctuation">.</span>mapValues <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span> <span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> d6 <span class="token operator">=</span> d4<span class="token punctuation">.</span>compactMapValues<span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span> <span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>d5<span class="token punctuation">)</span>
<span class="token comment">// ["k3": nil, "k1": Optional(1), "k2": Optional(2)]</span>
<span class="token function">print</span><span class="token punctuation">(</span>d6<span class="token punctuation">)</span>
<span class="token comment">// ["k1": 1, "k2": 2]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="æ“ä½œç¬¦-1"><a href="#æ“ä½œç¬¦-1" class="headerlink" title="æ“ä½œç¬¦"></a>æ“ä½œç¬¦</h3><h4 id="èµ‹å€¼-x3D-x3D-x3D-x3D-x2F-x3D-1"><a href="#èµ‹å€¼-x3D-x3D-x3D-x3D-x2F-x3D-1" class="headerlink" title="èµ‹å€¼ &#x3D;, +&#x3D;. -&#x3D;, *&#x3D;, &#x2F;&#x3D;"></a>èµ‹å€¼ &#x3D;, +&#x3D;. -&#x3D;, *&#x3D;, &#x2F;&#x3D;</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> i1 <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">var</span> i2 <span class="token operator">=</span> i1
i2 <span class="token operator">=</span> <span class="token number">2</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 2</span>

i2 <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 3</span>

i2 <span class="token operator">-=</span> <span class="token number">2</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 1</span>

i2 <span class="token operator">*=</span> <span class="token number">10</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 10</span>

i2 <span class="token operator">/=</span> <span class="token number">2</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="è®¡ç®—ç¬¦-x2F-1"><a href="#è®¡ç®—ç¬¦-x2F-1" class="headerlink" title="è®¡ç®—ç¬¦ +, -, *, &#x2F;, %"></a>è®¡ç®—ç¬¦ +, -, *, &#x2F;, %</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> i1 <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">let</span> i2 <span class="token operator">=</span> i1
<span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i1 <span class="token operator">+</span> i2 <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"i"</span></span> <span class="token operator">+</span> <span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">)</span> <span class="token comment">// i1</span>

<span class="token comment">// ä¸€å…ƒè¿ç®—ç¬¦</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token operator">-</span>i1<span class="token punctuation">)</span> <span class="token comment">// -1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="æ¯”è¾ƒè¿ç®—ç¬¦-x3D-x3D-gt-1"><a href="#æ¯”è¾ƒè¿ç®—ç¬¦-x3D-x3D-gt-1" class="headerlink" title="æ¯”è¾ƒè¿ç®—ç¬¦ &#x3D;&#x3D;, &gt;"></a>æ¯”è¾ƒè¿ç®—ç¬¦ &#x3D;&#x3D;, &gt;</h4><p>éµå¾ª Equatable åè®®å¯ä»¥ä½¿ç”¨ &#x3D;&#x3D; å’Œ !&#x3D; æ¥åˆ¤æ–­æ˜¯å¦ç›¸ç­‰</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token function">print</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token keyword">struct</span> <span class="token class-name">S</span><span class="token punctuation">:</span> <span class="token class-name">Equatable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s3 <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s4 <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token function">print</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s2<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s3<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1 <span class="token operator">==</span> s4<span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç±»éœ€è¦å®ç° &#x3D;&#x3D; å‡½æ•°</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">:</span> <span class="token class-name">Equatable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>p1 <span class="token operator">=</span> p1
        <span class="token keyword">self</span><span class="token punctuation">.</span>p2 <span class="token operator">=</span> p2
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token operator">==</span> <span class="token punctuation">(</span>l<span class="token punctuation">:</span> <span class="token class-name">C</span><span class="token punctuation">,</span> r<span class="token punctuation">:</span> <span class="token class-name">C</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Bool</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> l<span class="token punctuation">.</span>p1 <span class="token operator">==</span> r<span class="token punctuation">.</span>p1 <span class="token operator">&amp;&amp;</span> l<span class="token punctuation">.</span>p2 <span class="token operator">==</span> r<span class="token punctuation">.</span>p2
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> c1 <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> c2 <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1 <span class="token operator">==</span> c2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å…ƒç»„æ¯”è¾ƒ</span>
<span class="token comment">// ä¼šå…ˆæ¯”è¾ƒç¬¬ä¸€ä¸ªæ•°ï¼Œç¬¬ä¸€ä¸ªæ— æ³•æ¯”è¾ƒæ‰ä¼šæ¯”è¾ƒç¬¬äºŒä¸ªæ•°</span>
<span class="token comment">// å­—ç¬¦ä¸²æ¯”è¾ƒå’Œå­—æ¯å¤§å°è¿˜æœ‰é•¿åº¦æœ‰å…³ã€‚å…ˆæ¯”è¾ƒå­—æ¯å¤§å°ï¼Œåœ¨æ¯”è¾ƒé•¿åº¦</span>
<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"apple"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"apple"</span></span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"applf"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"apple"</span></span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"appl"</span></span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"apple"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"appm"</span></span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"apple"</span></span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="ä¸‰å…ƒ-1"><a href="#ä¸‰å…ƒ-1" class="headerlink" title="ä¸‰å…ƒ _ ? _ : _"></a>ä¸‰å…ƒ _ ? _ : _</h4><p>ç®€åŒ– if else å†™æ³•</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// if else</span>
<span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> p <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"positive number"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"negative number"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä¸‰å…ƒ</span>
<span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    p <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"positive number"</span></span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"negative number"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">f2</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Nil-coalescing-1"><a href="#Nil-coalescing-1" class="headerlink" title="Nil-coalescing ??"></a>Nil-coalescing ??</h4><p>ç®€åŒ– if let else å†™æ³•</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// if else</span>
<span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> i <span class="token operator">=</span> p <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p have value is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p is nil, use defalut value"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä½¿ç”¨ ??</span>
<span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> p <span class="token operator">??</span> <span class="token number">0</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="èŒƒå›´-aâ€¦b-1"><a href="#èŒƒå›´-aâ€¦b-1" class="headerlink" title="èŒƒå›´ aâ€¦b"></a>èŒƒå›´ aâ€¦b</h4><p>ç®€åŒ–çš„å€¼èŒƒå›´è¡¨è¾¾æ–¹å¼ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å°é—­èŒƒå›´</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">...</span><span class="token number">10</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// åŠå¼€èŒƒå›´</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">10</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å•ä¾§åŒºé—´</span>
<span class="token keyword">let</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
<span class="token function">print</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 7 8</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>


<h4 id="é€»è¾‘-amp-amp-1"><a href="#é€»è¾‘-amp-amp-1" class="headerlink" title="é€»è¾‘ !, &amp;&amp;, ||"></a>é€»è¾‘ !, &amp;&amp;, ||</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> i1 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token keyword">let</span> i2 <span class="token operator">=</span> <span class="token number">2</span>

<span class="token keyword">if</span> i1 <span class="token operator">!=</span> i2 <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i1 <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> i2 <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"i1 and i2 not equal, and one of them is negative number."</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="æ’ç­‰-x3D-x3D-x3D-x3D-x3D-1"><a href="#æ’ç­‰-x3D-x3D-x3D-x3D-x3D-1" class="headerlink" title="æ’ç­‰ &#x3D;&#x3D;&#x3D;, !&#x3D;&#x3D;"></a>æ’ç­‰ &#x3D;&#x3D;&#x3D;, !&#x3D;&#x3D;</h4><p>æ’ç­‰è¿”å›æ˜¯å¦å¼•ç”¨äº†ç›¸åŒå®ä¾‹ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>p <span class="token operator">=</span> p
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> c1 <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> c2 <span class="token operator">=</span> <span class="token class-name">C</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> c3 <span class="token operator">=</span> c1

<span class="token function">print</span><span class="token punctuation">(</span>c1 <span class="token operator">===</span> c2<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1 <span class="token operator">===</span> c3<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token function">print</span><span class="token punctuation">(</span>c1 <span class="token operator">!==</span> c2<span class="token punctuation">)</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="è¿ç®—ç¬¦-1"><a href="#è¿ç®—ç¬¦-1" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h4><p>ä½è¿ç®—ç¬¦</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> i1<span class="token punctuation">:</span> <span class="token class-name">UInt8</span> <span class="token operator">=</span> <span class="token number">0b00001111</span>
<span class="token keyword">let</span> i2 <span class="token operator">=</span> <span class="token operator">~</span>i1 <span class="token comment">// Bitwise NOT Operatorï¼ˆæŒ‰ä½å–åè¿ç®—ç¬¦ï¼‰ï¼Œå–å</span>

<span class="token keyword">let</span> i3<span class="token punctuation">:</span> <span class="token class-name">UInt8</span> <span class="token operator">=</span> <span class="token number">0b00111111</span>
<span class="token keyword">let</span> i4 <span class="token operator">=</span> i1 <span class="token operator">&amp;</span> i3 <span class="token comment">// Bitwise AND Operatorï¼ˆæŒ‰ä½ä¸è¿ç®—ç¬¦ï¼‰ï¼Œéƒ½ä¸º1æ‰æ˜¯1</span>
<span class="token keyword">let</span> i5 <span class="token operator">=</span> i1 <span class="token operator">|</span> i3 <span class="token comment">// Bitwise OR Operatorï¼ˆæŒ‰ä½æˆ–è¿ç®—ç¬¦ï¼‰ï¼Œæœ‰ä¸€ä¸ª1å°±æ˜¯1</span>
<span class="token keyword">let</span> i6 <span class="token operator">=</span> i1 <span class="token operator">^</span> i3 <span class="token comment">// Bitwise XOR Operatorï¼ˆæŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ï¼‰ï¼Œä¸åŒä¸º1ï¼Œç›¸åŒä¸º0</span>

<span class="token function">print</span><span class="token punctuation">(</span>i1<span class="token punctuation">,</span>i2<span class="token punctuation">,</span>i3<span class="token punctuation">,</span>i4<span class="token punctuation">,</span>i5<span class="token punctuation">,</span>i6<span class="token punctuation">)</span>

<span class="token comment">// &lt;&lt; æŒ‰ä½å·¦ç§»ï¼Œ>> æŒ‰ä½å³ç§»</span>
<span class="token keyword">let</span> i7 <span class="token operator">=</span> i1 <span class="token operator">&lt;&lt;</span> <span class="token number">1</span>
<span class="token keyword">let</span> i8 <span class="token operator">=</span> i1 <span class="token operator">>></span> <span class="token number">2</span>
<span class="token function">print</span><span class="token punctuation">(</span>i7<span class="token punctuation">,</span>i8<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æº¢å‡ºè¿ç®—ç¬¦ï¼Œæœ‰ &amp;+ã€&amp;- å’Œ &amp;*</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> i1 <span class="token operator">=</span> <span class="token class-name">Int</span><span class="token punctuation">.</span>max
<span class="token function">print</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span> <span class="token comment">// 9223372036854775807</span>
i1 <span class="token operator">=</span> i1 <span class="token operator">&amp;+</span> <span class="token number">1</span>
<span class="token function">print</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span> <span class="token comment">// -9223372036854775808</span>
i1 <span class="token operator">=</span> i1 <span class="token operator">&amp;+</span> <span class="token number">10</span>
<span class="token function">print</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span> <span class="token comment">// -9223372036854775798</span>

<span class="token keyword">var</span> i2 <span class="token operator">=</span> <span class="token class-name">UInt</span><span class="token punctuation">.</span>max
i2 <span class="token operator">=</span> i2 <span class="token operator">&amp;+</span> <span class="token number">1</span>
<span class="token function">print</span><span class="token punctuation">(</span>i2<span class="token punctuation">)</span> <span class="token comment">// 0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿ç®—ç¬¦å‡½æ•°åŒ…æ‹¬å‰ç¼€è¿ç®—ç¬¦ã€åç¼€è¿ç®—ç¬¦ã€å¤åˆèµ‹å€¼è¿ç®—ç¬¦ä»¥åŠç­‰ä»·è¿ç®—ç¬¦ã€‚å¦ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰è¿ç®—ç¬¦ï¼Œæ–°çš„è¿ç®—ç¬¦è¦ç”¨ operator å…³é”®å­—è¿›è¡Œå®šä¹‰ï¼ŒåŒæ—¶è¦æŒ‡å®š prefixã€infix æˆ–è€… postfix ä¿®é¥°ç¬¦ã€‚</p>
<h3 id="åŸºç¡€åº“-1"><a href="#åŸºç¡€åº“-1" class="headerlink" title="åŸºç¡€åº“"></a>åŸºç¡€åº“</h3><h4 id="æ—¶é—´-1"><a href="#æ—¶é—´-1" class="headerlink" title="æ—¶é—´"></a>æ—¶é—´</h4><p>Date çš„åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// Date è½¬ æ—¶é—´æˆ³</span>
<span class="token keyword">let</span> interval <span class="token operator">=</span> now<span class="token punctuation">.</span>timeIntervalSince1970 <span class="token comment">// æ—¶é—´æˆ³</span>
<span class="token keyword">let</span> df <span class="token operator">=</span> <span class="token class-name">DateFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>dateFormat <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"yyyy å¹´ MM æœˆ dd æ—¥ HH:mm:ss"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ—¶é—´æˆ³ï¼š</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">Int</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span> <span class="token comment">// æ—¶é—´æˆ³ï¼š1642399901</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ ¼å¼åŒ–çš„æ—¶é—´ï¼š"</span></span> <span class="token operator">+</span> df<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> now<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// æ ¼å¼åŒ–çš„æ—¶é—´ï¼š2022 å¹´ 01 æœˆ 17 æ—¥ 14:11:41</span>
df<span class="token punctuation">.</span>dateStyle <span class="token operator">=</span> <span class="token punctuation">.</span>short
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"short æ ·å¼æ—¶é—´ï¼š"</span></span> <span class="token operator">+</span> df<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> now<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// short æ ·å¼æ—¶é—´ï¼š2022/1/17</span>
df<span class="token punctuation">.</span>locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"zh_Hans_CN"</span></span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>dateStyle <span class="token operator">=</span> <span class="token punctuation">.</span>full
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"full æ ·å¼æ—¶é—´ï¼š"</span></span> <span class="token operator">+</span> df<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> now<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// full æ ·å¼æ—¶é—´ï¼š2022å¹´1æœˆ17æ—¥ æ˜ŸæœŸä¸€</span>

<span class="token comment">// æ—¶é—´æˆ³è½¬ Date</span>
<span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>timeIntervalSince1970<span class="token punctuation">:</span> interval<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token comment">// 2022-01-17 06:11:41 +0000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>å¤æ‚çš„æ—¶é—´æ“ä½œï¼Œæ¯”å¦‚è¯´ GitHub æ¥å£ä½¿ç”¨çš„æ˜¯ ISO æ ‡å‡†ï¼ŒRSS è¾“å‡ºçš„æ˜¯ RSS æ ‡å‡†å­—ç¬¦ä¸²ï¼Œä¸åŒæ ‡å‡†å¯¹åº”ä¸åŒæ—¶åŒºçš„æ—¶é—´è®¡ç®—å¤„ç†ï¼Œå¯ä»¥ä½¿ç”¨å¼€æºåº“  <a target="_blank" rel="noopener" href="https://github.com/malcommac/SwiftDate">SwiftDate</a>  æ¥å®Œæˆã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">SwiftDate</span>

<span class="token comment">// ä½¿ç”¨ SwiftDate åº“</span>
<span class="token keyword">let</span> cn <span class="token operator">=</span> <span class="token class-name">Region</span><span class="token punctuation">(</span>zone<span class="token punctuation">:</span> <span class="token class-name">Zones</span><span class="token punctuation">.</span>asiaShanghai<span class="token punctuation">,</span> locale<span class="token punctuation">:</span> <span class="token class-name">Locales</span><span class="token punctuation">.</span>chineseChina<span class="token punctuation">)</span>
<span class="token class-name">SwiftDate</span><span class="token punctuation">.</span>defaultRegion <span class="token operator">=</span> cn
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"2008-02-14 23:12:14"</span></span><span class="token punctuation">.</span><span class="token function">toDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>year <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span> <span class="token comment">// 2008</span>

<span class="token keyword">let</span> d1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"2022-01-17T23:20:35"</span></span><span class="token punctuation">.</span><span class="token function">toISODate</span><span class="token punctuation">(</span>region<span class="token punctuation">:</span> cn<span class="token punctuation">)</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> d1 <span class="token operator">=</span> d1 <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>d1<span class="token punctuation">.</span>minute<span class="token punctuation">)</span> <span class="token comment">// 20</span>
<span class="token keyword">let</span> d2 <span class="token operator">=</span> d1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">.</span>minutes
<span class="token function">print</span><span class="token punctuation">(</span>d2<span class="token punctuation">.</span>minute<span class="token punctuation">)</span>

<span class="token comment">// ä¸¤ä¸ª DateInRegion ç›¸å·®æ—¶é—´ interval</span>
<span class="token keyword">let</span> i1 <span class="token operator">=</span> <span class="token class-name">DateInRegion</span><span class="token punctuation">(</span><span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> region<span class="token punctuation">:</span> cn<span class="token punctuation">)</span> <span class="token operator">-</span> d1
<span class="token keyword">let</span> s1 <span class="token operator">=</span> i1<span class="token punctuation">.</span>toString <span class="token punctuation">&#123;</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>maximumUnitCount <span class="token operator">=</span> <span class="token number">4</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>allowedUnits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>day<span class="token punctuation">,</span> <span class="token punctuation">.</span>hour<span class="token punctuation">,</span> <span class="token punctuation">.</span>minute<span class="token punctuation">]</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>collapsesLargestUnit <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>unitsStyle <span class="token operator">=</span> <span class="token punctuation">.</span>abbreviated
    <span class="token short-argument">$0</span><span class="token punctuation">.</span>locale <span class="token operator">=</span> <span class="token class-name">Locales</span><span class="token punctuation">.</span>chineseChina
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment">// 9å°æ—¶45åˆ†é’Ÿ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="æ ¼å¼åŒ–-1"><a href="#æ ¼å¼åŒ–-1" class="headerlink" title="æ ¼å¼åŒ–"></a>æ ¼å¼åŒ–</h4><p>ä½¿ç”¨æ ‡å‡†åº“çš„æ ¼å¼æ¥æè¿°ä¸åŒåœºæ™¯çš„æƒ…å†µå¯ä»¥ä¸ç”¨å»è€ƒè™‘ç”±äºä¸åŒåœ°åŒºçš„åŒºåˆ«ï¼Œè¿™äº›åœ¨æ ‡å‡†åº“é‡Œå°±å¯ä»¥è‡ªåŠ¨å®Œæˆäº†ã€‚</p>
<p>æè¿°ä¸¤ä¸ªæ—¶é—´ä¹‹é—´ç›¸å·®å¤šé•¿æ—¶é—´</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// è®¡ç®—ä¸¤ä¸ªæ—¶é—´ä¹‹é—´ç›¸å·®å¤šå°‘æ—¶é—´ï¼Œæ”¯æŒå¤šç§è¯­è¨€å­—ç¬¦ä¸²</span>
<span class="token keyword">let</span> d1 <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>timeIntervalSince1970 <span class="token operator">-</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span>
<span class="token keyword">let</span> f1 <span class="token operator">=</span> <span class="token class-name">RelativeDateTimeFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
f1<span class="token punctuation">.</span>dateTimeStyle <span class="token operator">=</span> <span class="token punctuation">.</span>named
f1<span class="token punctuation">.</span>formattingContext <span class="token operator">=</span> <span class="token punctuation">.</span>beginningOfSentence
f1<span class="token punctuation">.</span>locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"zh_Hans_CN"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> f1<span class="token punctuation">.</span><span class="token function">localizedString</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>timeIntervalSince1970<span class="token punctuation">:</span> d1<span class="token punctuation">)</span><span class="token punctuation">,</span> relativeTo<span class="token punctuation">:</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// æ˜¨å¤©</span>

<span class="token comment">// ç®€å†™</span>
<span class="token keyword">let</span> str2 <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span>now<span class="token punctuation">.</span><span class="token function">addingTimeInterval</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>presentation<span class="token punctuation">:</span> <span class="token punctuation">.</span>named<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span> <span class="token comment">// yesterday</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>æè¿°å¤šä¸ªäº‹ç‰©</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// æè¿°å¤šä¸ªäº‹ç‰©</span>
<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token class-name">ListFormatter</span><span class="token punctuation">.</span><span class="token function">localizedString</span><span class="token punctuation">(</span>byJoining<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"å†¬å¤©"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"æ˜¥å¤©"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"å¤å¤©"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"ç§‹å¤©"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>


<p>æè¿°åå­—</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// åå­—</span>
<span class="token keyword">let</span> f2 <span class="token operator">=</span> <span class="token class-name">PersonNameComponentsFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> nc1 <span class="token operator">=</span> <span class="token class-name">PersonNameComponents</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
nc1<span class="token punctuation">.</span>familyName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"æˆ´"</span></span>
nc1<span class="token punctuation">.</span>givenName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"é“­"</span></span>
nc1<span class="token punctuation">.</span>nickname <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"é“­å“¥"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// æˆ´é“­</span>
f2<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token punctuation">.</span>short
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// é“­å“¥</span>
f2<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token punctuation">.</span>abbreviated
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// æˆ´</span>

<span class="token keyword">var</span> nc2 <span class="token operator">=</span> <span class="token class-name">PersonNameComponents</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
nc2<span class="token punctuation">.</span>familyName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Dai"</span></span>
nc2<span class="token punctuation">.</span>givenName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Ming"</span></span>
nc2<span class="token punctuation">.</span>nickname <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Starming"</span></span>
f2<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token keyword">default</span>
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Ming Dai</span>
f2<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token punctuation">.</span>short
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Starming</span>
f2<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token punctuation">.</span>abbreviated
<span class="token function">print</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> nc2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// MD</span>

<span class="token comment">// å–å‡ºå</span>
<span class="token keyword">let</span> componets <span class="token operator">=</span> f2<span class="token punctuation">.</span><span class="token function">personNameComponents</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"æˆ´é“­"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>componets<span class="token operator">?</span><span class="token punctuation">.</span>givenName <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span> <span class="token comment">// é“­</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>æè¿°æ•°å­—</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// æ•°å­—</span>
<span class="token keyword">let</span> f3 <span class="token operator">=</span> <span class="token class-name">NumberFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
f3<span class="token punctuation">.</span>locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"zh_Hans_CN"</span></span><span class="token punctuation">)</span>
f3<span class="token punctuation">.</span>numberStyle <span class="token operator">=</span> <span class="token punctuation">.</span>currency
<span class="token function">print</span><span class="token punctuation">(</span>f3<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token number">123456</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span> <span class="token comment">// Â¥123,456.00</span>
f3<span class="token punctuation">.</span>numberStyle <span class="token operator">=</span> <span class="token punctuation">.</span>percent
<span class="token function">print</span><span class="token punctuation">(</span>f3<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token number">123456</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span> <span class="token comment">// 12,345,600%</span>

<span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">1.23456</span>
<span class="token keyword">let</span> n1Str <span class="token operator">=</span> n1<span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span><span class="token punctuation">.</span>number<span class="token punctuation">.</span><span class="token function">precision</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">fractionLength</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rounded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>n1Str<span class="token punctuation">)</span> <span class="token comment">// 1.235</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>æè¿°åœ°å€</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// åœ°å€</span>
<span class="token keyword">import</span> <span class="token class-name">Contacts</span>

<span class="token keyword">let</span> f4 <span class="token operator">=</span> <span class="token class-name">CNPostalAddressFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> address <span class="token operator">=</span> <span class="token class-name">CNMutablePostalAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
address<span class="token punctuation">.</span>street <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"æµ·æ·€åŒºç‹åº„è·¯XXå·é™¢Xå·æ¥¼Xé—¨XXX"</span></span>
address<span class="token punctuation">.</span>postalCode <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"100083"</span></span>
address<span class="token punctuation">.</span>city <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"åŒ—äº¬"</span></span>
address<span class="token punctuation">.</span>country <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ä¸­å›½"</span></span>
<span class="token function">print</span><span class="token punctuation">(</span>f4<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> address<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">/// æµ·æ·€åŒºç‹åº„è·¯XXå·é™¢Xå·æ¥¼Xé—¨XXX</span>
<span class="token comment">/// åŒ—äº¬ 100083</span>
<span class="token comment">/// ä¸­å›½</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="åº¦é‡å€¼-1"><a href="#åº¦é‡å€¼-1" class="headerlink" title="åº¦é‡å€¼"></a>åº¦é‡å€¼</h4><p>æ ‡å‡†åº“é‡Œçš„ç‰©ç†é‡ï¼Œåœ¨è¿™ä¸ªæ–‡æ¡£é‡Œæœ‰è¯¦ç»†åˆ—å‡ºï¼ŒåŒ…æ‹¬è§’åº¦ã€å¹³æ–¹ç±³ç­‰ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å‚è€ƒï¼šhttps://developer.apple.com/documentation/foundation/nsdimension</span>
<span class="token keyword">let</span> m1 <span class="token operator">=</span> <span class="token class-name">Measurement</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> unit<span class="token punctuation">:</span> <span class="token class-name">UnitLength</span><span class="token punctuation">.</span>kilometers<span class="token punctuation">)</span>
<span class="token keyword">let</span> m2 <span class="token operator">=</span> m1<span class="token punctuation">.</span><span class="token function">converted</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token punctuation">.</span>meters<span class="token punctuation">)</span> <span class="token comment">// åƒç±³è½¬ç±³</span>
<span class="token function">print</span><span class="token punctuation">(</span>m2<span class="token punctuation">)</span> <span class="token comment">// 1000.0 m</span>
<span class="token comment">// åº¦é‡å€¼è½¬ä¸ºæœ¬åœ°åŒ–çš„å€¼</span>
<span class="token keyword">let</span> mf <span class="token operator">=</span> <span class="token class-name">MeasurementFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
mf<span class="token punctuation">.</span>locale <span class="token operator">=</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"zh_Hans_CN"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>mf<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> m1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1å…¬é‡Œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸€äº›ç‰©ç†å…¬å¼ä¾›å‚è€ƒï¼š</p>
<pre class="line-numbers language-none"><code class="language-none">é¢ç§¯ &#x3D; é•¿åº¦ Ã— é•¿åº¦
ä½“ç§¯ &#x3D; é•¿åº¦ Ã— é•¿åº¦ Ã— é•¿åº¦ &#x3D; é¢ç§¯ Ã— é•¿åº¦

é€Ÿåº¦&#x3D;é•¿åº¦&#x2F;æ—¶é—´
åŠ é€Ÿåº¦&#x3D;é€Ÿåº¦&#x2F;æ—¶é—´

åŠ› &#x3D; è´¨é‡ Ã— åŠ é€Ÿåº¦
æ‰­çŸ© &#x3D; åŠ› Ã— é•¿åº¦
å‹åŠ› &#x3D; åŠ› &#x2F; é¢ç§¯

å¯†åº¦&#x3D;è´¨é‡ &#x2F; ä½“ç§¯
èƒ½é‡ &#x3D; åŠŸç‡ Ã— æ—¶é—´
ç”µé˜» &#x3D; ç”µå‹ &#x2F; ç”µæµ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Data-1"><a href="#Data-1" class="headerlink" title="Data"></a>Data</h4><p>æ•°æ®å‹ç¼©å’Œè§£å‹</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// å¯¹æ•°æ®çš„å‹ç¼©</span>
<span class="token keyword">let</span> d1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"çœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿçœ‹çœ‹èƒ½å¤Ÿå‹ç¼©å¤šå°‘ï¼Ÿ"</span></span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>using<span class="token punctuation">:</span> <span class="token punctuation">.</span>utf8<span class="token punctuation">)</span><span class="token operator">!</span> <span class="token keyword">as</span> <span class="token class-name">NSData</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ori </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">d1<span class="token punctuation">.</span>count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> bytes"</span></span><span class="token punctuation">)</span>
<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/// å‹ç¼©ç®—æ³•</span>
    <span class="token comment">/// * lz4</span>
    <span class="token comment">/// * lzma</span>
    <span class="token comment">/// * zlib</span>
    <span class="token comment">/// * lzfse</span>
    <span class="token keyword">let</span> compressed <span class="token operator">=</span> <span class="token keyword">try</span> d1<span class="token punctuation">.</span><span class="token function">compressed</span><span class="token punctuation">(</span>using<span class="token punctuation">:</span> <span class="token punctuation">.</span>zlib<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"comp </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">compressed<span class="token punctuation">.</span>count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> bytes"</span></span><span class="token punctuation">)</span>
    
    <span class="token comment">// å¯¹æ•°æ®è§£å‹</span>
    <span class="token keyword">let</span> decomressed <span class="token operator">=</span> <span class="token keyword">try</span> compressed<span class="token punctuation">.</span><span class="token function">decompressed</span><span class="token punctuation">(</span>using<span class="token punctuation">:</span> <span class="token punctuation">.</span>zlib<span class="token punctuation">)</span>
    <span class="token keyword">let</span> deStr <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">(</span>data<span class="token punctuation">:</span> decomressed <span class="token keyword">as</span> <span class="token class-name">Data</span><span class="token punctuation">,</span> encoding<span class="token punctuation">:</span> <span class="token punctuation">.</span>utf8<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>deStr <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token comment">/// ori 297 bytes</span>
<span class="token comment">/// comp 37 bytes</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="æ–‡ä»¶-1"><a href="#æ–‡ä»¶-1" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h4><p>æ–‡ä»¶çš„ä¸€äº›åŸºæœ¬æ“ä½œçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> path1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"/Users/mingdai/Downloads/1.html"</span></span>
<span class="token keyword">let</span> path2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"/Users/mingdai/Documents/GitHub/"</span></span>

<span class="token keyword">let</span> u1 <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> path1<span class="token punctuation">)</span>
<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å†™å…¥</span>
    <span class="token keyword">let</span> url1 <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>itemReplacementDirectory<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>userDomainMask<span class="token punctuation">,</span> appropriateFor<span class="token punctuation">:</span> u1<span class="token punctuation">,</span> create<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// ä¿è¯åŸå­æ€§å®‰å…¨ä¿å­˜</span>
    <span class="token function">print</span><span class="token punctuation">(</span>url1<span class="token punctuation">)</span>

    <span class="token comment">// è¯»å–</span>
    <span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token class-name">String</span><span class="token punctuation">(</span>contentsOfFile<span class="token punctuation">:</span> path1<span class="token punctuation">,</span> encoding<span class="token punctuation">:</span> <span class="token punctuation">.</span>utf8<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>

<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token comment">// æ£€æŸ¥è·¯å¾„æ˜¯å¦å¯ç”¨</span>
<span class="token keyword">let</span> u2 <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>fileURLWithPath<span class="token punctuation">:</span>path2<span class="token punctuation">)</span>
<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token keyword">try</span> u2<span class="token punctuation">.</span><span class="token function">resourceValues</span><span class="token punctuation">(</span>forKeys<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>volumeAvailableCapacityForImportantUsageKey<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> capacity <span class="token operator">=</span> values<span class="token punctuation">.</span>volumeAvailableCapacityForImportantUsage <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å¯ç”¨: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">capacity</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸å¯ç”¨"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é”™è¯¯: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">error<span class="token punctuation">.</span>localizedDescription</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ€ä¹ˆéå†å¤šçº§ç›®å½•ç»“æ„ä¸­çš„æ–‡ä»¶å‘¢ï¼Ÿçœ‹ä¸‹é¢çš„ä»£ç çš„å®ç°ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// éå†è·¯å¾„ä¸‹æ‰€æœ‰ç›®å½•</span>
<span class="token keyword">let</span> u3 <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>fileURLWithPath<span class="token punctuation">:</span> <span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span>currentDirectoryPath<span class="token punctuation">)</span>
<span class="token keyword">let</span> fm <span class="token operator">=</span> <span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span>
fm<span class="token punctuation">.</span><span class="token function">enumerator</span><span class="token punctuation">(</span>atPath<span class="token punctuation">:</span> u3<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> path <span class="token keyword">in</span>
    <span class="token keyword">guard</span> <span class="token keyword">let</span> path <span class="token operator">=</span> path <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">String</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>fileURLWithPath<span class="token punctuation">:</span> path<span class="token punctuation">,</span> relativeTo<span class="token punctuation">:</span> u3<span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>lastPathComponent<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¯ä»¥ä½¿ç”¨ FileWrapper æ¥åˆ›å»ºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// FileWrapper çš„ä½¿ç”¨</span>
<span class="token comment">// åˆ›å»ºæ–‡ä»¶</span>
<span class="token keyword">let</span> f1 <span class="token operator">=</span> <span class="token class-name">FileWrapper</span><span class="token punctuation">(</span>regularFileWithContents<span class="token punctuation">:</span> <span class="token class-name">Data</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"# ç¬¬ n ä¸ªæ–‡ä»¶\n ## æ ‡é¢˜"</span></span><span class="token punctuation">.</span>utf8<span class="token punctuation">)</span><span class="token punctuation">)</span>
f1<span class="token punctuation">.</span>fileAttributes<span class="token punctuation">[</span><span class="token class-name">FileAttributeKey</span><span class="token punctuation">.</span>creationDate<span class="token punctuation">.</span>rawValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
f1<span class="token punctuation">.</span>fileAttributes<span class="token punctuation">[</span><span class="token class-name">FileAttributeKey</span><span class="token punctuation">.</span>modificationDate<span class="token punctuation">.</span>rawValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// åˆ›å»ºæ–‡ä»¶å¤¹</span>
<span class="token keyword">let</span> folder1 <span class="token operator">=</span> <span class="token class-name">FileWrapper</span><span class="token punctuation">(</span>directoryWithFileWrappers<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string-literal"><span class="token string">"file1.md"</span></span><span class="token punctuation">:</span> f1
<span class="token punctuation">]</span><span class="token punctuation">)</span>
folder1<span class="token punctuation">.</span>fileAttributes<span class="token punctuation">[</span><span class="token class-name">FileAttributeKey</span><span class="token punctuation">.</span>creationDate<span class="token punctuation">.</span>rawValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
folder1<span class="token punctuation">.</span>fileAttributes<span class="token punctuation">[</span><span class="token class-name">FileAttributeKey</span><span class="token punctuation">.</span>modificationDate<span class="token punctuation">.</span>rawValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">try</span> folder1<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>
        to<span class="token punctuation">:</span> <span class="token function">URL</span><span class="token punctuation">(</span>fileURLWithPath<span class="token punctuation">:</span> <span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span>currentDirectoryPath<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendingPathComponent</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"NewFolder"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">.</span>atomic<span class="token punctuation">,</span>
        originalContentsURL<span class="token punctuation">:</span> <span class="token nil constant">nil</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">FileManager</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span>currentDirectoryPath<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸Šé¢ä»£ç å†™èµ·æ¥æ¯”è¾ƒç¹çï¼Œå¯¹ FileWrapper æ›´å¥½çš„å°è£…å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ã€Š <a target="_blank" rel="noopener" href="https://heberti.com/posts/filewrapper/">A Type-Safe FileWrapper | Heberti Almeida</a> ã€‹ã€‚</p>
<p>æ–‡ä»¶è¯»å†™å¤„ç†å®Œæ•´èƒ½åŠ›å¯ä»¥å‚çœ‹è¿™ä¸ªåº“  <a target="_blank" rel="noopener" href="https://github.com/JohnSundell/Files">GitHub - JohnSundell&#x2F;Files: A nicer way to handle files &amp; folders in Swift</a> </p>
<p>æœ¬åœ°æˆ–è€…ç½‘ç»œä¸Šï¼Œæ¯”å¦‚ç½‘ç›˜å’ŒFTPçš„æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ€æ ·çŸ¥é“èƒ½å¤Ÿè§‚å¯Ÿåˆ°å‘¢ï¼Ÿ</p>
<p>é€šè¿‡ HTTPHeader é‡Œçš„ If-Modified-Sinceã€Last-Modifiedã€If-None-Match å’Œ Etag ç­‰å­—æ®µæ¥åˆ¤æ–­æ–‡ä»¶çš„å˜åŒ–ï¼Œæœ¬åœ°åˆ™æ˜¯ä½¿ç”¨ DispatchSource.makeFileSystemObjectSource æ¥è¿›è¡Œçš„æ–‡ä»¶å˜åŒ–ç›‘å¬ã€‚å¯ä»¥å‚è€ƒ  <a target="_blank" rel="noopener" href="https://github.com/krzysztofzablocki/KZFileWatchers">KZFileWatchers</a>  åº“çš„åšæ³•ã€‚</p>
<h4 id="Scanner-1"><a href="#Scanner-1" class="headerlink" title="Scanner"></a>Scanner</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"""
one1,
two2,
three3.
"""</span></span>
<span class="token keyword">let</span> sn1 <span class="token operator">=</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> s1<span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token operator">!</span>sn1<span class="token punctuation">.</span>isAtEnd <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> r1 <span class="token operator">=</span> sn1<span class="token punctuation">.</span><span class="token function">scanUpToCharacters</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token punctuation">.</span>newlines<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span>r1 <span class="token keyword">as</span> <span class="token class-name">String</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/// one1,</span>
<span class="token comment">/// two2,</span>
<span class="token comment">/// three3.</span>

<span class="token comment">// æ‰¾å‡ºæ•°å­—</span>
<span class="token keyword">let</span> sn2 <span class="token operator">=</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> s1<span class="token punctuation">)</span>
sn2<span class="token punctuation">.</span>charactersToBeSkipped <span class="token operator">=</span> <span class="token class-name">CharacterSet</span><span class="token punctuation">.</span>decimalDigits<span class="token punctuation">.</span>inverted <span class="token comment">// ä¸æ˜¯æ•°å­—çš„å°±è·³è¿‡</span>
<span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">while</span> <span class="token operator">!</span>sn2<span class="token punctuation">.</span>isAtEnd <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> sn2<span class="token punctuation">.</span><span class="token function">scanInt</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/// 1</span>
<span class="token comment">/// 2</span>
<span class="token comment">/// 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸Šé¢çš„ä»£ç è¿˜ä¸æ˜¯é‚£ä¹ˆ Swiftyï¼Œå¯ä»¥é€šè¿‡ç”¨AnySequenceå’ŒAnyIteratoræ¥åŒ…è£…ä¸‹ï¼Œå°†åºåˆ—ä¸­çš„å…ƒç´ æ¨è¿Ÿåˆ°å®é™…éœ€è¦æ—¶å†æ¥å¤„ç†ï¼Œè¿™æ ·æ€§èƒ½ä¹Ÿä¼šæ›´å¥½äº›ã€‚å…·ä½“å®ç°å¯ä»¥å‚çœ‹ã€Š <a target="_blank" rel="noopener" href="https://www.swiftbysundell.com/articles/string-parsing-in-swift/">String parsing in Swift</a> ã€‹è¿™ç¯‡æ–‡ç« ã€‚</p>
<h4 id="AttributeString-1"><a href="#AttributeString-1" class="headerlink" title="AttributeString"></a>AttributeString</h4><p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/251980/150132322-20c5c2d4-6452-4d06-9202-4b93cffd8133.png"></p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> aStrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">AttributedString</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> aStr1 <span class="token operator">=</span> <span class="token class-name">AttributedString</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"""
æ ‡é¢˜
æ­£æ–‡å†…å®¹ï¼Œå…·ä½“æŸ¥çœ‹é“¾æ¥ã€‚
è¿™é‡Œæ‘˜å‡ºç¬¬ä¸€ä¸ªé‡ç‚¹ï¼Œè¿˜è¦å¼ºè°ƒçš„å†…å®¹ã€‚
"""</span></span><span class="token punctuation">)</span>
<span class="token comment">// æ ‡é¢˜</span>
<span class="token keyword">let</span> title <span class="token operator">=</span> aStr1<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"æ ‡é¢˜"</span></span><span class="token punctuation">)</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> title <span class="token operator">=</span> title <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> aStrs
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> c1 <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å¯å¤ç”¨å®¹å™¨</span>
c1<span class="token punctuation">.</span>inlinePresentationIntent <span class="token operator">=</span> <span class="token punctuation">.</span>stronglyEmphasized
c1<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token punctuation">.</span>largeTitle
aStr1<span class="token punctuation">[</span>title<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span>

<span class="token comment">// é“¾æ¥</span>
<span class="token keyword">let</span> link <span class="token operator">=</span> aStr1<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"é“¾æ¥"</span></span><span class="token punctuation">)</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> link <span class="token operator">=</span> link <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> aStrs
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> c2 <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// é“¾æ¥</span>
c2<span class="token punctuation">.</span>strokeColor <span class="token operator">=</span> <span class="token punctuation">.</span>blue
c2<span class="token punctuation">.</span>link <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://ming1016.github.io/"</span></span><span class="token punctuation">)</span>
aStr1<span class="token punctuation">[</span>link<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>c2<span class="token punctuation">.</span><span class="token function">merging</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// åˆå¹¶ AttributeContainer</span>

<span class="token comment">// Runs</span>
<span class="token keyword">let</span> i1 <span class="token operator">=</span> aStr1<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"é‡ç‚¹"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> i2 <span class="token operator">=</span> aStr1<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"å¼ºè°ƒ"</span></span><span class="token punctuation">)</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> i1 <span class="token operator">=</span> i1<span class="token punctuation">,</span> <span class="token keyword">let</span> i2 <span class="token operator">=</span> i2 <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> aStrs
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> c3 <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
c3<span class="token punctuation">.</span>foregroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>yellow
c3<span class="token punctuation">.</span>inlinePresentationIntent <span class="token operator">=</span> <span class="token punctuation">.</span>stronglyEmphasized
aStr1<span class="token punctuation">[</span>i1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span>
aStr1<span class="token punctuation">[</span>i2<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span>

<span class="token keyword">for</span> r <span class="token keyword">in</span> aStr1<span class="token punctuation">.</span>runs <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"-------------"</span></span><span class="token punctuation">)</span>
    <span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>attributes<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

aStrs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>aStr1<span class="token punctuation">)</span>

<span class="token comment">// Markdown</span>
<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> aStr2 <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token class-name">AttributedString</span><span class="token punctuation">(</span>markdown<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"""
    å†…å®¹[é“¾æ¥](https://ming1016.github.io/)ã€‚éœ€è¦**å¼ºè°ƒ**çš„å†…å®¹ã€‚
    """</span></span><span class="token punctuation">)</span>
    
    aStrs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>aStr2<span class="token punctuation">)</span>
    
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>SwiftUI çš„ Text å¯ä»¥ç›´æ¥è¯»å– AttributedString æ¥è¿›è¡Œæ˜¾ç¤ºã€‚</p>
<h4 id="éšæœº-1"><a href="#éšæœº-1" class="headerlink" title="éšæœº"></a>éšæœº</h4><p>ç”¨æ³•ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> ri <span class="token operator">=</span> <span class="token class-name">Int</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>ri<span class="token punctuation">)</span> <span class="token comment">// 0åˆ°10éšæœºæ•°</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">randomElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// æ•°ç»„ä¸­éšæœºå–ä¸ªæ•°</span>
<span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">shuffled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// éšæœºæ‰“ä¹±æ•°ç»„é¡ºåº</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="UserDefaults-1"><a href="#UserDefaults-1" class="headerlink" title="UserDefaults"></a>UserDefaults</h4><p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token class-name">UDKey</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> k1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"token"</span></span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> ud <span class="token operator">=</span> <span class="token class-name">UserDefaults</span><span class="token punctuation">.</span>standard
ud<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"xxxxxx"</span></span><span class="token punctuation">,</span> forKey<span class="token punctuation">:</span> <span class="token class-name">UDKey</span><span class="token punctuation">.</span>k1<span class="token punctuation">)</span>
<span class="token keyword">let</span> tk <span class="token operator">=</span> ud<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>forKey<span class="token punctuation">:</span> <span class="token class-name">UDKey</span><span class="token punctuation">.</span>k1<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>tk <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="æ¨¡å¼-1"><a href="#æ¨¡å¼-1" class="headerlink" title="æ¨¡å¼"></a>æ¨¡å¼</h3><h4 id="å•ä¾‹-1"><a href="#å•ä¾‹-1" class="headerlink" title="å•ä¾‹"></a>å•ä¾‹</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> shared <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// é˜²æ­¢å®ä¾‹åˆå§‹åŒ–</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="ç³»ç»ŸåŠè®¾å¤‡-1"><a href="#ç³»ç»ŸåŠè®¾å¤‡-1" class="headerlink" title="ç³»ç»ŸåŠè®¾å¤‡"></a>ç³»ç»ŸåŠè®¾å¤‡</h3><h4 id="ç³»ç»Ÿåˆ¤æ–­-1"><a href="#ç³»ç»Ÿåˆ¤æ–­-1" class="headerlink" title="ç³»ç»Ÿåˆ¤æ–­"></a>ç³»ç»Ÿåˆ¤æ–­</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token directive property"><span class="token directive-name">#if</span> os<span class="token punctuation">(</span>tvOS<span class="token punctuation">)</span></span>
     <span class="token comment">// do something in tvOS</span>
<span class="token directive property"><span class="token directive-name">#elseif</span> os<span class="token punctuation">(</span>iOS<span class="token punctuation">)</span></span>
     <span class="token comment">// do somthing in iOS</span>
<span class="token directive property"><span class="token directive-name">#elseif</span> os<span class="token punctuation">(</span>macOS<span class="token punctuation">)</span></span>
    <span class="token comment">// do somthing in macOS</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="ç‰ˆæœ¬å…¼å®¹-1"><a href="#ç‰ˆæœ¬å…¼å®¹-1" class="headerlink" title="ç‰ˆæœ¬å…¼å®¹"></a>ç‰ˆæœ¬å…¼å®¹</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// ç‰ˆæœ¬</span>
<span class="token attribute atrule">@available</span><span class="token punctuation">(</span>iOS <span class="token number">15</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function-definition function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token comment">// ç‰ˆæœ¬æ£€æŸ¥</span>
<span class="token keyword">if</span> <span class="token other-directive property">#available</span><span class="token punctuation">(</span>iOS <span class="token number">15</span><span class="token punctuation">,</span> macOS <span class="token number">12</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// nothing happen</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="canImport-åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨-1"><a href="#canImport-åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨-1" class="headerlink" title="canImport åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨"></a>canImport åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token directive property"><span class="token directive-name">#if</span> canImport<span class="token punctuation">(</span>SpriteKit<span class="token punctuation">)</span></span>
   <span class="token comment">// iOS ç­‰è‹¹æœç³»ç»Ÿæ‰§è¡Œ</span>
<span class="token directive property"><span class="token directive-name">#else</span></span>
   <span class="token comment">// éè‹¹æœç³»ç»Ÿ</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="targetEnvironment-ç¯å¢ƒçš„åˆ¤æ–­-1"><a href="#targetEnvironment-ç¯å¢ƒçš„åˆ¤æ–­-1" class="headerlink" title="targetEnvironment ç¯å¢ƒçš„åˆ¤æ–­"></a>targetEnvironment ç¯å¢ƒçš„åˆ¤æ–­</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token directive property"><span class="token directive-name">#if</span> targetEnvironment<span class="token punctuation">(</span>simulator<span class="token punctuation">)</span></span>
   <span class="token comment">// æ¨¡æ‹Ÿå™¨</span>
<span class="token directive property"><span class="token directive-name">#else</span></span>
   <span class="token comment">// çœŸæœº</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="è‡ªå¸¦å±æ€§åŒ…è£…-1"><a href="#è‡ªå¸¦å±æ€§åŒ…è£…-1" class="headerlink" title="è‡ªå¸¦å±æ€§åŒ…è£…"></a>è‡ªå¸¦å±æ€§åŒ…è£…</h3><h4 id="resultBuilder-1"><a href="#resultBuilder-1" class="headerlink" title="@resultBuilder"></a>@resultBuilder</h4><p>ç»“æœç”Ÿæˆå™¨ï¼ˆResult buildersï¼‰ï¼Œé€šè¿‡ä¼ é€’åºåˆ—åˆ›å»ºæ–°å€¼ï¼ŒSwiftUIå°±æ˜¯ä½¿ç”¨çš„ç»“æœç”Ÿæˆå™¨å°†å¤šä¸ªè§†å›¾ç”Ÿæˆä¸€ä¸ªè§†å›¾</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token attribute atrule">@resultBuilder</span>
<span class="token keyword">struct</span> <span class="token constant">RBS</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// åŸºæœ¬é—­åŒ…æ”¯æŒ</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">buildBlock</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> components<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        components<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> partialResult<span class="token punctuation">,</span> i <span class="token keyword">in</span>
            partialResult <span class="token operator">+</span> i
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// æ”¯æŒæ¡ä»¶åˆ¤æ–­</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">buildEither</span><span class="token punctuation">(</span>first component<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        component
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">buildEither</span><span class="token punctuation">(</span>second component<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        component
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// æ”¯æŒå¾ªç¯</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">buildArray</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> components<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        components<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> partialResult<span class="token punctuation">,</span> i <span class="token keyword">in</span>
            partialResult <span class="token operator">+</span> i
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token constant">RBS</span><span class="token punctuation">.</span><span class="token function">buildBlock</span><span class="token punctuation">(</span>
    <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token number">3</span>
<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 6</span>

<span class="token comment">// åº”ç”¨åˆ°å‡½æ•°ä¸­</span>
<span class="token attribute atrule">@RBS</span> <span class="token keyword">func</span> <span class="token function-definition function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
    <span class="token number">1</span>
    <span class="token number">2</span>
    <span class="token number">3</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>

<span class="token comment">// è®¾ç½®äº† buildEither å°±å¯ä»¥åœ¨é—­åŒ…ä¸­è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚</span>
<span class="token attribute atrule">@RBS</span> <span class="token keyword">func</span> <span class="token function-definition function">f2</span><span class="token punctuation">(</span>stopAtThree<span class="token punctuation">:</span> <span class="token class-name">Bool</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
    <span class="token number">1</span>
    <span class="token number">2</span>
    <span class="token number">3</span>
    <span class="token keyword">if</span> stopAtThree <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token punctuation">&#123;</span>
        <span class="token number">0</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token number">4</span>
        <span class="token number">5</span>
        <span class="token number">6</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f2</span><span class="token punctuation">(</span>stopAtThree<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 21</span>

<span class="token comment">// è®¾ç½®äº† buildArray å°±å¯ä»¥åœ¨é—­åŒ…å†…ä½¿ç”¨å¾ªç¯äº†</span>
<span class="token attribute atrule">@RBS</span> <span class="token keyword">func</span> <span class="token function-definition function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">3</span> <span class="token punctuation">&#123;</span>
        i <span class="token operator">*</span> <span class="token number">2</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 12</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0348-buildpartialblock.md">SE-0348 buildPartialBlock for result builders</a>  ç®€åŒ–äº†å®ç°å¤æ‚ result buiders æ‰€éœ€çš„é‡è½½ã€‚</p>
<h4 id="dynamicMemberLookup-åŠ¨æ€æˆå‘˜æŸ¥è¯¢-1"><a href="#dynamicMemberLookup-åŠ¨æ€æˆå‘˜æŸ¥è¯¢-1" class="headerlink" title="@dynamicMemberLookup åŠ¨æ€æˆå‘˜æŸ¥è¯¢"></a>@dynamicMemberLookup åŠ¨æ€æˆå‘˜æŸ¥è¯¢</h4><p>@dynamicMemberLookup æŒ‡ç¤ºè®¿é—®å±æ€§æ—¶è°ƒç”¨ä¸€ä¸ªå·²å®ç°çš„å¤„ç†åŠ¨æ€æŸ¥æ‰¾çš„ä¸‹æ ‡æ–¹æ³• subscript(dynamicMemeber:)ï¼Œé€šè¿‡æŒ‡å®šå±æ€§å­—ç¬¦ä¸²åè¿”å›å€¼ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token attribute atrule">@dynamicMemberLookup</span>
<span class="token keyword">struct</span> <span class="token class-name">D</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// æ‰¾å­—ç¬¦ä¸²</span>
    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember m<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"first"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"second"</span></span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> p<span class="token punctuation">[</span>m<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// æ‰¾æ•´å‹</span>
    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember m<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> p<span class="token punctuation">[</span>m<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// æ‰¾é—­åŒ…</span>
    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember m<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">(</span><span class="token omit keyword">_</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"show </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token short-argument">$0</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// é™æ€æ•°ç»„æˆå‘˜</span>
    <span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"This is a member"</span></span><span class="token punctuation">]</span>
    <span class="token comment">// åŠ¨æ€æ•°ç»„æˆå‘˜</span>
    <span class="token keyword">subscript</span><span class="token punctuation">(</span>dynamicMember m<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"This is a dynamic member"</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token class-name">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s1<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> d<span class="token punctuation">.</span>one
<span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment">// first</span>
<span class="token keyword">let</span> i1<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> d<span class="token punctuation">.</span>one
<span class="token function">print</span><span class="token punctuation">(</span>i1<span class="token punctuation">)</span> <span class="token comment">// 1</span>
d<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"something"</span></span><span class="token punctuation">)</span> <span class="token comment">// show something</span>
<span class="token function">print</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>p<span class="token punctuation">)</span> <span class="token comment">// ["This is a member"]</span>
<span class="token keyword">let</span> dynamicP<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">.</span>dp
<span class="token function">print</span><span class="token punctuation">(</span>dynamicP<span class="token punctuation">)</span> <span class="token comment">// ["This is a dynamic member"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç±»ä½¿ç”¨ @dynamicMemberLookupï¼Œç»§æ‰¿çš„ç±»ä¹Ÿä¼šè‡ªåŠ¨åŠ ä¸Š @dynamicMemberLookupã€‚åè®®ä¸Šå®šä¹‰ @dynamicMemberLookupï¼Œé€šè¿‡æ‰©å±•å¯ä»¥é»˜è®¤å®ç° subscript(dynamicMember:) æ–¹æ³•ã€‚</p>
<h4 id="dynamicCallable-åŠ¨æ€å¯è°ƒç”¨ç±»å‹-1"><a href="#dynamicCallable-åŠ¨æ€å¯è°ƒç”¨ç±»å‹-1" class="headerlink" title="@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹"></a>@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹</h4><p>@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹ã€‚é€šè¿‡å®ç° dynamicallyCall æ–¹æ³•æ¥å®šä¹‰å˜å‚çš„å¤„ç†ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token attribute atrule">@dynamicCallable</span>
<span class="token keyword">struct</span> <span class="token class-name">D</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å¸¦å‚æ•°è¯´æ˜</span>
    <span class="token keyword">func</span> <span class="token function-definition function">dynamicallyCall</span><span class="token punctuation">(</span>withKeywordArguments args<span class="token punctuation">:</span> <span class="token class-name">KeyValuePairs</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Int</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> firstArg <span class="token operator">=</span> args<span class="token punctuation">.</span>first<span class="token operator">?</span><span class="token punctuation">.</span>value <span class="token operator">??</span> <span class="token number">0</span>
        <span class="token keyword">return</span> firstArg <span class="token operator">*</span> <span class="token number">2</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// æ— å‚æ•°è¯´æ˜</span>
    <span class="token keyword">func</span> <span class="token function-definition function">dynamicallyCall</span><span class="token punctuation">(</span>withArguments args<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> firstArg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
        <span class="token keyword">if</span> args<span class="token punctuation">.</span>count <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>
            firstArg <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"show </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">firstArg</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token class-name">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token function">d</span><span class="token punctuation">(</span>numberIs<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// 4</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// show hi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="è‡ªå¸¦åè®®-1"><a href="#è‡ªå¸¦åè®®-1" class="headerlink" title="è‡ªå¸¦åè®®"></a>è‡ªå¸¦åè®®</h3><h4 id="Hashable-1"><a href="#Hashable-1" class="headerlink" title="Hashable"></a>Hashable</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">H</span><span class="token punctuation">:</span> <span class="token class-name">Hashable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> p2<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    
    <span class="token comment">// æä¾›éšæœº seed</span>
    <span class="token keyword">func</span> <span class="token function-definition function">hash</span><span class="token punctuation">(</span>into hasher<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">Hasher</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        hasher<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> h1 <span class="token operator">=</span> <span class="token class-name">H</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> h2 <span class="token operator">=</span> <span class="token class-name">H</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> hs1 <span class="token operator">=</span> <span class="token class-name">Hasher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
hs1<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>h1<span class="token punctuation">)</span>
hs1<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>h2<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span>hashValue<span class="token punctuation">)</span> <span class="token comment">// 7417088153212460033 éšæœºå€¼</span>
<span class="token function">print</span><span class="token punctuation">(</span>h2<span class="token punctuation">.</span>hashValue<span class="token punctuation">)</span> <span class="token comment">// -6972912482785541972 éšæœºå€¼</span>
<span class="token function">print</span><span class="token punctuation">(</span>hs1<span class="token punctuation">.</span><span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 7955861102637572758 éšæœºå€¼</span>
<span class="token function">print</span><span class="token punctuation">(</span>h1<span class="token punctuation">.</span>hashValue<span class="token punctuation">)</span> <span class="token comment">// 7417088153212460033 å’Œå‰é¢ h1 ä¸€æ ·</span>

<span class="token keyword">let</span> h3 <span class="token operator">=</span> <span class="token class-name">H</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>h3<span class="token punctuation">.</span>hashValue<span class="token punctuation">)</span> <span class="token comment">// 7417088153212460033 å’Œå‰é¢ h1 ä¸€æ ·</span>
<span class="token keyword">var</span> hs2 <span class="token operator">=</span> <span class="token class-name">Hasher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
hs2<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>h3<span class="token punctuation">)</span>
hs2<span class="token punctuation">.</span><span class="token function">combine</span><span class="token punctuation">(</span>h2<span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>hs2<span class="token punctuation">.</span><span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 7955861102637572758 å’Œå‰é¢ hs1 ä¸€æ ·</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åº”ç”¨ç”Ÿå‘½å‘¨æœŸå†…ï¼Œè°ƒç”¨ combine() æ·»åŠ ç›¸åŒå±æ€§å“ˆå¸Œå€¼ç›¸åŒï¼Œç”±äº Hasher æ¯æ¬¡éƒ½ä¼šä½¿ç”¨éšæœºçš„ seedï¼Œå› æ­¤ä¸åŒåº”ç”¨ç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯ä¸‹æ¬¡å¯åŠ¨çš„å“ˆå¸Œå€¼ï¼Œå°±ä¼šå’Œä¸Šæ¬¡çš„å“ˆå¸Œå€¼ä¸åŒã€‚</p>
<h3 id="Codable-1"><a href="#Codable-1" class="headerlink" title="Codable"></a>Codable</h3><h4 id="JSON-æ²¡æœ‰-id-å­—æ®µ-1"><a href="#JSON-æ²¡æœ‰-id-å­—æ®µ-1" class="headerlink" title="JSON æ²¡æœ‰ id å­—æ®µ"></a>JSON æ²¡æœ‰ id å­—æ®µ</h4><p>å¦‚æœSwiftUIè¦æ±‚æ•°æ®Modeléƒ½æ˜¯éµå¾ªIdentifiableåè®®çš„ï¼Œè€Œæœ‰çš„jsonæ²¡æœ‰idè¿™ä¸ªå­—æ®µï¼Œå¯ä»¥ä½¿ç”¨æ‰©å±•structçš„æ–¹å¼è§£å†³ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">CommitModel</span><span class="token punctuation">:</span> <span class="token class-name">Decodable</span><span class="token punctuation">,</span> <span class="token class-name">Hashable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> sha<span class="token punctuation">:</span> <span class="token class-name">String</span>
  <span class="token keyword">var</span> author<span class="token punctuation">:</span> <span class="token class-name">AuthorModel</span>
  <span class="token keyword">var</span> commit<span class="token punctuation">:</span> <span class="token class-name">CommitModel</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">extension</span> <span class="token class-name">CommitModel</span><span class="token punctuation">:</span> <span class="token class-name">Identifiable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> sha
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="ç½‘ç»œ-1"><a href="#ç½‘ç»œ-1" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h3><h4 id="ç½‘ç»œçŠ¶æ€æ£€æŸ¥-1"><a href="#ç½‘ç»œçŠ¶æ€æ£€æŸ¥-1" class="headerlink" title="ç½‘ç»œçŠ¶æ€æ£€æŸ¥"></a>ç½‘ç»œçŠ¶æ€æ£€æŸ¥</h4><p>é€šè¿‡ Network åº“çš„ NWPathMonitor æ¥æ£€æŸ¥</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>
<span class="token keyword">import</span> <span class="token class-name">Network</span>

<span class="token comment">// ç½‘ç»œçŠ¶æ€æ£€æŸ¥ network state check</span>
<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Nsck</span><span class="token punctuation">:</span> <span class="token class-name">ObservableObject</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> shared <span class="token operator">=</span> <span class="token class-name">Nsck</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token keyword">lazy</span> <span class="token keyword">var</span> pb <span class="token operator">=</span> <span class="token function">mkpb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token attribute atrule">@Published</span> <span class="token keyword">private</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token keyword">var</span> pt<span class="token punctuation">:</span> <span class="token class-name">NWPath</span>
    
    <span class="token keyword">private</span> <span class="token keyword">let</span> monitor<span class="token punctuation">:</span> <span class="token class-name">NWPathMonitor</span>
    <span class="token keyword">private</span> <span class="token keyword">lazy</span> <span class="token keyword">var</span> sj <span class="token operator">=</span> <span class="token class-name">CurrentValueSubject</span><span class="token operator">&lt;</span><span class="token class-name">NWPath</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span>monitor<span class="token punctuation">.</span>currentPath<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">var</span> sb<span class="token punctuation">:</span> <span class="token class-name">AnyCancellable</span><span class="token operator">?</span>
    
    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        monitor <span class="token operator">=</span> <span class="token class-name">NWPathMonitor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        pt <span class="token operator">=</span> monitor<span class="token punctuation">.</span>currentPath
        monitor<span class="token punctuation">.</span>pathUpdateHandler <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">[</span><span class="token keyword">weak</span> <span class="token keyword">self</span><span class="token punctuation">]</span> path <span class="token keyword">in</span>
            <span class="token keyword">self</span><span class="token operator">?</span><span class="token punctuation">.</span>pt <span class="token operator">=</span> path
            <span class="token keyword">self</span><span class="token operator">?</span><span class="token punctuation">.</span>sj<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        monitor<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>queue<span class="token punctuation">:</span> <span class="token class-name">DispatchQueue</span><span class="token punctuation">.</span><span class="token function">global</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">deinit</span> <span class="token punctuation">&#123;</span>
        monitor<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        sj<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> <span class="token punctuation">.</span>finished<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function-definition function">mkpb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">AnyPublisher</span><span class="token operator">&lt;</span><span class="token class-name">NWPath</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> sj<span class="token punctuation">.</span><span class="token function">eraseToAnyPublisher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨æ–¹æ³•</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">var</span> sb <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> alertMsg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>

<span class="token class-name">Nsck</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span>pb
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
        <span class="token comment">//</span>
    <span class="token punctuation">&#125;</span> receiveValue<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> path <span class="token keyword">in</span>
        alertMsg <span class="token operator">=</span> path<span class="token punctuation">.</span>debugDescription
        <span class="token keyword">switch</span> path<span class="token punctuation">.</span>status <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>satisfied<span class="token punctuation">:</span>
            alertMsg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>unsatisfied<span class="token punctuation">:</span>
            alertMsg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ğŸ˜±"</span></span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>requiresConnection<span class="token punctuation">:</span>
            alertMsg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ğŸ¥±"</span></span>
        <span class="token attribute atrule">@unknown</span> <span class="token keyword">default</span><span class="token punctuation">:</span>
            alertMsg <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ğŸ¤”"</span></span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span> path<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token punctuation">.</span>unsatisfied <span class="token punctuation">&#123;</span>
            <span class="token keyword">switch</span> path<span class="token punctuation">.</span>unsatisfiedReason <span class="token punctuation">&#123;</span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span>notAvailable<span class="token punctuation">:</span>
                alertMsg <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"ç½‘ç»œä¸å¯ç”¨"</span></span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span>cellularDenied<span class="token punctuation">:</span>
                alertMsg <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"èœ‚çªç½‘ä¸å¯ç”¨"</span></span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span>wifiDenied<span class="token punctuation">:</span>
                alertMsg <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"Wifiä¸å¯ç”¨"</span></span>
            <span class="token keyword">case</span> <span class="token punctuation">.</span>localNetworkDenied<span class="token punctuation">:</span>
                alertMsg <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"ç½‘çº¿ä¸å¯ç”¨"</span></span>
            <span class="token attribute atrule">@unknown</span> <span class="token keyword">default</span><span class="token punctuation">:</span>
                alertMsg <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">"ç½‘ç»œä¸å¯ç”¨"</span></span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>sb<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="åŠ¨ç”»-1"><a href="#åŠ¨ç”»-1" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h3><h4 id="å¸ƒå±€åŠ¨ç”»-1"><a href="#å¸ƒå±€åŠ¨ç”»-1" class="headerlink" title="å¸ƒå±€åŠ¨ç”»"></a>å¸ƒå±€åŠ¨ç”»</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">SwiftUI</span>

<span class="token keyword">struct</span> <span class="token class-name">AnimateLayout</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
 <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> changeLayout<span class="token punctuation">:</span> <span class="token class-name">Bool</span> <span class="token operator">=</span> <span class="token boolean">true</span>
 <span class="token attribute atrule">@Namespace</span> <span class="token keyword">var</span> namespace

 <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
  <span class="token class-name">VStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   <span class="token keyword">if</span> changeLayout <span class="token punctuation">&#123;</span>
    <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span> items <span class="token punctuation">&#125;</span>
   <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span> items <span class="token punctuation">&#125;</span>
   <span class="token punctuation">&#125;</span>
   <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"åˆ‡æ¢å¸ƒå±€"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    withAnimation <span class="token punctuation">&#123;</span> changeLayout<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span>
   <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">&#125;</span>

 <span class="token attribute atrule">@ViewBuilder</span> <span class="token keyword">var</span> items<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
  <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> namespace<span class="token punctuation">)</span>
  <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Two"</span></span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Two"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> namespace<span class="token punctuation">)</span>
  <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Three"</span></span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Three"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> namespace<span class="token punctuation">)</span>
 <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="å®‰å…¨-1"><a href="#å®‰å…¨-1" class="headerlink" title="å®‰å…¨"></a>å®‰å…¨</h3><h4 id="Keychain-1"><a href="#Keychain-1" class="headerlink" title="Keychain"></a>Keychain</h4><p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> d1 <span class="token operator">=</span> <span class="token class-name">Data</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"keyChain github token"</span></span><span class="token punctuation">.</span>utf8<span class="token punctuation">)</span>
<span class="token keyword">let</span> service <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"access-token"</span></span>
<span class="token keyword">let</span> account <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"github"</span></span>
<span class="token keyword">let</span> q1 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token constant">kSecValueData</span><span class="token punctuation">:</span> d1<span class="token punctuation">,</span>
    <span class="token constant">kSecClass</span><span class="token punctuation">:</span> <span class="token constant">kSecClassGenericPassword</span><span class="token punctuation">,</span>
    <span class="token constant">kSecAttrService</span><span class="token punctuation">:</span> service<span class="token punctuation">,</span>
    <span class="token constant">kSecAttrAccount</span><span class="token punctuation">:</span> account
<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">CFDictionary</span>

<span class="token comment">// æ·»åŠ ä¸€ä¸ª keychain</span>
<span class="token keyword">let</span> status <span class="token operator">=</span> <span class="token class-name">SecItemAdd</span><span class="token punctuation">(</span>q1<span class="token punctuation">,</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span>

<span class="token comment">// å¦‚æœå·²ç»æ·»åŠ è¿‡ä¼šæŠ›å‡º -25299 é”™è¯¯ä»£ç ï¼Œéœ€è¦è°ƒç”¨ SecItemUpdate æ¥è¿›è¡Œæ›´æ–°</span>
<span class="token keyword">if</span> status <span class="token operator">==</span> errSecDuplicateItem <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> q2 <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token constant">kSecClass</span><span class="token punctuation">:</span> <span class="token constant">kSecClassGenericPassword</span><span class="token punctuation">,</span>
        <span class="token constant">kSecAttrService</span><span class="token punctuation">:</span> service<span class="token punctuation">,</span>
        <span class="token constant">kSecAttrAccount</span><span class="token punctuation">:</span> account
    <span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">CFDictionary</span>
    <span class="token keyword">let</span> q3 <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token constant">kSecValueData</span><span class="token punctuation">:</span> d1
    <span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">CFDictionary</span>
    <span class="token class-name">SecItemUpdate</span><span class="token punctuation">(</span>q2<span class="token punctuation">,</span> q3<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// è¯»å–</span>
<span class="token keyword">let</span> q4 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token constant">kSecAttrService</span><span class="token punctuation">:</span> service<span class="token punctuation">,</span>
    <span class="token constant">kSecAttrAccount</span><span class="token punctuation">:</span> account<span class="token punctuation">,</span>
    <span class="token constant">kSecClass</span><span class="token punctuation">:</span> <span class="token constant">kSecClassGenericPassword</span><span class="token punctuation">,</span>
    <span class="token constant">kSecReturnData</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">CFDictionary</span>

<span class="token keyword">var</span> re<span class="token punctuation">:</span> <span class="token class-name">AnyObject</span><span class="token operator">?</span>
<span class="token class-name">SecItemCopyMatching</span><span class="token punctuation">(</span>q4<span class="token punctuation">,</span> <span class="token operator">&amp;</span>re<span class="token punctuation">)</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> reData <span class="token operator">=</span> re <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">Data</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">(</span>decoding<span class="token punctuation">:</span> reData<span class="token punctuation">,</span> <span class="token keyword">as</span><span class="token punctuation">:</span> UTF8<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// keyChain github token</span>

<span class="token comment">// åˆ é™¤</span>
<span class="token keyword">let</span> q5 <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token constant">kSecAttrService</span><span class="token punctuation">:</span> service<span class="token punctuation">,</span>
    <span class="token constant">kSecAttrAccount</span><span class="token punctuation">:</span> account<span class="token punctuation">,</span>
    <span class="token constant">kSecClass</span><span class="token punctuation">:</span> <span class="token constant">kSecClassGenericPassword</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token class-name">CFDictionary</span>

<span class="token class-name">SecItemDelete</span><span class="token punctuation">(</span>q5<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="å·¥ç¨‹-1"><a href="#å·¥ç¨‹-1" class="headerlink" title="å·¥ç¨‹"></a>å·¥ç¨‹</h3><h4 id="ç¨‹åºå…¥å£ç‚¹-1"><a href="#ç¨‹åºå…¥å£ç‚¹-1" class="headerlink" title="ç¨‹åºå…¥å£ç‚¹"></a>ç¨‹åºå…¥å£ç‚¹</h4><p>Swift å…è®¸å…¨å±€ç¼–å†™ Swift ä»£ç ï¼Œå®é™…ä¸Š clang ä¼šè‡ªåŠ¨å°†ä»£ç åŒ…è¿›ä¸€ä¸ªæ¨¡æ‹Ÿ C çš„å‡½æ•°ä¸­ã€‚Swift ä¹Ÿèƒ½å¤ŸæŒ‡å®šå…¥å£ç‚¹ï¼Œæ¯”å¦‚ @UIApplicationMain æˆ– @NSApplicationMainï¼ŒUIKit å¯åŠ¨åç”Ÿå‘½å‘¨æœŸç®¡ç†æ˜¯ AppDelegate å’Œ SceneDelegateï¼Œã€Š <a target="_blank" rel="noopener" href="https://www.donnywals.com/understanding-the-ios-13-scene-delegate/">Understanding the iOS 13 Scene Delegate</a> ã€‹è¿™ç¯‡æœ‰è¯¦ç»†ä»‹ç»ã€‚</p>
<p>@UIApplicationMain å’Œ @NSApplicationMain ä¼šè‡ªåŠ¨ç”Ÿæˆå…¥å£ç‚¹ã€‚è¿™äº›å…¥å£ç‚¹éƒ½æ˜¯å¹³å°ç›¸å…³çš„ï¼ŒSwift å‘å±•æ¥çœ‹æ˜¯å¤šå¹³å°çš„ï¼Œè¿™æ ·åœ¨ Swift 5.3 æ—¶å¼•å…¥äº† @mainï¼Œå¯ä»¥æ–¹ä¾¿çš„æŒ‡å®šå…¥å£ç‚¹ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token attribute atrule">@main</span> <span class="token comment">// è¦å®šä¹‰ä¸ªé™æ€çš„ main å‡½æ•°</span>
<span class="token keyword">struct</span> <span class="token class-name">M</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"let's begin"</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p> <a target="_blank" rel="noopener" href="https://github.com/apple/swift-argument-parser">ArgumentParser</a>  åº“ï¼ŒSwift å®˜æ–¹å¼€æºçš„ä¸€ä¸ªå¼€å‘å‘½ä»¤è¡Œå·¥å…·çš„åº“ï¼Œä¹Ÿæ”¯æŒ @mainã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">ArgumentParser</span>

<span class="token attribute atrule">@main</span>
<span class="token keyword">struct</span> <span class="token class-name">C</span><span class="token punctuation">:</span> <span class="token class-name">ParsableCommand</span> <span class="token punctuation">&#123;</span>
  <span class="token attribute atrule">@Argument</span><span class="token punctuation">(</span>help<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Start"</span></span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> phrase<span class="token punctuation">:</span> <span class="token class-name">String</span>
   
  <span class="token keyword">func</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">5</span> <span class="token punctuation">&#123;</span>
      <span class="token function">print</span><span class="token punctuation">(</span>phrase<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h3><h4 id="Swift-DocC"><a href="#Swift-DocC" class="headerlink" title="Swift-DocC"></a>Swift-DocC</h4><p>ç°åœ¨æ”¯æŒ Swiftã€OC å’Œ Cï¼Œæ–‡æ¡£æ ‡è®°ä¸€æ ·ã€‚<code>.doccarchive</code> åŒ…å«å¯éƒ¨ç½²çš„ç½‘ç«™å†…å®¹ï¼Œå…¼å®¹å¤§å¤šæ•°æ‰˜ç®¡æœåŠ¡ï¼Œæ¯”å¦‚ Github pagesã€‚éƒ¨ç½²åˆ°åœ¨çº¿æœåŠ¡ä¸Šå¯å‚è€ƒ <a target="_blank" rel="noopener" href="https://apple.github.io/swift-docc-plugin/documentation/swiftdoccplugin/generating-documentation-for-hosting-online/">Generating Documentation for Hosting Online</a> å’Œ <a target="_blank" rel="noopener" href="https://apple.github.io/swift-docc-plugin/documentation/swiftdoccplugin/publishing-to-github-pages/">Publishing to GitHub Pages</a> æ–‡æ¡£ã€‚</p>
<p>å’Œ SPM é›†æˆå‚çœ‹ <a target="_blank" rel="noopener" href="https://apple.github.io/swift-docc-plugin/documentation/swiftdoccplugin/">SwiftDocCPlugin</a> ã€‚</p>
<p>session æœ‰ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-110368">Whatâ€™s new in Swift -DocC</a> å’Œ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-110369">Improve the discoverability of your Swift-DocC content</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0356-swift-snippets.md">SE-0356 Swift Snippets</a>  ä»£ç ç‰‡æ®µç”¨äºç¤ºä¾‹æ–‡æ¡£çš„ææ¡ˆã€‚</p>
<h2 id="ä¸“é¢˜-1"><a href="#ä¸“é¢˜-1" class="headerlink" title="ä¸“é¢˜"></a>ä¸“é¢˜</h2><h3 id="Swift-é‚£äº›äº‹-1"><a href="#Swift-é‚£äº›äº‹-1" class="headerlink" title="Swift é‚£äº›äº‹"></a>Swift é‚£äº›äº‹</h3><h4 id="Swift-å„ç‰ˆæœ¬æ¼”è¿›"><a href="#Swift-å„ç‰ˆæœ¬æ¼”è¿›" class="headerlink" title="Swift å„ç‰ˆæœ¬æ¼”è¿›"></a>Swift å„ç‰ˆæœ¬æ¼”è¿›</h4><h5 id="Swift-1-1"><a href="#Swift-1-1" class="headerlink" title="Swift 1.1"></a>Swift 1.1</h5><ul>
<li>countElements() æ”¹æˆäº† count()ã€‚</li>
<li>@NSApplicationMain å¯ä»¥åœ¨ macOS ä¸Šä½¿ç”¨ã€‚</li>
</ul>
<h5 id="Swift-1-2"><a href="#Swift-1-2" class="headerlink" title="Swift 1.2"></a>Swift 1.2</h5><ul>
<li>å¼•å…¥ Set ç±»å‹ã€‚</li>
<li>if let å¯ä»¥æ”¾åˆ°ä¸€èµ·ï¼Œä½¿ç”¨é€—å·åˆ†éš”ã€‚</li>
<li>æ–°å¢ zip() å’Œ flatMap()ã€‚</li>
<li>ç±»å¢åŠ é™æ€æ–¹æ³•å’Œé™æ€å±æ€§ï¼Œä½¿ç”¨ static å…³é”®å­—æè¿°ã€‚</li>
<li>as! ç”¨äºç±»å‹å¼ºè½¬ï¼Œå¤±è´¥ä¼šå´©æºƒã€‚</li>
<li>@noescape ç”¨äºæè¿°ä½œä¸ºå‚æ•°é—­åŒ…ï¼Œç”¨æ¥å‘Šè¯‰ Swift é—­åŒ…å°†åœ¨å‡½æ•°è¿”å›å‰ä½¿ç”¨ã€‚</li>
<li>å¸¸é‡å¯ä»¥å»¶ååˆå§‹åŒ–ã€‚</li>
</ul>
<h5 id="Swift-2-0"><a href="#Swift-2-0" class="headerlink" title="Swift 2.0"></a>Swift 2.0</h5><ul>
<li>å¢åŠ  guard å…³é”®å­—ï¼Œç”¨äºè§£å¯é€‰é¡¹å€¼ã€‚</li>
<li>defer å…³é”®å­—ç”¨æ¥å»¶è¿Ÿæ‰§è¡Œï¼Œå³ä½¿æŠ›å‡ºé”™è¯¯äº†éƒ½ä¼šåœ¨æœ€åæ‰§è¡Œã€‚</li>
<li>ErrorType åè®®ï¼Œä»¥åŠ throwsã€doã€try å’Œ catch çš„å¼•å…¥ç”¨æ¥å¤„ç†é”™è¯¯ã€‚</li>
<li>characters åŠ ä¸Š countï¼Œç”¨æ¥æ›¿ä»£ count()ã€‚</li>
<li>#available ç”¨æ¥æ£€æŸ¥ç³»ç»Ÿç‰ˆæœ¬ã€‚</li>
</ul>
<h5 id="Swift-2-1"><a href="#Swift-2-1" class="headerlink" title="Swift 2.1"></a>Swift 2.1</h5><ul>
<li>å­—ç¬¦ä¸²æ’å€¼å¯ä»¥åŒ…å«å­—ç¬¦ä¸²å­—é¢ç¬¦å·ã€‚</li>
</ul>
<p><em>Swift 2.2</em></p>
<p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-2.2-released/">Swift 2.2 Released!</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-2.2-new-features/">New Features in Swift 2.2</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-2.2-release-process/">Swift 2.2 Release Process</a></p>
<ul>
<li><strong>FILE</strong>, <strong>LINE</strong> å’Œ <strong>FUNCTION</strong> æ¢æˆ #fileï¼Œ#line å’Œ #functionã€‚</li>
<li>åºŸå¼ƒ ++ å’Œ â€“ æ“ä½œç¬¦ã€‚</li>
<li>C è¯­è¨€é£æ ¼ for å¾ªç¯åºŸå¼ƒã€‚</li>
<li>åºŸå¼ƒå˜é‡å‚æ•°ï¼Œå› ä¸ºå˜é‡å‚æ•°å®¹æ˜“å’Œ inout ææ··ã€‚</li>
<li>åºŸå¼ƒå­—ç¬¦ä¸²åŒ–çš„é€‰æ‹©å™¨ï¼Œé€‰æ‹©å™¨ä¸å†èƒ½å†™æˆå­—ç¬¦ä¸²äº†ã€‚</li>
<li>å…ƒç»„å¯ç›´æ¥æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰ã€‚</li>
</ul>
<h5 id="Swift-3-0"><a href="#Swift-3-0" class="headerlink" title="Swift 3.0"></a>Swift 3.0</h5><p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-3.0-released/">Swift 3.0 Released!</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-3.0-preview-1-released/">Swift 3.0 Preview 1 Released!</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-3.0-release-process/">Swift 3.0 Release Process</a></p>
<ul>
<li>è§„èŒƒåŠ¨è¯å’Œåè¯æ¥å‘½åã€‚</li>
<li>å»æ‰ NS å‰ç¼€ã€‚</li>
<li>æ–¹æ³•åæè¿°å‚æ•°éƒ¨åˆ†å˜ä¸ºå‚æ•°åã€‚</li>
<li>çœç•¥æ²¡å¿…è¦çš„å•è¯ï¼Œå‘½ååšäº†ç®€åŒ–å‘¢ã€‚æ¯”å¦‚ stringByTrimmingCharactersInSet å°±æ¢æˆäº† trimmingCharactersã€‚</li>
<li>æšä¸¾çš„å±æ€§ä½¿ç”¨å°å†™å¼€å¤´ã€‚</li>
<li>å¼•å…¥ C å‡½æ•°çš„å±æ€§ã€‚</li>
</ul>
<h5 id="Swift-3-1"><a href="#Swift-3-1" class="headerlink" title="Swift 3.1"></a>Swift 3.1</h5><p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-3.1-released/">Swift 3.1 Released!</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-3.1-release-process/">Swift 3.1 Release Process</a></p>
<ul>
<li>åºåˆ—æ–°å¢ prefix(while:) å’Œ drop(while:) æ–¹æ³•ï¼Œé¡ºåºéå†æ‰§è¡Œé—­åŒ…é‡Œçš„é€»è¾‘åˆ¤æ–­ï¼Œæ»¡è¶³æ¡ä»¶å°±è¿”å›ï¼Œé‡åˆ°ä¸åŒ¹é…å°±ä¼šåœæ­¢éå†ã€‚prefix è¿”å›æ»¡è¶³æ¡ä»¶çš„å…ƒç´ é›†åˆï¼Œdrop è¿”å›åœæ­¢éå†ä¹‹åé‚£äº›å…ƒç´ é›†åˆã€‚</li>
<li>æ³›å‹é€‚ç”¨äºåµŒå¥—ç±»å‹ã€‚</li>
<li>ç±»å‹çš„æ‰©å±•å¯ä»¥ä½¿ç”¨çº¦æŸæ¡ä»¶ï¼Œæ¯”å¦‚æ‰©å±•æ•°ç»„æ—¶ï¼ŒåŠ ä¸Šå…ƒç´ ä¸ºæ•´æ•°çš„çº¦æŸï¼Œè¿™æ ·çš„æ‰©å±•å°±åªä¼šå¯¹å…ƒç´ ä¸ºæ•´æ•°çš„æ•°ç»„æœ‰æ•ˆã€‚</li>
</ul>
<h5 id="Swift-4-0"><a href="#Swift-4-0" class="headerlink" title="Swift 4.0"></a>Swift 4.0</h5><p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-4.0-released/">Swift 4.0 Released!</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-4.0-release-process/">Swift 4 Release Process</a></p>
<ul>
<li>åŠ å…¥ Codable åè®®ï¼Œæ›´ Swifty çš„ç¼–ç å’Œè§£ç ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0167-swift-encoders.md">SE-0167 Swift Encoders</a></li>
<li>å­—ç¬¦ä¸²åŠ å…¥ä¸‰ä¸ªåŒå¼•å·çš„æ”¯æŒï¼Œè®©å¤šè¡Œå­—ç¬¦ä¸²ç¼–å†™æ›´åŠ ç›´è§‚ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0168-multi-line-string-literals.md">SE-0168 Multi-Line String Literals</a></li>
<li>å­—ç¬¦ä¸²å˜æˆé›†åˆï¼Œè¡¨ç¤ºå¯ä»¥å¯¹å­—ç¬¦ä¸²è¿›è¡Œé€å­—éå†ã€map å’Œåè½¬ç­‰æ“ä½œã€‚</li>
<li>keypaths è¯­æ³•æå‡ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0161-key-paths.md">SE-0161 Smart KeyPaths: Better Key-Value Coding for Swift</a></li>
<li>é›†åˆåŠ å…¥ <code>..&lt;10</code> è¿™æ ·è¯­æ³•çš„å•è¾¹åˆ‡ç‰‡ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0172-one-sided-ranges.md">SE-0172 One-sided Ranges</a></li>
<li>å­—å…¸æ–°å¢ mapValuesï¼Œå¯ map å­—å…¸çš„å€¼ã€‚é€šè¿‡ grouping å¯å¯¹å­—å…¸è¿›è¡Œåˆ†ç»„ç”Ÿæˆæ–°å­—å…¸ï¼Œé”®å’Œå€¼éƒ½å¯ä»¥ã€‚ä»å­—å…¸ä¸­å–å€¼ï¼Œå¦‚æœé”®å¯¹åº”æ— å€¼ï¼Œåˆ™ä½¿ç”¨é€šè¿‡ default æŒ‡å®šçš„é»˜è®¤å€¼ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0165-dict.md">SE-0165 Dictionary &amp; Set Enhancements</a></li>
</ul>
<h5 id="Swift-4-1"><a href="#Swift-4-1" class="headerlink" title="Swift 4.1"></a>Swift 4.1</h5><p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-4.1-released/">Swift 4.1 Released!</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-4.1-release-process/">Swift 4.1 Release Process</a></p>
<ul>
<li>Hashable ä¹Ÿä¸éœ€è¦è¿”å›ä¸€ä¸ªå”¯ä¸€çš„ hashValue å“ˆå¸Œå€¼å±æ€§ã€‚</li>
<li>Equatable å’Œ Hashable è‡ªåŠ¨åˆæˆçš„ææ¡ˆå‚è§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0185-synthesize-equatable-hashable.md">SE-0185 Synthesizing Equatable and Hashable conformance</a>ã€‚</li>
<li>ä¸¤ä¸ªè‡ªå®šç±»å‹æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰æ—¶ï¼Œä¸å†éœ€è¦æ¯”è¾ƒæ¯ä¸ªå±æ€§ï¼ŒSwift ä¼šè‡ªåŠ¨ç”Ÿæˆ &#x3D;&#x3D; æ–¹æ³•ï¼Œä½ åªéœ€è¦å£°æ˜ Equatable åè®®ã€‚</li>
<li>å¼•å…¥ KeyDecodingStrategyå±æ€§ï¼Œå…¶ä¸­ .convertFromSnakeCase å¯ä»¥å°†ä¸‹åˆ’çº¿çš„å‘½åè½¬åŒ–æˆé©¼å³°çš„å‘½åã€‚</li>
<li>å¼•å…¥æ¡ä»¶ç¬¦åˆæ€§ï¼Œåªæœ‰æ»¡è¶³ä¸€å®šæ¡ä»¶æ‰ç¬¦åˆåè®®ã€‚æ¯”å¦‚æ‰©å±•æ•°ç»„è¦æ±‚å½“é‡Œé¢å…ƒç´ æ»¡è¶³æŸåè®®æ•°ç»„æ‰ç¬¦åˆè¿™ä¸ªåè®®ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0143-conditional-conformances.md">SE-0143 Conditional conformances</a>ã€‚</li>
<li>å¼•å…¥ canImport å®æ¡ä»¶å…³é”®å­—ï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥ä½¿ç”¨æŸåº“ï¼Œä»¥å‰åªèƒ½é€šè¿‡åˆ¤æ–­æ“ä½œç³»ç»Ÿå¹³å°æ¥åˆ¤æ–­ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0075-import-test.md">SE-0075 Adding a Build Configuration Import Test</a>ã€‚</li>
<li>æ–°å¢èƒ½å¤Ÿå»é™¤ä¸ºé›¶é¡¹ç›®çš„ compactMap()ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0187-introduce-filtermap.md">SE-0187 Introduce Sequence.compactMap(_:)</a></li>
<li>å…³è”ç±»å‹å¯ä»¥åˆ›å»ºé€’å½’çº¦æŸï¼Œææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0157-recursive-protocol-constraints.md">SE-0157 Support recursive constraints on associated types</a></li>
<li>targetEnvironment ç¯å¢ƒçš„åˆ¤æ–­ï¼Œæ¯”å¦‚æ¨¡æ‹Ÿå™¨ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0190-target-environment-platform-condition.md">SE-0190 Target environment platform condition</a> ã€‚</li>
</ul>
<h5 id="Swift-4-2"><a href="#Swift-4-2" class="headerlink" title="Swift 4.2"></a>Swift 4.2</h5><p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-4.2-released/">Swift 4.2 Released!</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/4.2-release-process/">Swift 4.2 Release Process</a></p>
<ul>
<li>æ–°å¢åŠ¨æ€æˆå‘˜æŸ¥è¯¢ï¼Œ@dynamicMemberLookup æ–°å±æ€§ï¼ŒæŒ‡ç¤ºè®¿é—®å±æ€§æ—¶è°ƒç”¨ä¸€ä¸ªå·²å®ç°çš„å¤„ç†åŠ¨æ€æŸ¥æ‰¾çš„ä¸‹æ ‡æ–¹æ³• subscript(dynamicMemeber:)ï¼Œé€šè¿‡æŒ‡å®šå±æ€§å­—ç¬¦ä¸²åè¿”å›å€¼ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0195-dynamic-member-lookup.md">SE-0195 Introduce User-defined â€œDynamic Member Lookupâ€ Types</a></li>
<li>é›†åˆæ–°åŠ  removeAll(where:) æ–¹æ³•ï¼Œè¿‡æ»¤æ»¡è¶³æ¡ä»¶æ‰€æœ‰å…ƒç´ ã€‚æ¯” filter æ›´é«˜æ•ˆã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0197-remove-where.md">SE-0197 Adding in-place removeAll(where:) to the Standard Library</a></li>
<li>å¸ƒå°”å€¼å¢åŠ  toggle() æ–¹æ³•ï¼Œç”¨æ¥åˆ‡æ¢å¸ƒå°”å€¼ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0199-bool-toggle.md">SE-0199 Adding toggle to Bool</a></li>
<li>å¼•å…¥ CaseIterable åè®®ï¼Œå¯ä»¥å°†æšä¸¾ä¸­æ‰€æœ‰ case ç”Ÿæˆ allCases æ•°ç»„ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0194-derived-collection-of-enum-cases.md">SE-0194 Derived Collection of Enum Cases</a></li>
<li>å¼•å…¥ #warning å’Œ #error ä¸¤ä¸ªæ–°çš„ç¼–è¯‘å™¨æŒ‡ä»¤ã€‚#warning ä¼šäº§ç”Ÿä¸€ä¸ªè­¦å‘Šï¼Œ#error ä¼šç›´æ¥è®©ç¼–è¯‘å‡ºé”™ã€‚æ¯”å¦‚å¿…é¡»è¦å¡«å†™ token æ‰èƒ½ç¼–è¯‘çš„è¯å¯ä»¥åœ¨è®¾ç½® token çš„ä»£ç å‰åŠ ä¸Š #error å’Œè¯´æ˜ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0196-diagnostic-directives.md">SE-0196 Compiler Diagnostic Directives</a></li>
<li>æ–°å¢åŠ å¯†å®‰å…¨çš„éšæœº APIã€‚ç›´æ¥åœ¨æ•°å­—ç±»å‹ä¸Šè°ƒç”¨ random() æ–¹æ³•ç”Ÿæˆéšæœºæ•°ã€‚shuffle() æ–¹æ³•å¯ä»¥å¯¹æ•°ç»„è¿›è¡Œä¹±åºé‡æ’ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0202-random-unification.md">SE-0202 Random Unification</a></li>
<li>æ›´ç®€å•æ›´å®‰å…¨çš„å“ˆå¸Œåè®®ï¼Œå¼•å…¥æ–°çš„ Hasher ç»“æ„ï¼Œé€šè¿‡ combine() æ–¹æ³•ä¸ºå“ˆå¸Œå€¼æ·»åŠ æ›´å¤šå±æ€§ï¼Œè°ƒç”¨ finalize() æ–¹æ³•ç”Ÿæˆæœ€ç»ˆå“ˆå¸Œå€¼ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0206-hashable-enhancements.md">SE-0206 Hashable Enhancements</a></li>
<li>é›†åˆå¢åŠ  allSatisfy() ç”¨æ¥åˆ¤æ–­é›†åˆä¸­çš„å…ƒç´ æ˜¯å¦éƒ½æ»¡è¶³äº†ä¸€ä¸ªæ¡ä»¶ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0207-containsOnly.md">SE-0207 Add an allSatisfy algorithm to Sequence</a></li>
</ul>
<h5 id="Swift-5-0"><a href="#Swift-5-0" class="headerlink" title="Swift 5.0"></a>Swift 5.0</h5><p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-5-released/">Swift 5 Released!</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/5.0-release-process/">Swift 5.0 Release Process</a></p>
<ul>
<li>@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹ã€‚é€šè¿‡å®ç° dynamicallyCall æ–¹æ³•æ¥å®šä¹‰å˜å‚çš„å¤„ç†ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0216-dynamic-callable.md">SE-0216 Introduce user-defined dynamically â€œcallableâ€ types</a></li>
<li>æ–°åŠ  Result ç±»å‹ç”¨æ¥å¤„ç†é”™è¯¯ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0235-add-result.md">SE-0235 Add Result to the Standard Library</a></li>
<li>æ–°å¢åŸå§‹å­—ç¬¦ä¸²èƒ½åŠ›ï¼Œåœ¨å­—ç¬¦ä¸²å‰åŠ ä¸Šä¸€ä¸ªæˆ–å¤šä¸ª#ç¬¦å·ã€‚é‡Œé¢çš„åŒå¼•å·å’Œè½¬ä¹‰ç¬¦å·å°†ä¸å†èµ·ä½œç”¨äº†ï¼Œå¦‚æœæƒ³è®©è½¬ä¹‰ç¬¦èµ·ä½œç”¨ï¼Œéœ€è¦åœ¨è½¬ä¹‰ç¬¦åé¢åŠ ä¸Š#ç¬¦å·ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0200-raw-string-escaping.md">SE-0200 Enhancing String Literals Delimiters to Support Raw Text</a></li>
<li>è‡ªå®šä¹‰å­—ç¬¦ä¸²æ’å€¼ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0228-fix-expressiblebystringinterpolation.md">SE-0228 Fix ExpressibleByStringInterpolation</a></li>
<li>æšä¸¾æ–°å¢ @unknown ç”¨æ¥åŒºåˆ†å›ºå®šçš„æšä¸¾å’Œå¯èƒ½æ”¹å˜çš„æšä¸¾çš„èƒ½åŠ›ã€‚ç”¨äºé˜²æ­¢æœªæ¥æ–°å¢æšä¸¾å±æ€§ä¼šè¿›è¡Œæé†’æç¤ºå®Œå–„æ¯ä¸ª case çš„å¤„ç†ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0192-non-exhaustive-enums.md">SE-0192 Handling Future Enum Cases</a></li>
<li>compactMapValues() å¯¹å­—å…¸å€¼è¿›è¡Œè½¬æ¢å’Œè§£åŒ…ã€‚å¯ä»¥è§£å¯é€‰ç±»å‹ï¼Œå¹¶å»æ‰ nil å€¼ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0218-introduce-compact-map-values.md">SE-0218 Introduce compactMapValues to Dictionary</a></li>
<li>æ‰å¹³åŒ– try?ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0230-flatten-optional-try.md">SE-0230 Flatten nested optionals resulting from â€˜try?â€™</a></li>
<li>isMultiple(of:) æ–¹æ³•æ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¦æ˜¯å¦ä¸€ä¸ªæ•°å­—çš„å€æ•°ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0225-binaryinteger-iseven-isodd-ismultiple.md">SE-0225 Adding isMultiple to BinaryInteger</a></li>
</ul>
<h5 id="Swift-5-1"><a href="#Swift-5-1" class="headerlink" title="Swift 5.1"></a>Swift 5.1</h5><p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-5.1-released/">Swift 5.1 Released!</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/5.1-release-process/">Swift 5.1 Release Process</a></p>
<ul>
<li>æœ‰åºé›†åˆçš„ diffï¼Œé€šè¿‡ difference(from:) æ–¹æ³•ï¼Œå¯ä»¥è¿”å›è¦åˆ é™¤å“ªäº›å’Œæ·»åŠ å“ªäº›é¡¹ç›®èƒ½å¤Ÿè®©ä¸¤ä¸ªé›†åˆç›¸ç­‰ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0240-ordered-collection-diffing.md">SE-0240 Ordered Collection Diffing</a></li>
<li>å±æ€§åŒ…è£…ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0258-property-wrappers.md">SE-0258 Property Wrappers</a></li>
<li>ä¸é€æ˜è¿”å›ç±»å‹ã€‚å‡½æ•°è°ƒç”¨è€…å†³å®šè¿”å›ä»€ä¹ˆç±»å‹æ˜¯æ³›å‹ï¼Œå‡½æ•°è‡ªèº«å†³å®šè¿”å›ä»€ä¹ˆç±»å‹ä½¿ç”¨ä¸é€æ˜è¿”å›ç±»å‹ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0244-opaque-result-types.md">SE-0244 Opaque Result Types</a></li>
<li>åˆå§‹åŒ–æœ‰é»˜è®¤å€¼çš„å±æ€§å¯ä¸è®¾ç½®ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0242-default-values-memberwise.md">SE-0242 Synthesize default values for the memberwise initializer</a></li>
<li>å•è¡Œè¡¨è¾¾å¼å‡½æ•°éšå¼è¿”å›ï¼Œè¿”å›ä¸€ä¸ªå•è¡Œè¡¨è¾¾å¼çš„å‡½æ•°å¯ä»¥ä¸ç”¨ return å…³é”®å­—ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0255-omit-return.md">SE-0255 Implicit returns from single-expression functions</a></li>
<li>åœ¨ç±»ã€ç»“æ„ä½“å’Œæšä¸¾é‡Œä½¿ç”¨ Selfï¼ŒSelf å¯ä»¥æŒ‡ä»£åŒ…å«çš„ç±»å‹ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0068-universal-self.md">SE-0068 Expanding Swift Self to class members and value types</a></li>
<li>é™æ€ä¸‹æ ‡ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0254-static-subscripts.md">SE-0254 Static and class subscripts</a></li>
<li>æšä¸¾é‡Œæœ‰ none çš„ case ç¼–è¯‘å™¨ä¼šæç¤ºæ¢æˆ Optional.noneã€‚</li>
<li>å¼•å…¥æœªåˆå§‹åŒ–æ•°ç»„ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0245-array-uninitialized-initializer.md">SE-0245 Add an Array Initializer with Access to Uninitialized Storage</a></li>
</ul>
<h5 id="Swift-5-2"><a href="#Swift-5-2" class="headerlink" title="Swift 5.2"></a>Swift 5.2</h5><p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-5.2-released/">Swift 5.2 Released!</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/5.2-release-process/">Swift 5.2 Release Process</a></p>
<ul>
<li>è‡ªå®šä¹‰ç±»å‹ä¸­å®ç°äº† callAsFunction() çš„è¯ï¼Œè¯¥ç±»å‹çš„å€¼å°±å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0253-callable.md">SE-0253 Callable values of user-defined nominal types</a></li>
<li>é”®è·¯å¾„è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0249-key-path-literal-function-expressions.md">SE-0249 Key Path Expressions as Functions</a></li>
</ul>
<h5 id="Swift-5-3"><a href="#Swift-5-3" class="headerlink" title="Swift 5.3"></a>Swift 5.3</h5><p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-5.3-released/">Swift 5.3 released!</a>ã€<a target="_blank" rel="noopener" href="https://swift.org/blog/5.3-release-process/">Swift 5.3 Release Process</a></p>
<ul>
<li>SPM åŒ…ç®¡ç†èµ„æºï¼ŒSPM å¯ä»¥åŒ…å«èµ„æºæ–‡ä»¶ï¼Œæ¯”å¦‚å¤šåª’ä½“æˆ–æ–‡æœ¬ç­‰ã€‚é€šè¿‡ Bundle.module è®¿é—®è¿™äº›èµ„æºã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0271-package-manager-resources.md">SE-0271 Package Manager Resources</a></li>
<li>SPM åŒ…é‡Œèµ„æºæœ¬åœ°åŒ–ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0278-package-manager-localized-resources.md">SE-0278 Package Manager Localized Resources</a></li>
<li>SPM å¯ä»¥æ•´åˆäºŒè¿›åˆ¶åŒ…ä¾èµ–ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0272-swiftpm-binary-dependencies.md">SE-0272 Package Manager Binary Dependencies</a></li>
<li>SPM å¯ä»¥è®¾ç½®ç‰¹å®šå¹³å°çš„ä¾èµ–ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0273-swiftpm-conditional-target-dependencies.md">SE-0273 Package Manager Conditional Target Dependencies</a></li>
<li>å•ä¸ª catch å—ä¸­æ•è·å¤šä¸ª Error çš„ caseã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0276-multi-pattern-catch-clauses.md">SE-0276 Multi-Pattern Catch Clauses</a></li>
<li>æ”¯æŒå¤šä¸ªå°¾éƒ¨é—­åŒ…ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0279-multiple-trailing-closures.md">SE-0279 Multiple Trailing Closures</a></li>
<li>ç¬¦åˆ Comparable åè®®çš„æšä¸¾å¯ä»¥è¿›è¡Œæ¯”è¾ƒã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0266-synthesized-comparable-for-enumerations.md">SE-0266 Synthesized Comparable conformance for enum types</a></li>
<li>å¾ˆå¤šåœ°æ–¹å¯ä»¥ä¸ç”¨åŠ  self æ¥æŒ‡ä»£å®ä¾‹è‡ªå·±äº†ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0269-implicit-self-explicit-capture.md">SE-0269 Increase availability of implicit self in @escaping closures when reference cycles are unlikely to occur</a></li>
<li>@main å¯ä»¥æ–¹ä¾¿æŒ‡å®šç¨‹åºå…¥å£ç‚¹ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0281-main-attribute.md">SE-0281 @main: Type-Based Program Entry Points</a></li>
<li>where å­å¥å¯ä»¥ç”¨åˆ°æ³›å‹å’Œæ‰©å±•å‡½æ•°ä¸­ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0267-where-on-contextually-generic.md">SE-0267 where clauses on contextually generic declarations</a></li>
<li>æšä¸¾çš„ case ä¹Ÿå¯ä»¥ç¬¦åˆåè®®ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0280-enum-cases-as-protocol-witnesses.md">SE-0280 Enum cases as protocol witnesses</a></li>
<li>å®Œå–„ didSetï¼Œæ€§èƒ½æå‡ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0268-didset-semantics.md">SE-0268 Refine didSet Semantics</a></li>
<li>æ–°å¢ Float16 ç±»å‹ï¼Œå³åŠç²¾åº¦æµ®ç‚¹ç±»å‹ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0277-float16.md">SE-0277 Float16</a></li>
</ul>
<h5 id="Swift-5-4"><a href="#Swift-5-4" class="headerlink" title="Swift 5.4"></a>Swift 5.4</h5><p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-5.4-released/">Swift 5.4 Released!</a></p>
<ul>
<li>SPM æ”¯æŒ @mainã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0294-package-executable-targets.md">SE-0294 Declaring executable targets in Package Manifests</a></li>
<li>ç»“æœç”Ÿæˆå™¨ï¼ˆResult buildersï¼‰ï¼Œé€šè¿‡ä¼ é€’åºåˆ—åˆ›å»ºæ–°å€¼ï¼ŒSwiftUIå°±æ˜¯ä½¿ç”¨çš„ç»“æœç”Ÿæˆå™¨å°†å¤šä¸ªè§†å›¾ç”Ÿæˆä¸€ä¸ªè§†å›¾ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0289-result-builders.md">SE-0289 Result builders</a></li>
<li>å¢å¼ºéšå¼æˆå‘˜è¯­æ³•ï¼Œå³ä½¿ç”¨äº†éšå¼çš„æˆå‘˜å¯ä»¥è¿›è¡Œé“¾å¼å¤„ç†ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0287-implicit-member-chains.md">SE-0287 Extend implicit member syntax to cover chains of member references</a></li>
<li>å‡½æ•°å¼€å§‹æœ‰äº†ä½¿ç”¨å¤šä¸ªå˜é‡å‚æ•°çš„èƒ½åŠ›ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0284-multiple-variadic-parameters.md">SE-0284 Allow Multiple Variadic Parameters in Functions, Subscripts, and Initializers</a></li>
<li>åµŒå¥—å‡½æ•°å¯ä»¥é‡è½½ï¼ŒåµŒå¥—å‡½æ•°å¯ä»¥åœ¨å£°æ˜å‡½æ•°ä¹‹å‰è°ƒç”¨ä»–ã€‚</li>
<li>å±æ€§åŒ…è£…æ”¯æŒå±€éƒ¨å˜é‡ã€‚</li>
</ul>
<h5 id="Swift-5-5"><a href="#Swift-5-5" class="headerlink" title="Swift 5.5"></a>Swift 5.5</h5><p>å®˜æ–¹åšå®¢ä»‹ç»ï¼š<a target="_blank" rel="noopener" href="https://swift.org/blog/swift-5.5-released/">Swift 5.5 Released!</a></p>
<ul>
<li>Async awaitï¼Œç”¨åŒæ­¥å†™æ³•æ¥å¤„ç†å¼‚æ­¥ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0296-async-await.md">SE-0296 Async&#x2F;await</a></li>
<li>Async sequencesï¼Œå¼‚æ­¥åºåˆ—ä¸Šçš„å¾ªç¯èƒ½åŠ›ã€‚ç¬¦åˆ AsyncSequence åè®®çš„åºåˆ—å¯ä»¥é€šè¿‡ for await æ¥è¿›è¡Œå¼‚æ­¥å¾ªç¯ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0298-asyncsequence.md">SE-0298 Async&#x2F;Await: Sequences</a> </li>
<li>ç»“æ„åŒ–çš„å¹¶å‘ï¼Œä½¿ç”¨ Task å’Œ TaskGroup æ‰§è¡Œã€å–æ¶ˆå’Œç›‘å¬å½“å‰æ“ä½œçš„æ–¹æ³•ã€‚å¤æ‚çš„å¹¶å‘å¤„ç†å¯ä»¥ä½¿ç”¨ withTaskGroup() æ¥åˆ›å»ºä¸€ç»„ Taskï¼ŒaddTask() ç”¨æ¥æ·»åŠ ä»»åŠ¡ï¼ŒcancelAll() å¯ä»¥å–æ¶ˆä»»åŠ¡ï¼ŒaddTask() åœ¨å–æ¶ˆä»»åŠ¡åå¯ä»¥ç»§ç»­æ·»åŠ ä»»åŠ¡ï¼Œå¦‚æœä½¿ç”¨äº† addTaskUnlessCancelled() æ–¹æ³•å°±å¯ä»¥é¿å…å–æ¶ˆåä¼šç»§ç»­æ·»åŠ ä»»åŠ¡è¿™ç§æƒ…å†µã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0304-structured-concurrency.md">SE-0304 Structured concurrency</a></li>
<li>åªè¯»å±æ€§æ”¯æŒ async å’Œ throws å…³é”®å­—ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0310-effectful-readonly-properties.md">SE-0310 Effectful Read-only Properties</a></li>
<li>async letï¼Œå¯ä»¥åˆ›å»º await å­ä»»åŠ¡ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0317-async-let.md">SE-0317 async let bindings</a></li>
<li>ä»¥å‰å¼‚æ­¥ä»£ç çš„é€‚é…ã€‚æ¯”å¦‚ DispatchQueue.main.asyncï¼Œå¤–éƒ¨åº“å¯ä»¥é€šè¿‡ withCheckedContinuation() å‡½æ•°æ¥å¯¹ä»¥å‰å¼‚æ­¥ä»£ç è¿›è¡Œå°è£…ã€‚ ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0300-continuation.md">SE-0300 Continuations for interfacing async tasks with synchronous code</a></li>
<li>Actorï¼Œå¯ä»¥ç¡®ä¿å†…éƒ¨åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œé¿å…å­˜å‚¨å±æ€§å’Œæ–¹æ³•å‡ºç°ç«äº‰æ¡ä»¶ã€‚ææ¡ˆåœ¨è¿™ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0306-actors.md">SE-0306 Actors</a></li>
<li>å…¨å±€ actorsï¼Œé€šè¿‡ actor å°†å…¨å±€çŠ¶æ€éš”ç¦»å‡ºæ¥ï¼Œé¿å…æ•°æ®ç«äº‰ã€‚æ¯”å¦‚ä¸»çº¿ç¨‹ @MainActor è¿™ä¸ªå±æ€§åŒ…è£…å¯ä»¥å°†å±æ€§å’Œæ–¹æ³•æ ‡è®°ä¸ºåªèƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šè®¿é—®ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0316-global-actors.md">SE-0316 Global actors</a></li>
<li>Sendable åè®®å’Œ @Sendable å±æ€§åŒ…è£…ï¼Œç›®çš„æ˜¯æ”¯æŒå®‰å…¨çš„å°†æ•°æ®ä»ä¸€ä¸ªçº¿ç¨‹ä¼ ç»™å¦ä¸€ä¸ªçº¿ç¨‹ã€‚Swift çš„æ ¸å¿ƒæ•°æ®ç±»å‹æ¯”å¦‚å­—ç¬¦ã€é›†åˆç­‰å·²ç¬¦åˆ Sendable åè®®ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0302-concurrent-value-and-concurrent-closures.md">SE-0302 Sendable and @Sendable closures</a></li>
<li>å±€éƒ¨å˜é‡å¯ä»¥ä½¿ç”¨ lazyã€‚</li>
<li>å±æ€§åŒ…è£…å¯ä»¥ç”¨åˆ°å‡½æ•°å’Œé—­åŒ…å‚æ•°ä¸Šã€‚ææ¡ˆ<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0293-extend-property-wrappers-to-function-and-closure-parameters.md">SE-0293 Extend Property Wrappers to Function and Closure Parameters</a></li>
<li>æ³›å‹æ”¯æŒé™æ€æˆå‘˜æŸ¥æ‰¾ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0299-extend-generic-static-member-lookup.md">SE-0299 Extending Static Member Lookup in Generic Contexts</a></li>
<li>#if ç”¨äºåç¼€æˆå‘˜è¡¨è¾¾å¼ã€‚ææ¡ˆè§ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0308-postfix-if-config-expressions.md">SE-0308 #if for postfix member expressions</a></li>
<li>CGFloat å’Œ Double ä¹‹é—´å¯ä»¥éšå¼è½¬æ¢ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0307-allow-interchangeable-use-of-double-cgfloat-types.md">SE-0307 Allow interchangeable use of CGFloat and Double types</a></li>
<li>Codable æ”¯æŒå…³è”å€¼æšä¸¾ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0295-codable-synthesis-for-enums-with-associated-values.md">SE-0295 Codable synthesis for enums with associated values</a></li>
</ul>
<h5 id="Swift-5-6"><a href="#Swift-5-6" class="headerlink" title="Swift 5.6"></a>Swift 5.6</h5><p><a target="_blank" rel="noopener" href="https://www.swift.org/blog/swift-5.6-released/">5.6 å®˜æ–¹åšå®¢ä»‹ç»</a></p>
<ul>
<li>ä½¿ç”¨ any æ³¨é‡Šæ­¤ç±»ç±»å‹ï¼Œä½¿å­˜åœ¨ç±»å‹çš„å½±å“åœ¨è¯­è¨€ä¸­æ˜ç¡®ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0335-existential-any.md">SE-0335 Introduce existential any</a></li>
<li>ç±»å‹å ä½ç¬¦ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0315-placeholder-types.md">SE-0315 Type placeholders (formerly, â€œPlaceholder typesâ€)</a></li>
<li>æ–°å¢ CodingKeyRepresentable åè®®å°†éå­—ç¬¦ä¸²å’Œæ•´æ•°ç±»å‹è‡ªå®šä¹‰è¡¨ç°ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0320-codingkeyrepresentable.md">SE-0320 Allow coding of non String &#x2F; Int keyed Dictionary into a KeyedContainer</a></li>
<li>å¢åŠ  Unavailability ç”¨æ¥åœ¨æ£€æŸ¥ä¸å¯ç”¨æ—¶å¯ä»¥åšäº›äº‹æƒ…ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0290-negative-availability.md">SE-0290 Unavailability Condition</a></li>
<li>å¢åŠ äº† <code>@preconcurrency</code> å±æ€§ã€‚ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0337-support-incremental-migration-to-concurrency-checking.md">SE-0337 Incremental migration to concurrency checking</a></li>
<li>actor çš„ init å’Œ deinitã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0327-actor-initializers.md">SE-0327 On Actors and Initialization</a></li>
</ul>
<p>Package Manage çš„ä¸€äº›ææ¡ˆ</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0303-swiftpm-extensible-build-tools.md">SE-0303 Package Manager Extensible Build Tools</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0305-swiftpm-binary-target-improvements.md">SE-0305 Package Manager Binary Target Improvements</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0325-swiftpm-additional-plugin-apis.md">SE-0325 Additional Package Plugin APIs</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0332-swiftpm-command-plugins.md">SE-0332 Package Manager Command Plugins</a></li>
</ul>
<h5 id="Swift-5-7"><a href="#Swift-5-7" class="headerlink" title="Swift 5.7"></a>Swift 5.7</h5><ul>
<li>æ ‡å‡†åº“å¤šäº†ä¸ª <code>Regex&lt;Output&gt;</code> ç±»å‹ï¼ŒRegex è¯­æ³•ä¸ Perlã€Pythonã€Rubyã€Javaã€NSRegularExpression å’Œè®¸å¤šå…¶ä»–è¯­è¨€å…¼å®¹ã€‚å¯ä»¥ç”¨ <code>let regex = try! Regex(&quot;a[bc]+&quot;)</code> æˆ– <code>let regex = /a[bc]+/</code> å†™æ³•æ¥ä½¿ç”¨ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0350-regex-type-overview.md">SE-0350 Regex Type and Overview</a> å¼•å…¥ Regex ç±»å‹ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0351-regex-builder.md">SE-0351 Regex builder DSL</a> ä½¿ç”¨ result builder æ¥æ„å»ºæ­£åˆ™è¡¨è¾¾å¼çš„ DSLã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0354-regex-literals.md">SE-0354 Regex Literals</a> ç®€åŒ–çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0357-regex-string-processing-algorithms.md">SE-0357 Regex-powered string processing algorithms</a> ææ¡ˆé‡Œæœ‰åŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„æ–°å­—ç¬¦ä¸²å¤„ç†ç®—æ³•ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0347-type-inference-from-default-exprs.md">SE-0347 Type inference from default expressions</a> æ‰©å±• Swift æ³›å‹å‚æ•°ç±»å‹çš„é»˜è®¤å€¼èƒ½åŠ›ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0341-opaque-parameters.md">SE-0341 Opaque Parameter Declarations</a> ä½¿ç”¨ some å‚æ•°ç®€åŒ–æ³›å‹å‚æ•°å£°æ˜ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0328-structural-opaque-result-types.md">SE-0328 Structural opaque result types</a> æ‰©å¤§ä¸é€æ˜ç»“æœè¿”å›ç±»å‹å¯ä»¥ä½¿ç”¨çš„èŒƒå›´ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0360-opaque-result-types-with-availability.md">SE-0360 Opaque result types with limited availability</a> å¯ç”¨æ€§æœ‰é™çš„ä¸é€æ˜ç»“æœç±»å‹ï¼Œæ¯”å¦‚ <code>if #available(macOS 13.0, *) &#123;&#125;</code> å°±å¯ä»¥æ ¹æ®ç³»ç»Ÿä¸åŒç‰ˆæœ¬è¿”å›ä¸åŒç±»å‹ï¼Œæ–°ç‰ˆæœ¬å‡ºç°æ–°ç±»å‹çš„ View å°±å¯ä»¥å’Œä»¥å‰çš„ View ç±»å‹åŒºåˆ«å¼€ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0309-unlock-existential-types-for-all-protocols.md">SE-0309 Unlock existentials for all protocols</a> æ”¹è¿›äº† existentials å’Œ æ³›å‹çš„äº¤äº’ã€‚è¿™æ ·å°±å¯ä»¥æ›´æ–¹ä¾¿çš„æ£€æŸ¥ Any ç±»å‹çš„ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0346-light-weight-same-type-syntax.md">SE-0346 Lightweight same-type requirements for primary associated types</a> å¼•å…¥ä¸€ç§æ–°è¯­æ³•ï¼Œç”¨äºç¬¦åˆæ³›å‹å‚æ•°å¹¶é€šè¿‡ç›¸åŒç±»å‹è¦æ±‚çº¦æŸå…³è”ç±»å‹ã€‚<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0358-primary-associated-types-in-stdlib.md">SE-0358 Primary Associated Types in the Standard Library</a> å¼•å…¥ä¸»è¦å…³è”ç±»å‹æ¦‚å¿µï¼Œå¹¶å°†å…¶å¸¦å…¥äº†æ ‡å‡†åº“ã€‚è¿™äº›å…³è”ç±»å‹å¾ˆåƒæ³›å‹ï¼Œå…è®¸å¼€å‘è€…å°†ç»™å®šå…³è”ç±»å‹çš„ç±»å‹æŒ‡å®šä¸ºé€šç”¨çº¦æŸã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0353-constrained-existential-types.md">SE-0353 Constrained Existential Types</a> åŸºäº SE-0309 å’Œ SE-0346 ææ¡ˆï¼Œåœ¨ existential ç±»å‹çš„ä¸Šä¸‹æ–‡ä¸­é‡ç”¨è½»é‡å…³è”ç±»å‹çš„çº¦æŸã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0352-implicit-open-existentials.md">SE-0352 Implicitly Opened Existentials</a>  å…è®¸ Swift åœ¨å¾ˆå¤šæƒ…å†µä¸‹ä½¿ç”¨åè®®è°ƒç”¨æ³›å‹å‡½æ•°ã€‚</li>
<li>æ–°å¢ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0338-clarify-execution-non-actor-async.md">SE-0338 Clarify the Execution of Non-Actor-Isolated Async Functions</a> é€šè¿‡æ”¶ç´§å¯å‘é€æ€§æ£€æŸ¥çš„è§„åˆ™æ¥é¿å…æ½œåœ¨çš„æ•°æ®ç«äº‰ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0343-top-level-concurrency.md">SE-0343 Concurrency in Top-level Code</a> è¿™ä¸ªææ¡ˆä¸»è¦æ˜¯æ›´å¥½åœ°æ”¯æŒå‘½ä»¤è¡Œå·¥å…·çš„å¼€å‘ï¼Œå¯ä»¥ç›´æ¥å°† concurrency ä»£ç å†™åˆ° main.swift æ–‡ä»¶é‡Œã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0340-swift-noasync.md">SE-0340 Unavailable From Async Attribute</a> æä¾› noasync è¯­æ³•ä»¥å…è®¸æˆ‘ä»¬å°†ç±»å‹å’Œå‡½æ•°æ ‡è®°ä¸ºåœ¨å¼‚æ­¥ä¸Šä¸‹æ–‡ä¸å¯ç”¨ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0336-distributed-actor-isolation.md">SE-0336 Distributed Actor Isolation</a> å’Œ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0344-distributed-actor-runtime.md">SE-0344 Distributed Actor Runtime</a> æ˜¯ä¸¤ä¸ª Distributed Actors çš„ç›¸å…³ææ¡ˆã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0345-if-let-shorthand.md">SE-0345 if let shorthand for shadowing an existing optional variable</a> å¼•å…¥çš„æ–°è¯­æ³•ï¼Œç”¨äº unwrapping optinalã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0326-extending-multi-statement-closure-inference.md">SE-0326</a> æé«˜äº† Swift å¯¹é—­åŒ…ä½¿ç”¨å‚æ•°å’Œç±»å‹æ¨æ–­çš„èƒ½åŠ›ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0348-buildpartialblock.md">SE-0348 buildPartialBlock for result builders</a>  ç®€åŒ–äº†å®ç°å¤æ‚ result buiders æ‰€éœ€çš„é‡è½½ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0356-swift-snippets.md">SE-0356 Swift Snippets</a>  ä»£ç ç‰‡æ®µç”¨äºç¤ºä¾‹æ–‡æ¡£çš„ææ¡ˆã€‚</li>
<li>å†…å­˜ç®¡ç†ç›¸å…³ææ¡ˆåŒ…æ‹¬ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0349-unaligned-loads-and-stores.md">SE-0349 Unaligned Loads and Stores from Raw Memory</a> ã€<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0334-pointer-usability-improvements.md">SE-0334 Pointer API Usability Improvements</a> ã€<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0333-with-memory-rebound.md">SE-0333 Expand usability of withMemoryRebound</a> ã€‚</li>
</ul>
<h3 id="è§„èŒƒ"><a href="#è§„èŒƒ" class="headerlink" title="è§„èŒƒ"></a>è§„èŒƒ</h3><h4 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h4><p>å‚è€ƒï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://google.github.io/swift/">Swift Style Guide</a></li>
</ul>
<p>å¤šç”¨é™æ€ç‰¹æ€§ã€‚swift åœ¨ç¼–è¯‘æœŸé—´æ‰€åšçš„ä¼˜åŒ–æ¯” OC è¦å¤šï¼Œè¿™æ˜¯ç”±äºä»–çš„é™æ€æ´¾å‘ã€æ³›å‹ç‰¹åŒ–ã€å†™æ—¶å¤åˆ¶è¿™äº›é™æ€ç‰¹æ€§å†³å®šçš„ã€‚å¦å¤–é€šè¿‡ final  å’Œ private è¿™æ ·çš„è¡¨ç¤ºå¯å°†åŠ¨æ€ç‰¹æ€§è½¬åŒ–ä¸ºé™æ€æ–¹å¼ï¼Œç¼–è¯‘å¼€å¯ WMO å¯ä»¥è‡ªåŠ¨æ¨å¯¼å‡ºå“ªäº›åŠ¨æ€æ´¾å‘å¯è½¬åŒ–ä¸ºé™æ€æ´¾å‘ã€‚</p>
<p>å¦‚ä½•é¿å…å´©æºƒï¼Ÿ</p>
<ul>
<li>å­—å…¸ï¼šç”¨ç»“æ„ä½“æ›¿ä»£</li>
<li>Anyï¼šå¯ç”¨æ³›å‹æˆ–å…³è”å…³è”ç±»å‹æ›¿ä»£</li>
<li>as? ï¼šå°‘ç”¨ AnyObjectï¼Œå¤šç”¨æ³›å‹æˆ–ä¸é€æ˜ç±»å‹</li>
<li>!ï¼šè¦å°‘ç”¨</li>
</ul>
<p>å¥½çš„å®è·µï¼Ÿ</p>
<ul>
<li>å°‘ç”¨ç»§æ‰¿ï¼Œå¤šç”¨ protocol</li>
<li>å¤šç”¨ extension å¯¹è‡ªå·±ä»£ç è¿›è¡Œç®¡ç†</li>
</ul>
<h3 id="èµ„æ–™æ¨è"><a href="#èµ„æ–™æ¨è" class="headerlink" title="èµ„æ–™æ¨è"></a>èµ„æ–™æ¨è</h3><h4 id="ä¹¦å•"><a href="#ä¹¦å•" class="headerlink" title="ä¹¦å•"></a>ä¹¦å•</h4><ul>
<li>ã€ŠThinking in SwiftUIã€‹</li>
<li>ã€ŠSwift è¿›é˜¶ã€‹</li>
<li>ã€Šå‡½æ•°å¼Swiftã€‹</li>
<li>ã€Šæ·±å…¥è§£æMac OS X &amp; iOSæ“ä½œç³»ç»Ÿã€‹</li>
<li>ã€ŠLLVM Techniques, Tips, and Best Practices Clang and Middle-End Librariesã€‹</li>
<li>ã€ŠLearn LLVM 12ã€‹</li>
<li>ã€ŠCrafting Interpretersã€‹</li>
<li>ã€ŠTCP&#x2F;IP Illustratedã€‹</li>
<li>ã€Šæ¾æœ¬è¡Œå¼˜çš„ç¨‹åºä¸–ç•Œã€‹</li>
<li>ã€Šç°ä»£æ“ä½œç³»ç»Ÿã€‹</li>
<li>ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹</li>
<li>ã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»ã€‹</li>
<li>ã€ŠHead First è®¾è®¡æ¨¡å¼ã€‹</li>
</ul>
<h3 id="ä¸‰æ–¹åº“ä½¿ç”¨"><a href="#ä¸‰æ–¹åº“ä½¿ç”¨" class="headerlink" title="ä¸‰æ–¹åº“ä½¿ç”¨"></a>ä¸‰æ–¹åº“ä½¿ç”¨</h3><h4 id="SQLite-swift-çš„ä½¿ç”¨"><a href="#SQLite-swift-çš„ä½¿ç”¨" class="headerlink" title="SQLite.swift çš„ä½¿ç”¨"></a>SQLite.swift çš„ä½¿ç”¨</h4><p>ä¸‹é¢æ˜¯ SQLite.swift åº“çš„ä½¿ç”¨ä»‹ç»ï¼ŒåŒ…æ‹¬äº†æ•°æ®åº“åˆ›å»ºï¼Œè¡¨åˆ›å»ºï¼Œè¡¨çš„æ·»åŠ ã€æ›´æ–°ã€åˆ é™¤ã€æŸ¥æ‰¾ç­‰å¤„ç†æ–¹æ³•</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">SQLite</span>

<span class="token keyword">struct</span> <span class="token constant">DB</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> shared <span class="token operator">=</span> <span class="token function">DB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token class-name">NSSearchPathForDirectoriesInDomains</span><span class="token punctuation">(</span>
        <span class="token punctuation">.</span>applicationSupportDirectory<span class="token punctuation">,</span> <span class="token punctuation">.</span>userDomainMask<span class="token punctuation">,</span> <span class="token boolean">true</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token operator">!</span>
    <span class="token keyword">let</span> <span class="token constant">BBDB</span><span class="token punctuation">:</span> <span class="token class-name">Connection</span><span class="token operator">?</span>
    <span class="token keyword">private</span> <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token constant">DB</span><span class="token punctuation">.</span>path<span class="token punctuation">)</span>
            <span class="token constant">BBDB</span> <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token class-name">Connection</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token constant">DB</span><span class="token punctuation">.</span>path</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">/github.sqlite3"</span></span><span class="token punctuation">)</span>
            
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
            <span class="token constant">BBDB</span> <span class="token operator">=</span> <span class="token nil constant">nil</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">/// Swift ç±»å‹å’Œ SQLite ç±»å‹å¯¹æ ‡å¦‚ä¸‹ï¼š</span>
        <span class="token comment">/// Int64 = INTEGER</span>
        <span class="token comment">/// Double = REAL</span>
        <span class="token comment">/// String = TEXT</span>
        <span class="token comment">/// nil = NULL</span>
        <span class="token comment">/// SQLite.Blob = BLOB</span>
        
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// åˆ›å»ºè¡¨</span>
    <span class="token keyword">func</span> <span class="token function-definition function">cTbs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span> <span class="token class-name">ReposNotiDataHelper</span><span class="token punctuation">.</span><span class="token function">createTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">try</span> <span class="token class-name">DevsNotiDataHelper</span><span class="token punctuation">.</span><span class="token function">createTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>connectionErr
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    
<span class="token punctuation">&#125;</span>

<span class="token keyword">enum</span> <span class="token class-name">DBError</span><span class="token punctuation">:</span> <span class="token class-name">Error</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> connectionErr<span class="token punctuation">,</span> insertErr<span class="token punctuation">,</span> deleteErr<span class="token punctuation">,</span> searchErr<span class="token punctuation">,</span> updateErr<span class="token punctuation">,</span> nilInData
<span class="token punctuation">&#125;</span>

<span class="token keyword">protocol</span> <span class="token class-name">DataHelperProtocol</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">associatedtype</span> <span class="token class-name">T</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">createTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-></span> <span class="token class-name">Void</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">insert</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-></span> <span class="token class-name">Int64</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">delete</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-></span> <span class="token class-name">Void</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">]</span><span class="token operator">?</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: å¼€å‘è€…æ›´æ–°æé†’</span>
<span class="token keyword">typealias</span> <span class="token class-name">DBDevNoti</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
    login<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    lastReadId<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
    unRead<span class="token punctuation">:</span> <span class="token class-name">Int</span>
<span class="token punctuation">)</span>

<span class="token keyword">struct</span> <span class="token class-name">DevsNotiDataHelper</span><span class="token punctuation">:</span> <span class="token class-name">DataHelperProtocol</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> table <span class="token operator">=</span> <span class="token class-name">Table</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"devsNoti"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> login <span class="token operator">=</span> <span class="token class-name">Expression</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"login"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> lastReadId <span class="token operator">=</span> <span class="token class-name">Expression</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"lastReadId"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> unRead <span class="token operator">=</span> <span class="token class-name">Expression</span><span class="token operator">&lt;</span><span class="token class-name">Int</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"unRead"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">typealias</span> <span class="token class-name">T</span> <span class="token operator">=</span> <span class="token class-name">DBDevNoti</span>
    
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">createTable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">guard</span> <span class="token keyword">let</span> db <span class="token operator">=</span> <span class="token constant">DB</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token constant">BBDB</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>connectionErr
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">let</span> <span class="token omit keyword">_</span> <span class="token operator">=</span> <span class="token keyword">try</span> db<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>table<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>ifNotExists<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> t <span class="token keyword">in</span>
                t<span class="token punctuation">.</span><span class="token function">column</span><span class="token punctuation">(</span>login<span class="token punctuation">,</span> unique<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
                t<span class="token punctuation">.</span><span class="token function">column</span><span class="token punctuation">(</span>lastReadId<span class="token punctuation">,</span> defaultValue<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span>
                t<span class="token punctuation">.</span><span class="token function">column</span><span class="token punctuation">(</span>unRead<span class="token punctuation">,</span> defaultValue<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token omit keyword">_</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>connectionErr
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end createTable</span>
    
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">insert</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token class-name">DBDevNoti</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-></span> <span class="token class-name">Int64</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">guard</span> <span class="token keyword">let</span> db <span class="token operator">=</span> <span class="token constant">DB</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token constant">BBDB</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>connectionErr
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">let</span> insert <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>login <span class="token operator">&lt;-</span> i<span class="token punctuation">.</span>login<span class="token punctuation">,</span> lastReadId <span class="token operator">&lt;-</span> i<span class="token punctuation">.</span>lastReadId<span class="token punctuation">,</span> unRead <span class="token operator">&lt;-</span> i<span class="token punctuation">.</span>unRead<span class="token punctuation">)</span>
        <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">let</span> rowId <span class="token operator">=</span> <span class="token keyword">try</span> db<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>insert<span class="token punctuation">)</span>
            <span class="token keyword">guard</span> rowId <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>insertErr
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">return</span> rowId
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>insertErr
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end insert</span>
    
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">delete</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token class-name">DBDevNoti</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">guard</span> <span class="token keyword">let</span> db <span class="token operator">=</span> <span class="token constant">DB</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token constant">BBDB</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>connectionErr
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">let</span> query <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>login <span class="token operator">==</span> i<span class="token punctuation">.</span>login<span class="token punctuation">)</span>
        <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">let</span> tmp <span class="token operator">=</span> <span class="token keyword">try</span> db<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">guard</span> tmp <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>deleteErr
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>deleteErr
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end delete</span>
    
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">find</span><span class="token punctuation">(</span>sLogin<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-></span> <span class="token class-name">DBDevNoti</span><span class="token operator">?</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">guard</span> <span class="token keyword">let</span> db <span class="token operator">=</span> <span class="token constant">DB</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token constant">BBDB</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>connectionErr
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">let</span> query <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>login <span class="token operator">==</span> sLogin<span class="token punctuation">)</span>
        <span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token keyword">try</span> db<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> items <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token class-name">DBDevNoti</span><span class="token punctuation">(</span>login<span class="token punctuation">:</span> i<span class="token punctuation">[</span>login<span class="token punctuation">]</span><span class="token punctuation">,</span> lastReadId<span class="token punctuation">:</span> i<span class="token punctuation">[</span>lastReadId<span class="token punctuation">]</span><span class="token punctuation">,</span> unRead<span class="token punctuation">:</span> i<span class="token punctuation">[</span>unRead<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token nil constant">nil</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end find</span>
    
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">update</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token class-name">DBDevNoti</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">guard</span> <span class="token keyword">let</span> db <span class="token operator">=</span> <span class="token constant">DB</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token constant">BBDB</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>connectionErr
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">let</span> query <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>login <span class="token operator">==</span> i<span class="token punctuation">.</span>login<span class="token punctuation">)</span>
        <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token keyword">try</span> db<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>query<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>lastReadId <span class="token operator">&lt;-</span> i<span class="token punctuation">.</span>lastReadId<span class="token punctuation">,</span> unRead <span class="token operator">&lt;-</span> i<span class="token punctuation">.</span>unRead<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>
                
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>updateErr
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>updateErr
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end update</span>
    
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">DBDevNoti</span><span class="token punctuation">]</span><span class="token operator">?</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">guard</span> <span class="token keyword">let</span> db <span class="token operator">=</span> <span class="token constant">DB</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token constant">BBDB</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token class-name">DBError</span><span class="token punctuation">.</span>connectionErr
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">DBDevNoti</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> items <span class="token operator">=</span> <span class="token keyword">try</span> db<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> items <span class="token punctuation">&#123;</span>
            arr<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">DBDevNoti</span><span class="token punctuation">(</span>login<span class="token punctuation">:</span> i<span class="token punctuation">[</span>login<span class="token punctuation">]</span><span class="token punctuation">,</span> lastReadId<span class="token punctuation">:</span> i<span class="token punctuation">[</span>lastReadId<span class="token punctuation">]</span><span class="token punctuation">,</span> unRead<span class="token punctuation">:</span> i<span class="token punctuation">[</span>unRead<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> arr
    <span class="token punctuation">&#125;</span> <span class="token comment">// end find all</span>
    
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨æ—¶ï¼Œå¯ä»¥åœ¨åˆå§‹åŒ–æ—¶è¿™ä¹ˆåšï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// MARK: åˆå§‹åŒ–æ•°æ®åº“</span>
et db <span class="token operator">=</span> <span class="token constant">DB</span><span class="token punctuation">.</span>shared
<span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">try</span> db<span class="token punctuation">.</span><span class="token function">cTbs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// åˆ›å»ºè¡¨</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
    
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨çš„æ“ä½œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token keyword">let</span> fd <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token class-name">ReposNotiDataHelper</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>sFullName<span class="token punctuation">:</span> r<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        reposDic<span class="token punctuation">[</span>fd<span class="token punctuation">.</span>fullName<span class="token punctuation">]</span> <span class="token operator">=</span> fd<span class="token punctuation">.</span>unRead
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">let</span> <span class="token omit keyword">_</span> <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token class-name">ReposNotiDataHelper</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token class-name">DBRepoNoti</span><span class="token punctuation">(</span>fullName<span class="token punctuation">:</span> r<span class="token punctuation">.</span>id<span class="token punctuation">,</span> lastReadCommitSha<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span> unRead<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            reposDic<span class="token punctuation">[</span>r<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> reposDic
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> reposDic
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h3><h4 id="èŒƒä¾‹"><a href="#èŒƒä¾‹" class="headerlink" title="èŒƒä¾‹"></a>èŒƒä¾‹</h4><ul>
<li>å®˜æ–¹æä¾›çš„ä¸¤ä¸ªä¾‹å­ï¼Œ<a target="_blank" rel="noopener" href="https://developer.apple.com/tutorials/swiftui/creating-a-macos-app">Creating a macOS App</a>ï¼Œ<a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/building_a_great_mac_app_with_swiftui">Building a Great Mac App with SwiftUI</a> ï¼ˆæœ‰tableå’ŒLazyVGridçš„ç”¨æ³•ï¼‰ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://github.com/adamayoung/Movies">GitHub - adamayoung&#x2F;Movies: Movies and TV Shows App for iOS, iPadOS, watchOS and macOS</a> ä½¿ç”¨äº†SwiftUIå’ŒCombineï¼Œç”µå½±æ•°æ®ä½¿ç”¨çš„æ˜¯<a target="_blank" rel="noopener" href="https://www.themoviedb.org/">The Movie Database (TMDB)</a>çš„API</li>
</ul>
<h4 id="ä¸‰æ ç»“æ„"><a href="#ä¸‰æ ç»“æ„" class="headerlink" title="ä¸‰æ ç»“æ„"></a>ä¸‰æ ç»“æ„</h4><p>ä¸‰æ ç»“æ„æ¶å­æ­å»ºï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">SwiftUI</span>
<span class="token keyword">struct</span> <span class="token class-name">SwiftPamphletApp</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">NavigationView</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">SPSidebar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬äºŒæ "</span></span><span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬ä¸‰æ "</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Swift å°å†Œå­"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>toolbar <span class="token punctuation">&#123;</span>
            <span class="token class-name">ToolbarItem</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token class-name">ToolbarItemPlacement</span><span class="token punctuation">.</span>navigation<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">NSApp</span><span class="token punctuation">.</span>keyWindow<span class="token operator">?</span><span class="token punctuation">.</span>firstResponder<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">tryToPerform</span><span class="token punctuation">(</span><span class="token other-directive property">#selector</span><span class="token punctuation">(</span><span class="token class-name">NSSplitViewController</span><span class="token punctuation">.</span><span class="token function">toggleSidebar</span><span class="token punctuation">(</span><span class="token omit keyword">_</span><span class="token punctuation">:</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> with<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Sidebar"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"sidebar.left"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">struct</span> <span class="token class-name">SPSidebar</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">List</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Section</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬ä¸€ç»„"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">NavigationLink</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬ä¸€é¡¹"</span></span><span class="token punctuation">,</span> destination<span class="token punctuation">:</span> <span class="token class-name">SPList</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"åˆ—è¡¨1"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">badge</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
                <span class="token class-name">NavigationLink</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬äºŒé¡¹"</span></span><span class="token punctuation">,</span> destination<span class="token punctuation">:</span> <span class="token class-name">SPList</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"åˆ—è¡¨2"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">Section</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬äºŒç»„"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">NavigationLink</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬ä¸‰é¡¹"</span></span><span class="token punctuation">,</span> destination<span class="token punctuation">:</span> <span class="token class-name">SPList</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"åˆ—è¡¨3"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token class-name">NavigationLink</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬å››é¡¹"</span></span><span class="token punctuation">,</span> destination<span class="token punctuation">:</span> <span class="token class-name">SPList</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"åˆ—è¡¨4"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">listStyle</span><span class="token punctuation">(</span><span class="token class-name">SidebarListStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>minWidth<span class="token punctuation">:</span> <span class="token number">160</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>toolbar <span class="token punctuation">&#123;</span>
            <span class="token class-name">ToolbarItem</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Menu</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">)</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"2"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Label"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"slider.horizontal.3"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">struct</span> <span class="token class-name">SPList</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> title<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> searchText<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">List</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å†…å®¹</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">toolbar</span><span class="token punctuation">(</span>content<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">//</span>
            <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Add"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"plus"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">navigationSubtitle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å‰¯æ ‡é¢˜"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">searchable</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> $searchText<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š<br><img src="https://user-images.githubusercontent.com/251980/142977421-bed5b5ae-01fe-471f-a951-63dd4338c97a.png"></p>
<h4 id="å…¨å±æ¨¡å¼"><a href="#å…¨å±æ¨¡å¼" class="headerlink" title="å…¨å±æ¨¡å¼"></a>å…¨å±æ¨¡å¼</h4><p>å°† NSSplitView é‡Œçš„å…¶ä¸­ä¸€ä¸ª NSView è®¾ç½®ä¸ºå…¨å±å’Œé€€å‡ºå…¨å±çš„å‡½æ•°å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// MARK: - è·å– NSSplitViewController</span>
<span class="token keyword">func</span> <span class="token function-definition function">splitVC</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">NSSplitViewController</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">NSApp</span><span class="token punctuation">.</span>keyWindow<span class="token operator">?</span><span class="token punctuation">.</span>contentView<span class="token operator">?</span><span class="token punctuation">.</span>subviews<span class="token punctuation">.</span>first<span class="token operator">?</span><span class="token punctuation">.</span>subviews<span class="token punctuation">.</span>first<span class="token operator">?</span><span class="token punctuation">.</span>subviews<span class="token punctuation">.</span>first <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">NSSplitView</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>delegate <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">NSSplitViewController</span><span class="token punctuation">)</span><span class="token operator">!</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - å…¨å±</span>
<span class="token keyword">func</span> <span class="token function-definition function">fullScreen</span><span class="token punctuation">(</span>isEnter<span class="token punctuation">:</span> <span class="token class-name">Bool</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> isEnter <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// è¿›å…¥å…¨å±</span>
        <span class="token keyword">let</span> presOptions<span class="token punctuation">:</span>
        <span class="token class-name">NSApplication</span><span class="token punctuation">.</span><span class="token class-name">PresentationOptions</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">.</span>autoHideDock<span class="token punctuation">,</span><span class="token punctuation">.</span>autoHideMenuBar<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> optionsDictionary <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">NSView</span><span class="token punctuation">.</span><span class="token class-name">FullScreenModeOptionKey</span><span class="token punctuation">.</span>fullScreenModeApplicationPresentationOptions <span class="token punctuation">:</span> <span class="token class-name">NSNumber</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> presOptions<span class="token punctuation">.</span>rawValue<span class="token punctuation">)</span><span class="token punctuation">]</span>
        
        <span class="token keyword">let</span> v <span class="token operator">=</span> <span class="token function">splitVC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>splitViewItems<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>viewController<span class="token punctuation">.</span>view
        v<span class="token punctuation">.</span><span class="token function">enterFullScreenMode</span><span class="token punctuation">(</span><span class="token class-name">NSScreen</span><span class="token punctuation">.</span>main<span class="token operator">!</span><span class="token punctuation">,</span> withOptions<span class="token punctuation">:</span> optionsDictionary<span class="token punctuation">)</span>
        v<span class="token punctuation">.</span>wantsLayer <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// é€€å‡ºå…¨å±</span>
        <span class="token class-name">NSApp</span><span class="token punctuation">.</span>keyWindow<span class="token operator">?</span><span class="token punctuation">.</span>contentView<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">exitFullScreenMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end if</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä½¿ç”¨æ–¹æ³•</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">V</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@StateObject</span> <span class="token keyword">var</span> appVM <span class="token operator">=</span> <span class="token class-name">AppVM</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> isEnterFullScreen<span class="token punctuation">:</span> <span class="token class-name">Bool</span> <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">// å…¨å±æ§åˆ¶</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
            isEnterFullScreen<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            appVM<span class="token punctuation">.</span><span class="token function">fullScreen</span><span class="token punctuation">(</span>isEnter<span class="token punctuation">:</span> isEnterFullScreen<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> isEnterFullScreen <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token operator">?</span> <span class="token string-literal"><span class="token string">"arrow.down.right.and.arrow.up.left"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"arrow.up.left.and.arrow.down.right"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="å…±äº«èœå•"><a href="#å…±äº«èœå•" class="headerlink" title="å…±äº«èœå•"></a>å…±äº«èœå•</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">ShareView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Menu</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token class-name">NSPasteboard</span><span class="token punctuation">.</span>general
                p<span class="token punctuation">.</span><span class="token function">declareTypes</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">.</span>string<span class="token punctuation">]</span><span class="token punctuation">,</span> owner<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span>
                p<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> forType<span class="token punctuation">:</span> <span class="token punctuation">.</span>string<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ‹·è´é“¾æ¥"</span></span><span class="token punctuation">)</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"doc.on.doc"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token class-name">NSSharingService</span><span class="token punctuation">.</span><span class="token function">sharingServices</span><span class="token punctuation">(</span>forItems<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> item <span class="token keyword">in</span>
                <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                    item<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span>withItems<span class="token punctuation">:</span> <span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
                    <span class="token class-name">Image</span><span class="token punctuation">(</span>nsImage<span class="token punctuation">:</span> item<span class="token punctuation">.</span>image<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"åˆ†äº«"</span></span><span class="token punctuation">)</span>
            <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"square.and.arrow.up"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="å‰ªè´´æ¿"><a href="#å‰ªè´´æ¿" class="headerlink" title="å‰ªè´´æ¿"></a>å‰ªè´´æ¿</h4><p>æ·»åŠ å’Œè¯»å–å‰ªè´´æ¿çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// è¯»å–å‰ªè´´æ¿å†…å®¹</span>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token class-name">NSPasteboard</span><span class="token punctuation">.</span>general<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>forType<span class="token punctuation">:</span> <span class="token punctuation">.</span>string<span class="token punctuation">)</span>
<span class="token keyword">guard</span> <span class="token keyword">let</span> s <span class="token operator">=</span> s <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
<span class="token punctuation">&#125;</span>
<span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

<span class="token comment">// è®¾ç½®å‰ªè´´æ¿å†…å®¹</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token class-name">NSPasteboard</span><span class="token punctuation">.</span>general
p<span class="token punctuation">.</span><span class="token function">declareTypes</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">.</span>string<span class="token punctuation">]</span><span class="token punctuation">,</span> owner<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> forType<span class="token punctuation">:</span> <span class="token punctuation">.</span>string<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="æ€§èƒ½å’Œæ„å»º"><a href="#æ€§èƒ½å’Œæ„å»º" class="headerlink" title="æ€§èƒ½å’Œæ„å»º"></a>æ€§èƒ½å’Œæ„å»º</h3><h4 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h4><p>session <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-110370">Debug Swift debugging with LLDB</a></p>
<p>ç¼–è¯‘å™¨ç¼–è¯‘ swift æ–‡ä»¶ç”Ÿæˆ <code>.o</code> æ–‡ä»¶ä¼šæœ‰ <code>__debug_info</code> æ®µï¼Œå…¶ä¸­æœ‰å¯ä»¥æ˜ å°„åˆ°æºæ–‡ä»¶å’Œè¡Œå·çš„åœ°å€ã€‚debug ä¿¡æ¯å¯ä»¥é“¾æ¥åˆ° <code>.dSYM</code> åŒ…ã€‚debug ä¿¡æ¯é“¾æ¥å™¨å« dsymutilï¼Œdsymutil å¯ä»¥ä¸ºæ¯ä¸ªåŠ¨æ€åº“ã€framework æˆ– dylib å’Œå¯æ‰§è¡Œæ–‡ä»¶æ‰“åŒ…ä¸€ä¸ª debug ä¿¡æ¯å­˜æ¡£ï¼ˆ<code>.dSYM</code> åŒ…ï¼‰ã€‚</p>
<p>image å’Œè·¯å¾„æ€ä¹ˆé‡æ˜ å°„ã€‚ä½¿ç”¨ <code>image list nameOfFramework</code> æ¥æ£€æŸ¥ LLDB æ˜¯å¦æ‰¾åˆ°äº†æˆ‘ä»¬åº”ç”¨ç¨‹åºé‡ŒåµŒå…¥çš„ç¬¬ä¸‰æ–¹æ¡†æ¶çš„ debug dSYMã€‚ä½¿ç”¨ <code>image lookup 0xMemoryAddressHere</code> è·å–å½“å‰åœ°å€æ›´å¤šä¿¡æ¯ã€‚è¦é‡æ–°æ˜ å°„æºæ–‡ä»¶ <code>.dSYM</code> è·¯å¾„ï¼Œä½¿ç”¨ <code>settings set target.source-map old/path new/path</code>ã€‚æ¯ä¸ª <code>.dSYM</code> éƒ½æœ‰ä¸€ä¸ª <code>UUID.plist</code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­è®¾ç½® DBGSourcePathRemapping è¿™ä¸ªå­—å…¸ã€‚</p>
<p>Xcode 14 æ–°å¢ <code>swift-healthcheck</code> å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤å¯ä»¥äº†è§£ module ä¸ºä½•å¯¼å…¥å¤±è´¥ã€‚</p>
<p>LLDB æ€ä¹ˆæ‰¾åˆ° Swift moduleï¼Ÿæ¯ä¸ª <code>.dSYM</code> åŒ…éƒ½å¯ä»¥åŒ…å«äºŒçº§åˆ¶ swift moduleï¼Œå…¶ä¸­å¯èƒ½åŒ…å«æ¡¥å¤´æ–‡ä»¶ã€swift æ¥å£æ–‡ä»¶ <code>.swiftinterface</code>ï¼Œè¿˜æœ‰ debug ä¿¡æ¯ã€‚é™æ€å­˜æ¡£ä¸æ˜¯ç”±é“¾æ¥å™¨ç”Ÿæˆçš„ï¼Œéœ€è¦å‘é“¾æ¥å™¨æ³¨å†Œ swift moduleï¼Œä½¿ç”¨ <code>ld ... -add-ast-path /path/to/My.swiftmodule</code> ï¼ŒåŠ¨æ€åº“å’Œå¯æ‰§è¡Œæ–‡ä»¶çš„è¯ï¼ŒXcode ä¼šè‡ªåŠ¨å®Œæˆæ­¤æ“ä½œã€‚å¯ä»¥ä½¿ç”¨ dsymutil æ¥ dump ä½ å¯æ‰§è¡Œæ–‡ä»¶çš„ç¬¦å·è¡¨ï¼Œå¹¶ç”¨ grep æ‰¾ swiftmoduleï¼Œå‘½ä»¤æ˜¯ <code>dsymutil -s MyApp | grep .swiftmodule</code> ã€‚</p>
<h4 id="å†…å­˜ç®¡ç†"><a href="#å†…å­˜ç®¡ç†" class="headerlink" title="å†…å­˜ç®¡ç†"></a>å†…å­˜ç®¡ç†</h4><p>ç›¸å…³ææ¡ˆåŒ…æ‹¬ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0349-unaligned-loads-and-stores.md">SE-0349 Unaligned Loads and Stores from Raw Memory</a> ã€<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0334-pointer-usability-improvements.md">SE-0334 Pointer API Usability Improvements</a> ã€<a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0333-with-memory-rebound.md">SE-0333 Expand usability of withMemoryRebound</a></p>
<p>Set ä½¿ç”¨æ–°çš„ Temporary Buffers åŠŸèƒ½ï¼Œè®© intersect é€Ÿåº¦æå‡äº† 4 åˆ° 6 å€ã€‚</p>
<h4 id="é“¾æ¥å™¨"><a href="#é“¾æ¥å™¨" class="headerlink" title="é“¾æ¥å™¨"></a>é“¾æ¥å™¨</h4><p><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/110362/">Link fast: Improve build and launch time</a> è¯¦ç»†è®²äº† Apple ä»Šå¹´æ€ä¹ˆæ”¹è¿›äº† linkï¼Œæ€è·¯å¾ˆæ£’ï¼Œå¾ˆå€¼å¾—å­¦ä¹ ã€‚</p>
<p>Static linking å’Œ Dynamic linking ï¼Œä¹Ÿå°±æ˜¯é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥ã€‚</p>
<p>é™æ€é“¾æ¥å°±æ˜¯é“¾æ¥å„ä¸ªç¼–è¯‘å¥½çš„æºæ–‡ä»¶ä»¥åŠé“¾æ¥æºæ–‡ä»¶å’Œç¼–è¯‘å¥½çš„åº“æ–‡ä»¶ï¼Œé€šè¿‡å°†å‡½æ•°åæ”¾åˆ°ç¬¦å·è¡¨ï¼Œé“¾æ¥æ–°æ–‡ä»¶æ—¶ç¡®å®šå…ˆå‰æ˜¯å¦æœ‰åŒ…å«çš„ undefined ç¬¦å·ï¼Œç»™å‡½æ•°çš„æ•°æ®æŒ‡ä»¤åˆ†é…åœ°å€ï¼Œæœ€åç”Ÿæˆä¸€ä¸ªæœ‰ TEXTã€DATAã€LINKEDIT æ®µçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<p>ä»Šå¹´ Apple  é€šè¿‡åˆ©ç”¨å¤šæ ¸ä¼˜åŠ¿è®©é™æ€é“¾æ¥å¿«äº†ä¸¤å€ã€‚</p>
<p>å…·ä½“åšæ³•æ˜¯ï¼Œå¹¶è¡Œçš„æ‹·è´æ–‡ä»¶å†…å®¹ã€‚å¹¶è¡Œæ„å»º LINKEDIT æ®µçš„å„ä¸ªä¸åŒéƒ¨åˆ†ã€‚å¹¶è¡Œæ”¹å˜ UUID è®¡ç®—å’Œ codesigning å“ˆå¸Œã€‚ç„¶åæ˜¯æé«˜ exports-trie æ„å»ºå™¨çš„ç®—æ³•ã€‚ä½¿ç”¨æœ€æ–°çš„ Crypto åº“åˆ©ç”¨ç¡¬ä»¶åŠ é€Ÿçš„ä¼˜åŠ¿åŠ é€Ÿ UUID è®¡ç®—ã€‚æé«˜å…¶å®ƒé™æ€åº“å¤„ç†ç®—æ³•åº“ï¼Œdebug-notes ç”Ÿæˆä¹Ÿæ›´å¿«äº†ã€‚</p>
<p>Apple æ¨èé™æ€åº“æœ€ä½³å®è·µæ˜¯ï¼š</p>
<p>ä½¿ç”¨ <code>-all_load</code> æˆ– <code>-force_load</code> å¯ä»¥è®© .a æ–‡ä»¶åƒ .o æ–‡ä»¶é‚£æ ·å¹¶è¡Œå¤„ç†ï¼Œä¸è¿‡å¼€å¯è¿™ä¸ªé€‰é¡¹éœ€è¦å…ˆå¤„ç†é‡å¤çš„ç¬¦å·ã€‚å¦å¤–ä¸€ä¸ªå‰¯ä½œç”¨æ˜¯ä¼šå°†ä¸€äº›è¢«åˆ¤æ–­æ— ç”¨çš„ä»£ç ä¹Ÿè¢«é“¾æ¥è¿›æ¥ï¼Œä½¿åŒ…ä½“å˜å¤§ï¼Œå› æ­¤å¼€å¯ä¹‹å‰å¯ä»¥å…ˆä½¿ç”¨é™æ€åˆ†æå·¥å…·åˆ†æå¤„ç†ï¼Œè¿™ä¸ªè¿‡ç¨‹å®šæœŸåšå°±è¡Œï¼Œä¸ç”¨æ”¾åˆ°æ¯æ¬¡ç¼–è¯‘è¿‡ç¨‹ä¸­ã€‚æ¼”è®²è€…æ¨èä½¿ç”¨ <code>-dead_strip</code> é€‰é¡¹ï¼Œä½†æ˜¯è¿™æ ·åšå¹¶æ²¡æœ‰çœŸå®å»æ‰è´¹ä»£ç ï¼Œä»¥åè¿™äº›ä»£ç è¿˜æ˜¯ä¼šè¢«ç¼–è¯‘åˆ†æï¼Œå¦‚æœåªæ˜¯æš‚æ—¶ä¸ç”¨ï¼Œå¯ä»¥å…ˆæ³¨é‡Šæ‰ã€‚</p>
<p>ä½¿ç”¨ <code>-no_exported_symbols</code> é€‰é¡¹ã€‚é“¾æ¥å™¨ç”Ÿæˆçš„ LINKEDIT æ®µçš„ä¸€éƒ¨åˆ†æ˜¯ exports trieï¼Œè¿™æ˜¯ä¸€ä¸ªå‰ç¼€æ ‘ï¼Œå¯¹æ‰€æœ‰å¯¼å‡ºçš„ç¬¦å·åç§°ã€åœ°å€å’Œæ ‡å¿—è¿›è¡Œç¼–ç ã€‚åŠ¨æ€åº“ æ˜¯ä¼šå¯¼å‡ºç¬¦å·çš„ï¼Œä½†è¿è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶å…¶å®æ˜¯ä¸ç”¨è¿™äº›ç¬¦å·çš„ï¼Œå› æ­¤å¯ä»¥ç”¨ <code>-no_exported_symbols</code> é€‰é¡¹æ¥è·³è¿‡ LINKEDIT ä¸­ trie æ•°æ®ç»“æ„çš„åˆ›å»ºï¼Œè¿™æ ·é“¾æ¥èµ·æ¥å°±å¿«å¤šäº†ã€‚å¦‚æœç¨‹åºå¯¼å‡ºç¬¦å·æ˜¯ä¸€ç™¾ä¸‡ä¸ªï¼Œè¿™ä¸ªé€‰é¡¹å°±å¯ä»¥å‡å°‘ 2 åˆ° 3 ç§’çš„æ—¶é—´ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦åŠ è½½æ’ä»¶é“¾æ¥å›ä¸»ç¨‹åºå°±éœ€è¦æ‰€æœ‰çš„å¯¼å‡ºçš„ trie æ•°æ®ï¼Œæ— æ³•ç”¨è¿™ä¸ªé€‰é¡¹ã€‚</p>
<p>å¦å¤–ä¸€ä¸ªæ˜¯ <code>-no_deduplicate</code> é€‰é¡¹ã€‚å…ˆå‰ Apple ç»™é“¾æ¥å™¨åŠ äº†ä¸ª pass ç”¨æ¥åˆå¹¶å‡½æ•°çš„æŒ‡ä»¤ç›¸åŒï¼Œå‡½æ•°åä¸ç›¸åŒï¼Œè¿™ä¸ª pass ä¼šå¯¹æ¯ä¸ªå‡½æ•°çš„æŒ‡ä»¤è¿›è¡Œé€’å½’æ•£åˆ—ï¼Œç”¨è¿™ç§æ–¹å¼æ¥æ‰¾é‡å¤æŒ‡ä»¤ï¼Œè¿™æ ·åšæ¯”è¾ƒè´¹ CPUï¼Œç”±äºè°ƒè¯•æ—¶å…¶å®æ˜¯ä¸éœ€è¦å…³æ³¨åŒ…å¤§å°ï¼Œå› æ­¤å¯ä»¥åŠ ä¸Š <code>-no_deduplicate</code> é€‰é¡¹æ¥è·³è¿‡è¿™ä¸ª passã€‚</p>
<p>è¿™äº›é€‰é¡¹åœ¨ Xcode çš„ Other Linker Flags é‡Œè¿›è¡Œè®¾ç½®å³å¯ã€‚</p>
<p>åŠ¨æ€åº“ä¹Ÿå°±æ˜¯ dylibï¼Œå…¶å®ƒå¹³å°å°±æ˜¯ DSO æˆ– DLLã€‚ åŠ¨æ€é“¾æ¥å™¨ä¸æ˜¯å°†ä»£ç ä»åº“é‡Œè€ƒåˆ°ä¸»äºŒè¿›åˆ¶é‡Œï¼Œè€Œæ˜¯è®°å½•æŸç§æ‰¿è¯ºï¼Œè®°å½•ä»åŠ¨æ€åº“ä¸­ä½¿ç”¨ç¬¦å·åç§°ï¼Œè¿˜æœ‰åº“è·¯å¾„ã€‚è¿™æ ·åšå¥½å¤„å°±æ˜¯å¥½å¤ç”¨åŠ¨æ€åº“ï¼Œä¸ç”¨æ‹·è´å¤šä»½ã€‚è™šæ‹Ÿå†…å­˜çœ‹åˆ°å¤šè¿›ç¨‹ä½¿ç”¨ç›¸åŒåŠ¨æ€åº“ï¼Œå°±ä¼šé‡æ–°ç»™è¿™ä¸ªåŠ¨æ€åº“ç”¨ç›¸åŒçš„ç‰©ç†å†…å­˜é¡µã€‚</p>
<p>åŠ¨æ€åº“å¥½å¤„æ˜¯æ„å»ºå¿«äº†ï¼Œå¯åŠ¨åŠ è½½æ…¢äº†ï¼Œå¤šä¸ªåŠ¨æ€åº“ä¸å…‰è¦åŠ è½½ï¼Œè¿˜è¦åœ¨å¯åŠ¨æ—¶é“¾æ¥ã€‚ä¹Ÿå°±æ˜¯æŠŠé“¾æ¥æˆæœ¬ä»æœ¬åœ°æ„å»ºæ¢åˆ°äº†ç”¨æˆ·å¯åŠ¨æ—¶ã€‚åŠ¨æ€åº“è¿˜æœ‰ä¸ªç¼ºç‚¹æ˜¯åŸºäºåŠ¨æ€åº“çš„ç¨‹åºä¼šæœ‰æ›´å¤šçš„ dirty é¡µï¼Œå› ä¸ºé™æ€é“¾æ¥æ—¶ä¼šæŠŠå…¨å±€æ•°æ®æ”¾åˆ°ä¸»ç¨‹åºåŒä¸€ä¸ª DATA é¡µä¸­ï¼ŒåŠ¨æ€åº“çš„è¯ï¼Œæ¯ä¸ªéƒ½åœ¨è‡ªå·±çš„ DATA é¡µä¸­ã€‚</p>
<p>åŠ¨æ€åº“å·¥ä½œçš„åŸç†æ˜¯ï¼Œå¯æ‰§è¡Œçš„äºŒè¿›åˆ¶ä¼šæœ‰ä¸åŒæƒé™çš„æ®µï¼Œè‡³å°‘ä¼šæœ‰ TEXTã€DATA å’Œ LINKEDITã€‚åˆ†æ®µæ€»æ˜¯æ“ä½œç³»ç»Ÿé¡µå¤§å°çš„å€æ•°ã€‚TEXT æ®µæœ‰æ‰§è¡Œçš„æƒé™ï¼ŒCPU å¯ä»¥å°†é¡µä¸Šçš„å­—èŠ‚å½“åšæœºå™¨ä»£ç æŒ‡ä»¤ã€‚è¿è¡Œæ—¶ï¼Œdyld ä¼šæ ¹æ®æ¯ä¸ªæ®µæƒé™å°†å¯æ‰§è¡Œæ–‡ä»¶ mmap() åˆ°å†…å­˜ï¼Œè¿™äº›æ®µæ˜¯é¡µå¤§å°å’Œé¡µå¯¹é½çš„ï¼Œè™šæ‹Ÿå†…å­˜ç³»ç»Ÿå¯ä»¥ç›´æ¥å°†ç¨‹åºæˆ–åŠ¨æ€åº“æ–‡ä»¶è®¾ç½®ä¸º VM èŒƒå›´çš„å¤‡ä»½å­˜å‚¨ã€‚åœ¨è¿™äº›é¡µçš„å†…å­˜è®¿é—®å‰æ˜¯ä¸ä¼šè¢«åŠ è½½åˆ° RAM é‡Œï¼Œå°±ä¼šè§¦å‘ä¸€ä¸ªé¡µ faultï¼Œå¯¼è‡´ VM å»è¯»å–æ–‡ä»¶çš„å­èŒƒå›´ï¼Œå°†å†…å­˜å¡«å……åˆ°éœ€è¦ RAM é¡µä¸­ã€‚å…‰æ˜ å°„ä¸å¤Ÿï¼Œè¿˜è¦ç”¨æŸç§æ–¹å¼â€œwired upâ€æˆ–ç»‘åˆ°åŠ¨æ€åº“ä¸Šã€‚æ¯”å¦‚è¦è°ƒç”¨åŠ¨æ€åº“ä¸Šçš„æŸä¸ªå‡½æ•°ï¼Œä¼šè½¬æ¢æˆè°ƒç”¨ siteï¼Œè°ƒç”¨ site æˆä¸ºä¸€ä¸ªåœ¨ç›¸åŒ TEXT æ®µåˆæˆçš„ sub çš„è°ƒç”¨ï¼Œç›¸å¯¹åœ°å€åœ¨æ„å»ºæ—¶å°±çŸ¥é“äº†ï¼Œå°±æ„å‘³ç€å¯ä»¥æ­£ç¡®çš„å½¢æˆ BL æŒ‡ä»¤ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œstub ä» DATA åŠ è½½ä¸€ä¸ªæŒ‡é’ˆå¹¶è·³åˆ°å¯¹åº”çš„ä½ç½®ï¼Œä¸ç”¨åœ¨è¿è¡Œæ—¶ä¿®æ”¹ TEXT æ®µï¼Œdyld åªåœ¨è¿è¡Œæ—¶æ”¹ DATA æ®µã€‚dyld æ‰€è¿›è¡Œçš„ä¿®æ”¹å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨ DATA æ®µé‡Œè®¾ç½®äº†ä¸€ä¸ªæŒ‡é’ˆè€Œå·²ã€‚</p>
<p>å½“ dyld æˆ–åº”ç”¨ç¨‹åºçš„æŒ‡é’ˆæŒ‡å‘è‡ªå·±æ—¶è¦ rebaseï¼ŒASLR ä½¿ dyld ä»¥éšæœºåœ°å€åŠ è½½åŠ¨æ€åº“ï¼Œå†…éƒ¨æŒ‡é’ˆä¸èƒ½åœ¨æ„å»ºæ—¶è®¾ç½®ï¼Œdyld åœ¨å¯åŠ¨æ—¶ rebase è¿™äº›æŒ‡é’ˆï¼Œç£ç›˜ä¸Šï¼Œå¦‚æœåŠ¨æ€åº“åœ¨åœ°å€é›¶å‡ºè¢«åŠ è½½ï¼Œè¿™äº›æŒ‡é’ˆåŒ…å«å®ƒä»¬çš„ç›®æ ‡åœ°å€ã€‚LINKEDIT éœ€è¦è®°å½•çš„å°±æ˜¯æ¯ä¸ªé‡å®šä½çš„ä½ç½®ã€‚ç„¶åï¼Œdyld åªéœ€å°†åŠ¨æ€åº“çš„å®é™…åŠ è½½åœ°å€æ·»åŠ åˆ°æ¯ä¸ª rebase ä½ç½®ã€‚è¿˜æœ‰ç§ä¿®æ”¹æ–¹å¼æ˜¯ç»‘å®šï¼Œç»‘å®šå°±æ˜¯ç¬¦å·å¼•ç”¨ï¼Œç¬¦å·å­˜å‚¨åœ¨ LINKEDIT ä¸­ï¼Œdyld åœ¨åŠ¨æ€åº“çš„ exports tire ä¸­æ‰¾å®é™…åœ°å€ï¼Œç„¶å dyld å°†è¯¥å€¼å­˜å‚¨åœ¨ç»‘å®šæŒ‡å®šçš„ä½ç½®ã€‚</p>
<p>ä»Šå¹´ Apple å‘å¸ƒäº†ä¸€ä¸ªæ–°çš„ä¿®æ”¹æ–¹å¼ chained fixupsã€‚è¾ƒå‰é¢ä¸¤ç§çš„ä¼˜åŠ¿å°±æ˜¯å¯ä»¥ä½¿ LINKEDIT æ›´å°ã€‚æ–°æ ¼å¼åªå­˜å‚¨æ¯ä¸ª DATA é¡µä¸­ç¬¬ä¸€ä¸ª fixup ä½ç½®å’Œä¸€ä¸ªå¯¼å…¥çš„ç¬¦å·åˆ—è¡¨ã€‚å…¶å®ƒä¿¡æ¯ç¼–ç åˆ° DATA æ®µã€‚iOS 13.4 å°±å¼€å§‹æ”¯æŒäº†ã€‚</p>
<p>ä¸‹é¢å…ˆè¯´ä¸‹ dyld åŸç†ä»‹ç»ã€‚</p>
<p>dyld ä»ä¸»å¯æ‰§è¡Œæ–‡ä»¶å¼€å§‹ï¼Œè§£æ mach-o æ‰¾ä¾èµ–åŠ¨æ€åº“ï¼Œå¯¹åŠ¨æ€åº“è¿›è¡Œ mmap()ã€‚ç„¶åå¯¹æ¯ä¸ªåŠ¨æ€åº“è¿›è¡Œéå†å¹¶è§£æ mach-o ç»“æ„ï¼Œæ ¹æ®éœ€è¦åŠ è½½å…¶å®ƒåŠ¨æ€åº“ã€‚åŠ è½½å®Œæ¯•ï¼Œdyld ä¼šæŸ¥æ‰¾æ‰€æœ‰éœ€è¦ç»‘å®šç¬¦å·ï¼Œå¹¶åœ¨ä¿®æ”¹æ—¶ä½¿ç”¨è¿™äº›åœ°å€ã€‚æœ€åä¿®æ”¹å®Œï¼Œdyld è‡ªä¸‹è€Œä¸Šè¿è¡Œåˆå§‹åŒ–ç¨‹åºã€‚å…ˆå‰åšçš„ä¼˜åŒ–æ˜¯åªè¦ç¨‹åºå’ŒåŠ¨æ€åº“ï¼Œdyld å¾ˆå¤šæ­¥éª¤éƒ½å¯ä»¥åœ¨é¦–æ¬¡å¯åŠ¨æ—¶è¢«ç¼“å­˜ã€‚</p>
<p>ä»Šå¹´ Apple åšäº†æ›´å¤šçš„ä¼˜åŒ–ï¼Œè¿™ä¸ªä¼˜åŒ–å« page-in linkingï¼Œå°±æ˜¯ dyld åœ¨å¯åŠ¨æ—¶åšçš„ DATA é¡µé¢ä¿®æ”¹æ”¾åˆ° page-in æ—¶ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ‡’ä¿®æ”¹ã€‚ä»¥å‰ï¼Œåœ¨ mmap() åŒºåŸŸçš„æŸäº›é¡µé¢ä¸­ç¬¬ä¸€æ¬¡ä½¿ç”¨æŸäº›åœ°å€ä¼šè§¦å‘å†…æ ¸è¯»å…¥è¯¥é¡µé¢ã€‚ç°åœ¨å¦‚æœå®ƒæ˜¯ä¸€ä¸ªæ•°æ®é¡µï¼Œå†…æ ¸ä¼šåº”ç”¨æ”¹é¡µéœ€è¦çš„ä¿®æ”¹ã€‚è¿™ç§æœºåˆ¶å‡å°‘äº† dirty å†…å­˜å’Œå¯åŠ¨æ—¶é—´ã€‚æ„å‘³ç€ DATA_CONST ä¹Ÿæ˜¯å¹²å‡€çš„ï¼Œå¯ä»¥åƒ TEXT é¡µä¸€æ ·è¢« evicted å’Œé‡æ–°åˆ›å»ºï¼Œä»¥å‡å°‘å†…å­˜å‹åŠ›ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ page-in linking åªç”¨äºå¯åŠ¨ï¼Œdlopen() ä¸æ”¯æŒã€‚ä½ çœ‹ï¼ŒApple ä¼˜åŒ–å¯åŠ¨çš„æ€è·¯ä¹Ÿæ˜¯æŒ‰éœ€åŠ è½½ã€‚</p>
<p>Apple è¿˜æä¾›äº†è¿½è¸ª dyld è¿è¡Œæƒ…å†µçš„ dyld_usage å·¥å…·ã€‚æ£€æŸ¥ç£ç›˜å’Œ dyld ç¼“å­˜ä¸­çš„äºŒè¿›åˆ¶æ–‡ä»¶çš„ dyld_info å·¥å…·ã€‚</p>
<h4 id="2022å¹´-Apple-æ€§èƒ½æ›´æ–°"><a href="#2022å¹´-Apple-æ€§èƒ½æ›´æ–°" class="headerlink" title="2022å¹´ Apple æ€§èƒ½æ›´æ–°"></a>2022å¹´ Apple æ€§èƒ½æ›´æ–°</h4><p><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/110363">Improve app size and runtime performance</a></p>
<p>ä»Šå¹´è‹¹æœé€šè¿‡æ›´æœ‰æ•ˆçš„æ£€æŸ¥ Swift åè®®ï¼Œä½¿ OC æ¶ˆæ¯å‘é€è°ƒç”¨æ›´å°ï¼Œä½¿ autorelease elision æ›´å¿«æ›´å°è¿™å‡ ä¸ªä¸ªæ–¹é¢æ¥è®© App ä½“ç§¯æ›´å°ï¼Œæ€§èƒ½æ›´é«˜ã€‚</p>
<p>Swift åè®®æ£€æŸ¥ã€‚</p>
<p>ä¸€ä¸ªåè®®é€šè¿‡ as æ“ä½œç¬¦æ£€æŸ¥ä¼ é€’å€¼æ˜¯å¦ç¬¦åˆåè®®ï¼Œè¿™ç§æ£€æŸ¥ä¼šåœ¨ç¼–è¯‘å™¨çš„æ„å»ºæ—¶é—´è¢«ä¼˜åŒ–æ‰ï¼Œæ‰€ä»¥å¾€å¾€éœ€è¦åœ¨è¿è¡Œæ—¶å€ŸåŠ©ä¹‹å‰è®¡ç®—åè®®æ£€æŸ¥å…ƒæ•°æ®æ¥çœ‹å¯¹è±¡æ˜¯å¦çœŸçš„ç¬¦åˆäº†åè®®ã€‚ä¸€äº›å…ƒæ•°æ®æ˜¯åœ¨ç¼–è¯‘æ—¶å»ºçš„ï¼Œä½†è¿˜æœ‰å¾ˆå¤šå…ƒæ•°æ®åªèƒ½åœ¨å¯åŠ¨æ—¶å»ºç«‹ï¼Œç‰¹åˆ«æ˜¯ä½¿ç”¨æ³›å‹æ—¶ã€‚åè®®å¤šäº†ï¼Œä¼šå¢åŠ è€—æ—¶ï¼Œå·®ä¸å¤šä¼šå¤šä¸€åŠå¯åŠ¨æ—¶é—´ã€‚</p>
<p>ä»Šå¹´ Apple æ¨å‡ºæ–°çš„ Swift è¿è¡Œæ—¶ï¼Œå¯ä»¥æå‰è®¡ç®— Swift åè®®å…ƒæ•°æ®ï¼Œä½œä¸º App å¯æ‰§è¡Œæ–‡ä»¶å’Œå®ƒåœ¨å¯åŠ¨æ—¶ä½¿ç”¨çš„ä»»ä½•åŠ¨æ€åº“çš„ dyld é—­åŒ…çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ªæ˜¯åœ¨ç³»ç»Ÿä¸Šçš„ï¼Œå› æ­¤ï¼Œåªè¦æ˜¯ä½¿ç”¨äº†ä»Šå¹´æœ€æ–°ç³»ç»Ÿçš„ App éƒ½ä¼šäº«å—è¿™ä¸ªä¼˜åŒ–ï¼Œå¯ä»¥ç†è§£ä¸ºï¼Œæ–°ç³»ç»Ÿä¸Šå¯åŠ¨è€ App ä¹Ÿä¼šå¿«äº›ã€‚</p>
<p>æ¶ˆæ¯å‘é€ã€‚</p>
<p>Xcode 14 ä¸­æ–°çš„ç¼–è¯‘å™¨å’Œé“¾æ¥å™¨å·²ç»å°† ARM64 çš„æ¶ˆæ¯å‘é€è°ƒç”¨ä» 12 å­—èŠ‚å‡å°‘åˆ° 8 å­—èŠ‚ã€‚å› æ­¤å¦‚æœä½ çš„ App éƒ½æ˜¯ OC ä»£ç çš„è¯ï¼Œä½¿ç”¨ Xcode 14 ç¼–å‡ºæ¥çš„äºŒè¿›åˆ¶æ–‡ä»¶å¯ä»¥å°‘ 2%ã€‚è€ç³»ç»Ÿä¹Ÿæœ‰æ•ˆã€‚</p>
<p>ä½¿ç”¨ objc_stubs_small é€‰é¡¹å¯ä»¥åªä¼˜åŒ–å¤§å°ï¼Œè·å¾—æœ€å¤§çš„å¤§å°ä¼˜åŒ–ã€‚objc_msgSend è°ƒåŠ¨æœ‰ 8 ä¸ªå­—èŠ‚æŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯2ä¸ªæŒ‡ä»¤æ˜¯ä¸“é—¨ç”¨æ¥å‡†å¤‡ selector çš„ï¼Œå¯¹äºä»»ä½•ç‰¹å®šçš„ selectorï¼Œæ€»æ˜¯ç›¸åŒçš„ä»£ç ï¼Œç”±äºå§‹ç»ˆæ˜¯ç›¸åŒçš„ä»£ç ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯¹å…¶å…±äº«ï¼Œæ¯ä¸ª selector åª emit ä¸€æ¬¡ï¼Œè€Œä¸æ˜¯æ¯æ¬¡å‘é€æ¶ˆæ¯æ—¶éƒ½ emitã€‚å…±äº«è¿™æ®µä»£ç åœ°æ–¹æ˜¯ä¸€ä¸ªå« selector stub çš„å‡½æ•°ã€‚</p>
<p>ARC ä¼šåœ¨ç¼–è¯‘å™¨æ’å…¥å¤§é‡çš„ c çš„ retain&#x2F;release å‡½æ•°è°ƒç”¨ã€‚è¿™äº›è°ƒç”¨éµå®ˆå¹³å°åº”ç”¨äºŒè¿›åˆ¶æ¥å£ï¼ˆABIï¼‰æ‰€å®šä¹‰çš„ c è¯­è¨€ call conventionã€‚ä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬è¦æ›´å¤šä»£ç æ¥å®Œæˆè¿™äº›è°ƒç”¨ï¼Œç”¨æ¥ä¼ é€’æ­£ç¡®å¯„å­˜å™¨çš„æŒ‡é’ˆã€‚Apple ä»Šå¹´æ¨å‡ºäº†è‡ªå®šä¹‰çš„ call convention æ ¹æ®æŒ‡é’ˆä½ç½®ï¼Œé€‚æ—¶ä½¿ç”¨æ­£ç¡®å˜é‡è€Œä¸ç”¨ç§»åŠ¨å®ƒï¼Œä»è€Œæ‘†è„±äº†è°ƒç”¨é‡Œçš„å¤šä½™ä»£ç ã€‚Apple æœç„¶æ˜¯åšæŒç”¨æˆ·ä½“éªŒä¼˜å…ˆï¼Œä¸ºäº†æ›´å¥½ä½“éªŒä¸æƒœä¿®æ”¹ c çš„ ABIã€‚</p>
<p>autorelease elision ã€‚</p>
<p>App ä»Šå¹´å¯¹ objc è¿è¡Œæ—¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œä½¿ autorelease elision æ›´å°æ›´å¿«ã€‚deployment target ä¸º iOS 16 ä»Šå¹´æ–°ç³»ç»Ÿæ—¶æ‰å¯äº«ç”¨å“¦ã€‚</p>
<p>Apple æ€ä¹ˆåšçš„å‘¢ï¼Ÿ</p>
<p>ARC åœ¨è°ƒç”¨æ–¹æ’å…¥ä¸€ä¸ª retainï¼Œåœ¨è¢«è°ƒç”¨çš„å‡½æ•°ä¸­æ’å…¥ä¸€ä¸ª releaseã€‚å½“æˆ‘ä»¬è¿”å›æˆ‘ä»¬çš„ä¸´æ—¶å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‡½æ•°ä¸­å…ˆé‡Šæ”¾å®ƒï¼Œå› ä¸ºå®ƒè¦ç¦»å¼€ scopeã€‚åœ¨å®ƒè¿˜æ²¡æœ‰ä»»ä½•å…¶å®ƒå¼•ç”¨æ—¶è¿˜ä¸èƒ½è¿™ä¹ˆåšï¼Œä¸ç„¶è¿”å›å‰ä»–å°±ä¼šè¢«é”€æ¯ã€‚Apple ç°åœ¨ä½¿ç”¨ä¸€ä¸ªæ–°çš„ convention ï¼Œè®©å…¶å¯ä»¥è¿”å›ä¸´æ—¶å¯¹è±¡ã€‚åšæ³•æ˜¯å½“è¿”å›ä¸€ä¸ªè‡ªåŠ¨é‡Šæ”¾å€¼ï¼Œç¼–è¯‘å™¨ä¼šå‘å‡ºä¸€ä¸ªç‰¹æ®Šæ ‡è®°ï¼Œè¿™ä¸ªæ ‡è®°ä¼šå‘Šè¯‰è¿è¡Œæ—¶è¿™æ˜¯ç¬¦åˆè‡ªåŠ¨é‡Šæ”¾æ¡ä»¶çš„ã€‚å®ƒçš„åé¢æ˜¯ retainï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢æ‰§è¡Œã€‚è·å–è¿”å›åœ°å€ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå°†å®ƒå…ˆä¿å­˜èµ·æ¥ï¼Œç„¶åç¦»å¼€è¿è¡Œæ—¶çš„è‡ªåŠ¨é‡Šæ”¾è°ƒç”¨ã€‚åœ¨è¿è¡Œæ—¶ï¼Œå¯ä»¥å°†ä¿ç•™æ—¶å¾—åˆ°çš„æŒ‡æ­£å’Œå…ˆå‰åšè‡ªåŠ¨é‡Šæ”¾æ—¶ä¿å­˜çš„æŒ‡é’ˆè¿›è¡Œæ¯”è¾ƒï¼Œè¿™æ ·æ ‡è®°æŒ‡ä»¤ä¸å†æ˜¯æ•°æ®ä¹‹é—´çš„æ¯”è¾ƒï¼Œæ¯”è¾ƒæŒ‡é’ˆå†…å­˜è®¿é—®å°‘ã€‚æ¯”è¾ƒæˆåŠŸå°±å¯ä»¥çœå» autorelease&#x2F;retainã€‚</p>
<p>autorelease elision çš„ä¼˜åŒ–åŒæ ·ä¹Ÿå¯ä»¥å‡å°‘ 2% å¤§å°ã€‚æ„Ÿè°¢ Apple ä¸ºäº†ç”¨æˆ·å’Œå¼€å‘è€… OKR çš„ä»˜å‡ºã€‚</p>
<h2 id="Combine"><a href="#Combine" class="headerlink" title="Combine"></a>Combine</h2><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><h4 id="Combine-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Combine-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Combine æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Combine æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>WWDC 2019è‹¹æœæ¨å‡ºCombineï¼ŒCombineæ˜¯ä¸€ç§å“åº”å¼ç¼–ç¨‹èŒƒå¼ï¼Œé‡‡ç”¨å£°æ˜å¼çš„Swift APIã€‚</p>
<p>Combine å†™ä»£ç çš„æ€è·¯æ˜¯ä½ å†™ä»£ç ä¸åŒäºä»¥å¾€å‘½ä»¤å¼çš„æè¿°å¦‚ä½•å¤„ç†æ•°æ®ï¼ŒCombine æ˜¯è¦å»æè¿°å¥½æ•°æ®ä¼šç»è¿‡å“ªäº›é€»è¾‘è¿ç®—å¤„ç†ã€‚è¿™æ ·ä»£ç æ›´å¥½ç»´æŠ¤ï¼Œå¯ä»¥æœ‰æ•ˆçš„å‡å°‘åµŒå¥—é—­åŒ…ä»¥åŠåˆ†æ•£çš„å›è°ƒç­‰ä½¿å¾—ä»£ç ç»´æŠ¤éº»çƒ¦çš„è‹¦æ¼ã€‚</p>
<p>å£°æ˜å¼å’Œè¿‡ç¨‹æ—¶åŒºåˆ«å¯è§å¦‚ä¸‹ä»£ç ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// æ‰€æœ‰æ•°ç›¸åŠ </span>
<span class="token comment">// å‘½ä»¤å¼æ€ç»´</span>
<span class="token keyword">func</span> <span class="token function-definition function">sum1</span><span class="token punctuation">(</span>arr<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> sum<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">for</span> v <span class="token keyword">in</span> arr <span class="token punctuation">&#123;</span>
    sum <span class="token operator">+=</span> v
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> sum
<span class="token punctuation">&#125;</span>

<span class="token comment">// å£°æ˜å¼æ€ç»´</span>
<span class="token keyword">func</span> <span class="token function-definition function">sum2</span><span class="token punctuation">(</span>arr<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Int</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">+</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>Combine ä¸»è¦ç”¨æ¥å¤„ç†å¼‚æ­¥çš„äº‹ä»¶å’Œå€¼ã€‚è‹¹æœ UI æ¡†æ¶éƒ½æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸Šè¿›è¡Œ UI æ›´æ–°ï¼ŒCombine é€šè¿‡ Publisher çš„ receive è®¾ç½®å›ä¸»çº¿ç¨‹æ›´æ–°UIä¼šéå¸¸çš„ç®€å•ã€‚</p>
<p>å·²æœ‰çš„ RxSwift å’Œ ReactiveSwift æ¡†æ¶å’Œ Combine çš„æ€è·¯å’Œç”¨æ³•ç±»ä¼¼ã€‚</p>
<p>Combine çš„ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ</p>
<ul>
<li>å‘å¸ƒè€…</li>
<li>è®¢é˜…è€…</li>
<li>æ“ä½œç¬¦</li>
</ul>
<p>ç®€å•ä¸¾ä¸ªå‘å¸ƒæ•°æ®å’Œç±»å±æ€§ç»‘å®šçš„ä¾‹å­ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> pA <span class="token operator">=</span> <span class="token class-name">Just</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> <span class="token omit keyword">_</span> <span class="token operator">=</span> pA<span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> v <span class="token keyword">in</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"pA is: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">v</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> pB <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">.</span>publisher
<span class="token keyword">let</span> <span class="token omit keyword">_</span> <span class="token operator">=</span> pB
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> v <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"pB: </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">v</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">AClass</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">didSet</span> <span class="token punctuation">&#123;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"property update to </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">p</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token class-name">AClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> <span class="token omit keyword">_</span> <span class="token operator">=</span> pB<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>p<span class="token punctuation">,</span> on<span class="token punctuation">:</span> o<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Combine-èµ„æ–™"><a href="#Combine-èµ„æ–™" class="headerlink" title="Combine èµ„æ–™"></a>Combine èµ„æ–™</h4><p>å®˜æ–¹æ–‡æ¡£é“¾æ¥  <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/combine">Combine | Apple Developer Documentation</a> ã€‚è¿˜æœ‰  <a target="_blank" rel="noopener" href="https://heckj.github.io/swiftui-notes/">Using Combine</a>  è¿™é‡Œæœ‰å¤§é‡ä½¿ç”¨ç¤ºä¾‹ï¼Œå†…å®¹è¾ƒå…¨ã€‚å®˜æ–¹è®¨è®ºCombineçš„è®ºå›  <a target="_blank" rel="noopener" href="https://forums.swift.org/tag/combine">Topics tagged combine</a> ã€‚StackOverflowä¸Šç›¸å…³é—®é¢˜  <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/tagged/combine">Newest â€˜combineâ€™ Questions</a> ã€‚</p>
<p>WWDCä¸Šå…³äºCombineçš„Sessionå¦‚ä¸‹ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2019/722/">Introducing Combine</a> </li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2019/721/">Combine in Practice</a></li>
</ul>
<p>å’ŒCombineç›¸å…³çš„Sessionï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2019/415/">Modern Swift API Design</a> </li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2019/226">Data Flow Through SwiftUI</a> </li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2019/711">Introducing Combine and Advances in Foundation</a> </li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2019/712/">Advances in Networking, Part 1</a> </li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2019/610/">Building Collaborative AR Experiences</a> </li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2019/223/">Expanding the Sensory Experience with Core Haptics</a></li>
</ul>
<h3 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h3><h4 id="publisher"><a href="#publisher" class="headerlink" title="publisher"></a>publisher</h4><p>publisher æ˜¯å‘å¸ƒè€…ï¼Œsink æ˜¯è®¢é˜…è€…</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">let</span> p2<span class="token punctuation">:</span> <span class="token class-name">String</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">[</span><span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"2"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">.</span>publisher
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"array"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p> è¾“å‡º<br> <pre class="line-numbers language-none"><code class="language-none"> array: receive subscription: ([æˆ´é“­çš„å¼€å‘å°å†Œå­.AppDelegate.(unknown context at $10ac82d20).(unknown context at $10ac82da4).S(p1: &quot;1&quot;, p2: &quot;one&quot;), æˆ´é“­çš„å¼€å‘å°å†Œå­.AppDelegate.(unknown context at $10ac82d20).(unknown context at $10ac82da4).S(p1: &quot;2&quot;, p2: &quot;two&quot;)])
array: request unlimited
array: receive value: (S(p1: &quot;1&quot;, p2: &quot;one&quot;))
S(p1: &quot;1&quot;, p2: &quot;one&quot;)
array: receive value: (S(p1: &quot;2&quot;, p2: &quot;two&quot;))
S(p1: &quot;2&quot;, p2: &quot;two&quot;)
array: receive finished<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p>
<h4 id="Just"><a href="#Just" class="headerlink" title="Just"></a>Just</h4><p>Just æ˜¯å‘å¸ƒè€…ï¼Œå‘å¸ƒçš„æ•°æ®åœ¨åˆå§‹åŒ–æ—¶å®Œæˆ</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>
<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">let</span> p2<span class="token punctuation">:</span> <span class="token class-name">String</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> pb <span class="token operator">=</span> <span class="token class-name">Just</span><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
pb
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"pb"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">pb: receive subscription: (Just)
pb: request unlimited
pb: receive value: (S(p1: &quot;1&quot;, p2: &quot;one&quot;))
S(p1: &quot;1&quot;, p2: &quot;one&quot;)
pb: receive finished<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="PassthroughSubject"><a href="#PassthroughSubject" class="headerlink" title="PassthroughSubject"></a>PassthroughSubject</h4><p>PassthroughSubject å¯ä»¥ä¼ é€’å¤šå€¼ï¼Œè®¢é˜…è€…å¯ä»¥æ˜¯ä¸€ä¸ªä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªï¼Œsend æŒ‡æ˜ completion åï¼Œè®¢é˜…è€…å°±æ²¡æ³•æ¥æ”¶åˆ°æ–°å‘é€çš„å€¼äº†ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">let</span> p2<span class="token punctuation">:</span> <span class="token class-name">String</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">enum</span> <span class="token class-name">CError</span><span class="token punctuation">:</span> <span class="token class-name">Error</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> aE<span class="token punctuation">,</span> bE
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> ps1 <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">S</span><span class="token punctuation">,</span> <span class="token class-name">CError</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ps1
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ps1"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> c <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"completion:"</span></span><span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token comment">// send äº† .finished åä¼šæ‰§è¡Œ</span>
    <span class="token punctuation">&#125;</span> receiveValue<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"receive:"</span></span><span class="token punctuation">,</span> s<span class="token punctuation">)</span>
        
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span>

ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">failure</span><span class="token punctuation">(</span><span class="token class-name">CError</span><span class="token punctuation">.</span>aE<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// å’Œ .finished ä¸€æ ·åé¢å°±ä¸ä¼šå‘é€äº†</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"2"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> <span class="token punctuation">.</span>finished<span class="token punctuation">)</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"3"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// å¤šä¸ªè®¢é˜…è€…</span>
<span class="token keyword">let</span> ps2 <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span> <span class="token comment">// è®¢é˜…ä¹‹å‰ send çš„æ•°æ®æ²¡æœ‰è®¢é˜…è€…å¯ä»¥æ¥æ”¶</span>
ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span>

<span class="token keyword">let</span> sb1 <span class="token operator">=</span> ps2
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ps2 sb1"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
    <span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span> <span class="token comment">// è¿™ä¸ª send çš„å€¼ä¼šè¢« sb1</span>

<span class="token keyword">let</span> sb2 <span class="token operator">=</span> ps2
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ps2 sb2"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"four"</span></span><span class="token punctuation">)</span> <span class="token comment">// è¿™ä¸ª send çš„å€¼ä¼šè¢« sb1 å’Œ sb2 æ¥å—</span>

sb1<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span>
sb2<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span>
ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> <span class="token punctuation">.</span>finished<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">ps1: receive subscription: (PassthroughSubject)
ps1: request unlimited
ps1: receive value: (S(p1: &quot;1&quot;, p2: &quot;one&quot;))
receive: S(p1: &quot;1&quot;, p2: &quot;one&quot;)
ps1: receive error: (aE)
completion: failure(æˆ´é“­çš„å¼€å‘å°å†Œå­.AppDelegate.(unknown context at $10b15ce10).(unknown context at $10b15cf3c).CError.aE)
ps2 sb1: receive subscription: (PassthroughSubject)
ps2 sb1: request unlimited
ps2 sb1: receive value: (three)
three
ps2 sb2: receive subscription: (PassthroughSubject)
ps2 sb2: request unlimited
ps2 sb1: receive value: (four)
four
ps2 sb2: receive value: (four)
four
ps2 sb1: receive finished
ps2 sb2: receive finished<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Empty"><a href="#Empty" class="headerlink" title="Empty"></a>Empty</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> p1<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">let</span> p2<span class="token punctuation">:</span> <span class="token class-name">String</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> ept <span class="token operator">=</span> <span class="token class-name">Empty</span><span class="token operator">&lt;</span><span class="token class-name">S</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// åŠ ä¸Š completeImmediately: false åé¢å³ä½¿ç”¨ replaceEmpty ä¹Ÿä¸ä¼šæ¥å—å€¼</span>
ept
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ept"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> c <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"completion:"</span></span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> receiveValue<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"receive:"</span></span><span class="token punctuation">,</span> s<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span>

ept<span class="token punctuation">.</span><span class="token function">replaceEmpty</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p1<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> c <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"completion:"</span></span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> receiveValue<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"receive:"</span></span><span class="token punctuation">,</span> s<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">ept: receive subscription: (Empty)
ept: request unlimited
ept: receive finished
completion: finished
receive: S(p1: &quot;1&quot;, p2: &quot;one&quot;)
completion: finished<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="CurrentValueSubject"><a href="#CurrentValueSubject" class="headerlink" title="CurrentValueSubject"></a>CurrentValueSubject</h4><p>CurrentValueSubject çš„è®¢é˜…è€…å¯ä»¥æ”¶åˆ°è®¢é˜…æ—¶å·²å‘å‡ºçš„é‚£æ¡æ•°æ®</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> cs <span class="token operator">=</span> <span class="token class-name">CurrentValueSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
cs<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span>
cs<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span>
<span class="token keyword">let</span> sb1 <span class="token operator">=</span> cs
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"cs sb1"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
cs<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"four"</span></span><span class="token punctuation">)</span>
cs<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"five"</span></span><span class="token punctuation">)</span>

<span class="token keyword">let</span> sb2 <span class="token operator">=</span> cs
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"cs sb2"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

cs<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"six"</span></span><span class="token punctuation">)</span>

sb1<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span>
sb2<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">cs sb1: receive subscription: (CurrentValueSubject)
cs sb1: request unlimited
cs sb1: receive value: (three)
three
cs sb1: receive value: (four)
four
cs sb1: receive value: (five)
five
cs sb2: receive subscription: (CurrentValueSubject)
cs sb2: request unlimited
cs sb2: receive value: (five)
five
cs sb1: receive value: (six)
six
cs sb2: receive value: (six)
six
cs sb1: receive cancel
cs sb2: receive cancel<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="removeDuplicates"><a href="#removeDuplicates" class="headerlink" title="removeDuplicates"></a>removeDuplicates</h4><p>ä½¿ç”¨ removeDuplicatesï¼Œé‡å¤çš„å€¼å°±ä¸ä¼šå‘é€äº†ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> pb <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"four"</span></span><span class="token punctuation">]</span>
    <span class="token punctuation">.</span>publisher

<span class="token keyword">let</span> sb <span class="token operator">=</span> pb
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"sb"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">removeDuplicates</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
sb<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">sb: receive subscription: ([&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;three&quot;, &quot;four&quot;])
sb: request unlimited
sb: receive value: (one)
one
sb: receive value: (two)
two
sb: receive value: (three)
three
sb: receive value: (three)
sb: request max: (1) (synchronous)
sb: receive value: (four)
four
sb: receive finished<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="flatMap"><a href="#flatMap" class="headerlink" title="flatMap"></a>flatMap</h4><p>flatMap èƒ½å°†å¤šä¸ªå‘å¸ƒè€…çš„å€¼æ‰“å¹³å‘é€ç»™è®¢é˜…è€…</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">struct</span> <span class="token class-name">S</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> p<span class="token punctuation">:</span> <span class="token class-name">AnyPublisher</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">Just</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eraseToAnyPublisher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">Just</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eraseToAnyPublisher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s3 <span class="token operator">=</span> <span class="token class-name">S</span><span class="token punctuation">(</span>p<span class="token punctuation">:</span> <span class="token class-name">Just</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eraseToAnyPublisher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> pb <span class="token operator">=</span> <span class="token punctuation">[</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">,</span> s3<span class="token punctuation">]</span><span class="token punctuation">.</span>publisher
    
<span class="token keyword">let</span> sb <span class="token operator">=</span> pb
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"sb"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>flatMap <span class="token punctuation">&#123;</span>
        <span class="token short-argument">$0</span><span class="token punctuation">.</span>p
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

sb<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">sb: receive subscription: ([æˆ´é“­çš„å¼€å‘å°å†Œå­.AppDelegate.(unknown context at $101167070).(unknown context at $1011670f4).S(p: AnyPublisher), æˆ´é“­çš„å¼€å‘å°å†Œå­.AppDelegate.(unknown context at $101167070).(unknown context at $1011670f4).S(p: AnyPublisher), æˆ´é“­çš„å¼€å‘å°å†Œå­.AppDelegate.(unknown context at $101167070).(unknown context at $1011670f4).S(p: AnyPublisher)])
sb: request unlimited
sb: receive value: (S(p: AnyPublisher))
one
sb: receive value: (S(p: AnyPublisher))
two
sb: receive value: (S(p: AnyPublisher))
three
sb: receive finished<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="append"><a href="#append" class="headerlink" title="append"></a>append</h4><p>append ä¼šåœ¨å‘å¸ƒè€…å‘å¸ƒç»“æŸåè¿½åŠ å‘é€æ•°æ®ï¼Œå‘å¸ƒè€…ä¸ç»“æŸï¼Œappend çš„æ•°æ®ä¸ä¼šå‘é€ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> pb <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> sb <span class="token operator">=</span> pb
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"sb"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"five"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"six"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

sb<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span>

pb<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
pb<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span>
pb<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span>
pb<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>completion<span class="token punctuation">:</span> <span class="token punctuation">.</span>finished<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">sb: receive subscription: ([æˆ´é“­çš„å¼€å‘å°å†Œå­.AppDelegate.(unknown context at $101167070).(unknown context at $1011670f4).S(p: AnyPublisher), æˆ´é“­çš„å¼€å‘å°å†Œå­.AppDelegate.(unknown context at $101167070).(unknown context at $1011670f4).S(p: AnyPublisher), æˆ´é“­çš„å¼€å‘å°å†Œå­.AppDelegate.(unknown context at $101167070).(unknown context at $1011670f4).S(p: AnyPublisher)])
sb: request unlimited
sb: receive value: (S(p: AnyPublisher))
one
sb: receive value: (S(p: AnyPublisher))
two
sb: receive value: (S(p: AnyPublisher))
three
sb: receive finished<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="prepend"><a href="#prepend" class="headerlink" title="prepend"></a>prepend</h4><p>prepend ä¼šåœ¨å‘å¸ƒè€…å‘å¸ƒå‰å…ˆå‘é€æ•°æ®ï¼Œå‘å¸ƒè€…ä¸ç»“æŸä¹Ÿä¸ä¼šå—å½±å“ã€‚å‘å¸ƒè€…å’Œé›†åˆä¹Ÿå¯ä»¥è¢«æ‰“å¹³å‘å¸ƒã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> pb1 <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> pb2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"nine"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"ten"</span></span><span class="token punctuation">]</span><span class="token punctuation">.</span>publisher

<span class="token keyword">let</span> sb <span class="token operator">=</span> pb1
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"sb"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">prepend</span><span class="token punctuation">(</span>pb2<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">prepend</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"seven"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"eight"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">prepend</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"five"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"six"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

sb<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span>

pb1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
pb1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span>
pb1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">five
six
seven
eight
nine
ten
sb: receive subscription: (PassthroughSubject)
sb: request unlimited
sb: receive value: (one)
one
sb: receive value: (two)
two
sb: receive value: (three)
three
sb: receive cancel<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h4><p>è®¢é˜…è€…å¯ä»¥é€šè¿‡ merge åˆå¹¶å¤šä¸ªå‘å¸ƒè€…å‘å¸ƒçš„æ•°æ®</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> ps1 <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ps2 <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> sb1 <span class="token operator">=</span> ps1<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> ps2<span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span>
ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">)</span>
ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"2"</span></span><span class="token punctuation">)</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span>

sb1<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">sb1: receive subscription: (Merge)
sb1: request unlimited
sb1: receive value: (one)
one
sb1: receive value: (two)
two
sb1: receive value: (1)
1
sb1: receive value: (2)
2
sb1: receive value: (three)
three
sb1: receive cancel<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h4><p>zip ä¼šåˆå¹¶å¤šä¸ªå‘å¸ƒè€…å‘å¸ƒçš„æ•°æ®ï¼Œåªæœ‰å½“å¤šä¸ªå‘å¸ƒè€…éƒ½å‘å¸ƒäº†æ•°æ®åæ‰ä¼šç»„åˆæˆä¸€ä¸ªæ•°æ®ç»™è®¢é˜…è€…ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> ps1 <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ps2 <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ps3 <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> sb1 <span class="token operator">=</span> ps1<span class="token punctuation">.</span><span class="token function">zip</span><span class="token punctuation">(</span>ps2<span class="token punctuation">,</span> ps3<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"sb1"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span>
ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">)</span>
ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"2"</span></span><span class="token punctuation">)</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"four"</span></span><span class="token punctuation">)</span>
ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"3"</span></span><span class="token punctuation">)</span>
ps3<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸€"</span></span><span class="token punctuation">)</span>

sb1<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">sb1: receive subscription: (Zip)
sb1: request unlimited
sb1: receive value: ((&quot;one&quot;, &quot;1&quot;, &quot;ä¸€&quot;))
(&quot;one&quot;, &quot;1&quot;, &quot;ä¸€&quot;)
sb1: receive cancel<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="combineLatest"><a href="#combineLatest" class="headerlink" title="combineLatest"></a>combineLatest</h4><p>combineLatest ä¼šåˆå¹¶å¤šä¸ªå‘å¸ƒè€…å‘å¸ƒçš„æ•°æ®ï¼Œåªæœ‰å½“å¤šä¸ªå‘å¸ƒè€…éƒ½å‘å¸ƒäº†æ•°æ®åæ‰ä¼šè§¦å‘åˆå¹¶ï¼Œåˆå¹¶æ¯ä¸ªå‘å¸ƒè€…å‘å¸ƒçš„æœ€åä¸€ä¸ªæ•°æ®ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
<span class="token keyword">let</span> ps1 <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ps2 <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> ps3 <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> sb1 <span class="token operator">=</span> ps1<span class="token punctuation">.</span><span class="token function">combineLatest</span><span class="token punctuation">(</span>ps2<span class="token punctuation">,</span> ps3<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"sb1"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span>
ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">)</span>
ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"2"</span></span><span class="token punctuation">)</span>
ps1<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"four"</span></span><span class="token punctuation">)</span>
ps2<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"3"</span></span><span class="token punctuation">)</span>
ps3<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸€"</span></span><span class="token punctuation">)</span>
ps3<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"äºŒ"</span></span><span class="token punctuation">)</span>

sb1<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">sb1: receive subscription: (CombineLatest)
sb1: request unlimited
sb1: receive value: ((&quot;four&quot;, &quot;3&quot;, &quot;ä¸€&quot;))
(&quot;four&quot;, &quot;3&quot;, &quot;ä¸€&quot;)
sb1: receive value: ((&quot;four&quot;, &quot;3&quot;, &quot;äºŒ&quot;))
(&quot;four&quot;, &quot;3&quot;, &quot;äºŒ&quot;)
sb1: receive cancel<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Scheduler"><a href="#Scheduler" class="headerlink" title="Scheduler"></a>Scheduler</h4><p>Scheduler å¤„ç†é˜Ÿåˆ—ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">var</span> cc <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
<span class="token keyword">let</span> sb1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">]</span><span class="token punctuation">.</span>publisher
    <span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"sb1"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>on<span class="token punctuation">:</span> <span class="token class-name">DispatchQueue</span><span class="token punctuation">.</span><span class="token function">global</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">handleEvents</span><span class="token punctuation">(</span>receiveOutput<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"receiveOutput"</span></span><span class="token punctuation">,</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>on<span class="token punctuation">:</span> <span class="token class-name">DispatchQueue</span><span class="token punctuation">.</span>main<span class="token punctuation">)</span>
    <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
sb1<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cc<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¾“å‡º</p>
<pre class="line-numbers language-none"><code class="language-none">sb1: receive subscription: ([1, 2, 3])
sb1: request unlimited
sb1: receive value: (1)
receiveOutput 1
sb1: receive value: (2)
receiveOutput 2
sb1: receive value: (3)
receiveOutput 3
sb1: receive finished
1
2
3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><h4 id="ç½‘ç»œè¯·æ±‚"><a href="#ç½‘ç»œè¯·æ±‚" class="headerlink" title="ç½‘ç»œè¯·æ±‚"></a>ç½‘ç»œè¯·æ±‚</h4><p>ç½‘ç»œURLSession.dataTaskPublisherä½¿ç”¨ä¾‹å­å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> req <span class="token operator">=</span> <span class="token class-name">URLRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"http://www.starming.com"</span></span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> dpPublisher <span class="token operator">=</span> <span class="token class-name">URLSession</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token function">dataTaskPublisher</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> req<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>ä¸€ä¸ªè¯·æ±‚Githubæ¥å£å¹¶å±•ç¤ºç»“æœçš„ä¾‹å­</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">//</span>
<span class="token comment">// CombineSearchAPI.swift</span>
<span class="token comment">// SwiftOnly (iOS)</span>
<span class="token comment">//</span>
<span class="token comment">// Created by Ming Dai on 2021/11/4.</span>
<span class="token comment">//</span>

<span class="token keyword">import</span> <span class="token class-name">SwiftUI</span>
<span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">struct</span> <span class="token class-name">CombineSearchAPI</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">GithubSearchView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: Github View</span>
<span class="token keyword">struct</span> <span class="token class-name">GithubSearchView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
  <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> str<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Swift"</span></span>
  <span class="token attribute atrule">@StateObject</span> <span class="token keyword">var</span> ss<span class="token punctuation">:</span> <span class="token class-name">SearchStore</span> <span class="token operator">=</span> <span class="token class-name">SearchStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> repos<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">GithubRepo</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">NavigationView</span> <span class="token punctuation">&#123;</span>
      <span class="token class-name">List</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">TextField</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¾“å…¥ï¼š"</span></span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $str<span class="token punctuation">,</span> onCommit<span class="token punctuation">:</span> fetch<span class="token punctuation">)</span>
        <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>ss<span class="token punctuation">.</span>repos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> repo <span class="token operator">-></span> <span class="token class-name">GithubRepoCell</span> <span class="token keyword">in</span>
          <span class="token class-name">GithubRepoCell</span><span class="token punctuation">(</span>repo<span class="token punctuation">:</span> repo<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æœç´¢"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span><span class="token function">onAppear</span><span class="token punctuation">(</span>perform<span class="token punctuation">:</span> fetch<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
   
  <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function-definition function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>ss<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>str<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">.</span>str<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">GithubRepoCell</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> repo<span class="token punctuation">:</span> <span class="token class-name">GithubRepo</span>
  <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">VStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>leading<span class="token punctuation">,</span> spacing<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>repo<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
      <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>repo<span class="token punctuation">.</span>description<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: Github Service</span>
<span class="token keyword">struct</span> <span class="token class-name">GithubRepo</span><span class="token punctuation">:</span> <span class="token class-name">Decodable</span><span class="token punctuation">,</span> <span class="token class-name">Identifiable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> id<span class="token punctuation">:</span> <span class="token class-name">Int</span>
  <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span>
  <span class="token keyword">let</span> description<span class="token punctuation">:</span> <span class="token class-name">String</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">GithubResp</span><span class="token punctuation">:</span> <span class="token class-name">Decodable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> items<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">GithubRepo</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">GithubSearchManager</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">func</span> <span class="token function-definition function">search</span><span class="token punctuation">(</span>str<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">AnyPublisher</span><span class="token operator">&lt;</span><span class="token class-name">GithubResp</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">guard</span> <span class="token keyword">var</span> urlComponents <span class="token operator">=</span> <span class="token class-name">URLComponents</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://api.github.com/search/repositories"</span></span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token function">preconditionFailure</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é“¾æ¥æ— æ•ˆ"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    urlComponents<span class="token punctuation">.</span>queryItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">URLQueryItem</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"q"</span></span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> str<span class="token punctuation">)</span><span class="token punctuation">]</span>
     
    <span class="token keyword">guard</span> <span class="token keyword">let</span> url <span class="token operator">=</span> urlComponents<span class="token punctuation">.</span>url <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token function">preconditionFailure</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é“¾æ¥æ— æ•ˆ"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">let</span> sch <span class="token operator">=</span> <span class="token class-name">DispatchQueue</span><span class="token punctuation">(</span>label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"API"</span></span><span class="token punctuation">,</span> qos<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">,</span> attributes<span class="token punctuation">:</span> <span class="token punctuation">.</span>concurrent<span class="token punctuation">)</span>
     
    <span class="token keyword">return</span> <span class="token class-name">URLSession</span><span class="token punctuation">.</span>shared
      <span class="token punctuation">.</span><span class="token function">dataTaskPublisher</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> url<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>on<span class="token punctuation">:</span> sch<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">tryMap</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> element <span class="token operator">-></span> <span class="token class-name">Data</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">(</span>decoding<span class="token punctuation">:</span> element<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token keyword">as</span><span class="token punctuation">:</span> UTF8<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> element<span class="token punctuation">.</span>data
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token class-name">GithubResp</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> decoder<span class="token punctuation">:</span> <span class="token class-name">JSONDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token keyword">catch</span> <span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
        <span class="token class-name">Empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eraseToAnyPublisher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span><span class="token function">eraseToAnyPublisher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">SearchStore</span><span class="token punctuation">:</span> <span class="token class-name">ObservableObject</span> <span class="token punctuation">&#123;</span>
  <span class="token attribute atrule">@Published</span> <span class="token keyword">var</span> query<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
  <span class="token attribute atrule">@Published</span> <span class="token keyword">var</span> repos<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">GithubRepo</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">private</span> <span class="token keyword">let</span> searchManager<span class="token punctuation">:</span> <span class="token class-name">GithubSearchManager</span>
  <span class="token keyword">private</span> <span class="token keyword">var</span> cancellable <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   
  <span class="token keyword">init</span><span class="token punctuation">(</span>searchManager<span class="token punctuation">:</span> <span class="token class-name">GithubSearchManager</span> <span class="token operator">=</span> <span class="token class-name">GithubSearchManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>searchManager <span class="token operator">=</span> searchManager
    $query
      <span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">milliseconds</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span> scheduler<span class="token punctuation">:</span> <span class="token class-name">RunLoop</span><span class="token punctuation">.</span>main<span class="token punctuation">)</span>
      <span class="token punctuation">.</span>flatMap <span class="token punctuation">&#123;</span> query <span class="token operator">-></span> <span class="token class-name">AnyPublisher</span><span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token class-name">GithubRepo</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span> <span class="token keyword">in</span>
        <span class="token keyword">return</span> searchManager<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>str<span class="token punctuation">:</span> query<span class="token punctuation">)</span>
          <span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span>
            <span class="token short-argument">$0</span><span class="token punctuation">.</span>items
          <span class="token punctuation">&#125;</span>
          <span class="token punctuation">.</span><span class="token function">eraseToAnyPublisher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>on<span class="token punctuation">:</span> <span class="token class-name">DispatchQueue</span><span class="token punctuation">.</span>main<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>repos<span class="token punctuation">,</span> on<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>cancellable<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">func</span> <span class="token function-definition function">search</span><span class="token punctuation">(</span>str<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>query <span class="token operator">=</span> str
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>æŠ½è±¡åŸºç¡€ç½‘ç»œèƒ½åŠ›ï¼Œæ–¹ä¾¿æ‰©å±•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">//</span>
<span class="token comment">// CombineAPI.swift</span>
<span class="token comment">// SwiftOnly (iOS)</span>
<span class="token comment">//</span>
<span class="token comment">// Created by Ming Dai on 2021/11/4.</span>
<span class="token comment">//</span>

<span class="token keyword">import</span> <span class="token class-name">SwiftUI</span>
<span class="token keyword">import</span> <span class="token class-name">Combine</span>

<span class="token keyword">struct</span> <span class="token class-name">CombineAPI</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">RepListView</span><span class="token punctuation">(</span>vm<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">RepListView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
  <span class="token attribute atrule">@ObservedObject</span> <span class="token keyword">var</span> vm<span class="token punctuation">:</span> <span class="token class-name">RepListVM</span>
   
  <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">NavigationView</span> <span class="token punctuation">&#123;</span>
      <span class="token class-name">List</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>repos<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> rep <span class="token keyword">in</span>
        <span class="token class-name">RepListCell</span><span class="token punctuation">(</span>rep<span class="token punctuation">:</span> rep<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span>isPresented<span class="token punctuation">:</span> $vm<span class="token punctuation">.</span>isErrorShow<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Alert</span> <span class="token keyword">in</span>
        <span class="token class-name">Alert</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å‡ºé”™äº†"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>errorMessage<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span><span class="token function">navigationBarTitle</span><span class="token punctuation">(</span><span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä»“åº“"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span>onAppear <span class="token punctuation">&#123;</span>
      vm<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">.</span>onAppear<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">RepListCell</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
  <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> rep<span class="token punctuation">:</span> <span class="token class-name">RepoModel</span>
  <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">HStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token class-name">VStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">AsyncImage</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> rep<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>avatarUrl <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> content<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> image <span class="token keyword">in</span>
          image
            <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">aspectRatio</span><span class="token punctuation">(</span>contentMode<span class="token punctuation">:</span> <span class="token punctuation">.</span>fit<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        placeholder<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
          <span class="token class-name">ProgressView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">rep<span class="token punctuation">.</span>owner<span class="token punctuation">.</span>login</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
      <span class="token class-name">VStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>leading<span class="token punctuation">,</span> spacing<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">rep<span class="token punctuation">.</span>name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">rep<span class="token punctuation">.</span>stargazersCount</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title3<span class="token punctuation">)</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">String</span><span class="token punctuation">(</span>describing<span class="token punctuation">:</span> rep<span class="token punctuation">.</span>description <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">String</span><span class="token punctuation">(</span>describing<span class="token punctuation">:</span> rep<span class="token punctuation">.</span>language <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title3<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
     
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>


<span class="token comment">// MARK: Repo View Model</span>
<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">RepListVM</span><span class="token punctuation">:</span> <span class="token class-name">ObservableObject</span><span class="token punctuation">,</span> <span class="token class-name">UnidirectionalDataFlowType</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">typealias</span> <span class="token class-name">InputType</span> <span class="token operator">=</span> <span class="token class-name">Input</span>
  <span class="token keyword">private</span> <span class="token keyword">var</span> cancellables<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">AnyCancellable</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
   
  <span class="token comment">// Input</span>
  <span class="token keyword">enum</span> <span class="token class-name">Input</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> onAppear
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">func</span> <span class="token function-definition function">apply</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> input<span class="token punctuation">:</span> <span class="token class-name">Input</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">switch</span> input <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token punctuation">.</span>onAppear<span class="token punctuation">:</span>
      onAppearSubject<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">private</span> <span class="token keyword">let</span> onAppearSubject <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   
  <span class="token comment">// Output</span>
  <span class="token attribute atrule">@Published</span> <span class="token keyword">private</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token keyword">var</span> repos<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">RepoModel</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token attribute atrule">@Published</span> <span class="token keyword">var</span> isErrorShow <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token attribute atrule">@Published</span> <span class="token keyword">var</span> errorMessage <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
  <span class="token attribute atrule">@Published</span> <span class="token keyword">private</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span> <span class="token keyword">var</span> shouldShowIcon <span class="token operator">=</span> <span class="token boolean">false</span>
   
  <span class="token keyword">private</span> <span class="token keyword">let</span> resSubject <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">SearchRepoModel</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">private</span> <span class="token keyword">let</span> errSubject <span class="token operator">=</span> <span class="token class-name">PassthroughSubject</span><span class="token operator">&lt;</span><span class="token class-name">APISevError</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   
  <span class="token keyword">private</span> <span class="token keyword">let</span> apiSev<span class="token punctuation">:</span> <span class="token class-name">APISev</span>
   
  <span class="token keyword">init</span><span class="token punctuation">(</span>apiSev<span class="token punctuation">:</span> <span class="token class-name">APISev</span> <span class="token operator">=</span> <span class="token class-name">APISev</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>apiSev <span class="token operator">=</span> apiSev
    <span class="token function">bindInputs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">bindOutputs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
   
  <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function-definition function">bindInputs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> req <span class="token operator">=</span> <span class="token class-name">SearchRepoRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> resPublisher <span class="token operator">=</span> onAppearSubject
      <span class="token punctuation">.</span>flatMap <span class="token punctuation">&#123;</span> <span class="token punctuation">[</span>apiSev<span class="token punctuation">]</span> <span class="token keyword">in</span>
        apiSev<span class="token punctuation">.</span><span class="token function">response</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> req<span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token keyword">catch</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">[</span><span class="token keyword">weak</span> <span class="token keyword">self</span><span class="token punctuation">]</span> error <span class="token operator">-></span> <span class="token class-name">Empty</span><span class="token operator">&lt;</span><span class="token class-name">SearchRepoModel</span><span class="token punctuation">,</span> <span class="token class-name">Never</span><span class="token operator">></span> <span class="token keyword">in</span>
            <span class="token keyword">self</span><span class="token operator">?</span><span class="token punctuation">.</span>errSubject<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token keyword">let</span> resStream <span class="token operator">=</span> resPublisher
      <span class="token punctuation">.</span><span class="token function">share</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>resSubject<span class="token punctuation">)</span>
     
    <span class="token comment">// å…¶å®ƒå¼‚æ­¥äº‹ä»¶ï¼Œæ¯”å¦‚æ—¥å¿—ç­‰æ“ä½œéƒ½å¯ä»¥åšæˆStreamåŠ åˆ°ä¸‹é¢æ•°ç»„å†…ã€‚</span>
    cancellables <span class="token operator">+=</span> <span class="token punctuation">[</span>resStream<span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span>
   
  <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function-definition function">bindOutputs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> repStream <span class="token operator">=</span> resSubject
      <span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span>
        <span class="token short-argument">$0</span><span class="token punctuation">.</span>items
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>repos<span class="token punctuation">,</span> on<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> errMsgStream <span class="token operator">=</span> errSubject
      <span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> error <span class="token operator">-></span> <span class="token class-name">String</span> <span class="token keyword">in</span>
        <span class="token keyword">switch</span> error <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>resError<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"network error"</span></span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>parseError<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"parse error"</span></span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>errorMessage<span class="token punctuation">,</span> on<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> errStream <span class="token operator">=</span> errSubject
      <span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
        <span class="token boolean">true</span>
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>isErrorShow<span class="token punctuation">,</span> on<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span>
    cancellables <span class="token operator">+=</span> <span class="token punctuation">[</span>repStream<span class="token punctuation">,</span>errStream<span class="token punctuation">,</span>errMsgStream<span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span>
   
<span class="token punctuation">&#125;</span>


<span class="token keyword">protocol</span> <span class="token class-name">UnidirectionalDataFlowType</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">associatedtype</span> <span class="token class-name">InputType</span>
  <span class="token keyword">func</span> <span class="token function-definition function">apply</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> input<span class="token punctuation">:</span> <span class="token class-name">InputType</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: Repo Request and Models</span>

<span class="token keyword">struct</span> <span class="token class-name">SearchRepoRequest</span><span class="token punctuation">:</span> <span class="token class-name">APIReqType</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">typealias</span> <span class="token class-name">Res</span> <span class="token operator">=</span> <span class="token class-name">SearchRepoModel</span>
   
  <span class="token keyword">var</span> path<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"/search/repositories"</span></span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">var</span> qItems<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">URLQueryItem</span><span class="token punctuation">]</span><span class="token operator">?</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
      <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"q"</span></span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Combine"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"order"</span></span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"desc"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">SearchRepoModel</span><span class="token punctuation">:</span> <span class="token class-name">Decodable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> items<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">RepoModel</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">RepoModel</span><span class="token punctuation">:</span> <span class="token class-name">Decodable</span><span class="token punctuation">,</span> <span class="token class-name">Hashable</span><span class="token punctuation">,</span> <span class="token class-name">Identifiable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token class-name">Int64</span>
  <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span>
  <span class="token keyword">var</span> fullName<span class="token punctuation">:</span> <span class="token class-name">String</span>
  <span class="token keyword">var</span> description<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span>
  <span class="token keyword">var</span> stargazersCount<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">var</span> language<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span>
  <span class="token keyword">var</span> owner<span class="token punctuation">:</span> <span class="token class-name">OwnerModel</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">OwnerModel</span><span class="token punctuation">:</span> <span class="token class-name">Decodable</span><span class="token punctuation">,</span> <span class="token class-name">Hashable</span><span class="token punctuation">,</span> <span class="token class-name">Identifiable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token class-name">Int64</span>
  <span class="token keyword">var</span> login<span class="token punctuation">:</span> <span class="token class-name">String</span>
  <span class="token keyword">var</span> avatarUrl<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span>
<span class="token punctuation">&#125;</span>


<span class="token comment">// MARK: API Request Fundation</span>

<span class="token keyword">protocol</span> <span class="token class-name">APIReqType</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">associatedtype</span> <span class="token class-name">Res</span><span class="token punctuation">:</span> <span class="token class-name">Decodable</span>
  <span class="token keyword">var</span> path<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span> <span class="token keyword">get</span> <span class="token punctuation">&#125;</span>
  <span class="token keyword">var</span> qItems<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">URLQueryItem</span><span class="token punctuation">]</span><span class="token operator">?</span> <span class="token punctuation">&#123;</span> <span class="token keyword">get</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">protocol</span> <span class="token class-name">APISevType</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">func</span> <span class="token function-definition function">response</span><span class="token operator">&lt;</span><span class="token class-name">Request</span><span class="token operator">></span><span class="token punctuation">(</span>from req<span class="token punctuation">:</span> <span class="token class-name">Request</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">AnyPublisher</span><span class="token operator">&lt;</span><span class="token class-name">Request</span><span class="token punctuation">.</span><span class="token class-name">Res</span><span class="token punctuation">,</span> <span class="token class-name">APISevError</span><span class="token operator">></span> <span class="token keyword">where</span> <span class="token class-name">Request</span><span class="token punctuation">:</span> <span class="token class-name">APIReqType</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">APISev</span><span class="token punctuation">:</span> <span class="token class-name">APISevType</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">private</span> <span class="token keyword">let</span> rootUrl<span class="token punctuation">:</span> <span class="token constant">URL</span>
  <span class="token keyword">init</span><span class="token punctuation">(</span>rootUrl<span class="token punctuation">:</span> <span class="token constant">URL</span> <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://api.github.com"</span></span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>rootUrl <span class="token operator">=</span> rootUrl
  <span class="token punctuation">&#125;</span>
   
  <span class="token keyword">func</span> <span class="token function-definition function">response</span><span class="token operator">&lt;</span><span class="token class-name">Request</span><span class="token operator">></span><span class="token punctuation">(</span>from req<span class="token punctuation">:</span> <span class="token class-name">Request</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">AnyPublisher</span><span class="token operator">&lt;</span><span class="token class-name">Request</span><span class="token punctuation">.</span><span class="token class-name">Res</span><span class="token punctuation">,</span> <span class="token class-name">APISevError</span><span class="token operator">></span> <span class="token keyword">where</span> <span class="token class-name">Request</span> <span class="token punctuation">:</span> <span class="token class-name">APIReqType</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> req<span class="token punctuation">.</span>path<span class="token punctuation">,</span> relativeTo<span class="token punctuation">:</span> rootUrl<span class="token punctuation">)</span><span class="token operator">!</span>
    <span class="token keyword">var</span> comp <span class="token operator">=</span> <span class="token class-name">URLComponents</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> path<span class="token punctuation">,</span> resolvingAgainstBaseURL<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token operator">!</span>
    comp<span class="token punctuation">.</span>queryItems <span class="token operator">=</span> req<span class="token punctuation">.</span>qItems
    <span class="token function">print</span><span class="token punctuation">(</span>comp<span class="token punctuation">.</span>url<span class="token operator">?</span><span class="token punctuation">.</span>description <span class="token operator">??</span> <span class="token string-literal"><span class="token string">"url wrong"</span></span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> req <span class="token operator">=</span> <span class="token class-name">URLRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> comp<span class="token punctuation">.</span>url<span class="token operator">!</span><span class="token punctuation">)</span>
    req<span class="token punctuation">.</span><span class="token function">addValue</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"application/json"</span></span><span class="token punctuation">,</span> forHTTPHeaderField<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Content-Type"</span></span><span class="token punctuation">)</span>
     
    <span class="token keyword">let</span> de <span class="token operator">=</span> <span class="token class-name">JSONDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    de<span class="token punctuation">.</span>keyDecodingStrategy <span class="token operator">=</span> <span class="token punctuation">.</span>convertFromSnakeCase
    <span class="token keyword">return</span> <span class="token class-name">URLSession</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token function">dataTaskPublisher</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> req<span class="token punctuation">)</span>
      <span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> data<span class="token punctuation">,</span> res <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">(</span>decoding<span class="token punctuation">:</span> data<span class="token punctuation">,</span> <span class="token keyword">as</span><span class="token punctuation">:</span> UTF8<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> data
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span>mapError <span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
        <span class="token class-name">APISevError</span><span class="token punctuation">.</span>resError
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> <span class="token class-name">Request</span><span class="token punctuation">.</span><span class="token class-name">Res</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> decoder<span class="token punctuation">:</span> de<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">mapError</span><span class="token punctuation">(</span><span class="token class-name">APISevError</span><span class="token punctuation">.</span>parseError<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>on<span class="token punctuation">:</span> <span class="token class-name">RunLoop</span><span class="token punctuation">.</span>main<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">eraseToAnyPublisher</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">enum</span> <span class="token class-name">APISevError</span><span class="token punctuation">:</span> <span class="token class-name">Error</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">case</span> resError
  <span class="token keyword">case</span> <span class="token function">parseError</span><span class="token punctuation">(</span><span class="token class-name">Error</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="KVO"><a href="#KVO" class="headerlink" title="KVO"></a>KVO</h4><p>ä¾‹å­å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">KVOObject</span><span class="token punctuation">:</span> <span class="token class-name">NSObject</span> <span class="token punctuation">&#123;</span>
  <span class="token attribute atrule">@objc</span> <span class="token keyword">dynamic</span> <span class="token keyword">var</span> intV<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token attribute atrule">@objc</span> <span class="token keyword">dynamic</span> <span class="token keyword">var</span> boolV<span class="token punctuation">:</span> <span class="token class-name">Bool</span> <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token class-name">KVOObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> <span class="token omit keyword">_</span> <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">publisher</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>intV<span class="token punctuation">)</span>
  <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> v <span class="token keyword">in</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"value : </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">v</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="é€šçŸ¥"><a href="#é€šçŸ¥" class="headerlink" title="é€šçŸ¥"></a>é€šçŸ¥</h4><p>ä½¿ç”¨ä¾‹å­å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">extension</span> <span class="token class-name">Notification</span><span class="token punctuation">.</span><span class="token class-name">Name</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> noti <span class="token operator">=</span> <span class="token class-name">Notification</span><span class="token punctuation">.</span><span class="token class-name">Name</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"nameofnoti"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">let</span> notiPb <span class="token operator">=</span> <span class="token class-name">NotificationCenter</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span><span class="token function">publisher</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>noti<span class="token punctuation">,</span> object<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token short-argument">$0</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é€€åˆ°åå°æ¥å—é€šçŸ¥çš„ä¾‹å­å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> storage <span class="token operator">=</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">AnyCancellable</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   
  <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">NotificationCenter</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span><span class="token function">publisher</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token class-name">UIWindowScene</span><span class="token punctuation">.</span>didEnterBackgroundNotification<span class="token punctuation">)</span>
      <span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"enter background"</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
      <span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span>storage<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Timer"><a href="#Timer" class="headerlink" title="Timer"></a>Timer</h4><p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">let</span> timePb <span class="token operator">=</span> <span class="token class-name">Timer</span><span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span>every<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span> on<span class="token punctuation">:</span> <span class="token class-name">RunLoop</span><span class="token punctuation">.</span>main<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> timeSk <span class="token operator">=</span> timePb<span class="token punctuation">.</span>sink <span class="token punctuation">&#123;</span> r <span class="token keyword">in</span>
    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"r is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">r</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> cPb <span class="token operator">=</span> timePb<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h2 id="Concurrency"><a href="#Concurrency" class="headerlink" title="Concurrency"></a>Concurrency</h2><h3 id="ä»‹ç»-1"><a href="#ä»‹ç»-1" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><h4 id="Swift-Concurrency-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Swift-Concurrency-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Swift Concurrency æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Swift Concurrency æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>ABI ç¨³å®šåï¼ŒSwift çš„æ ¸å¿ƒå›¢é˜Ÿå¯ä»¥å¼€å§‹å…³æ³¨ Swift è¯­è¨€ä¸€ç›´ç¼ºå¤±çš„åŸç”Ÿå¹¶å‘èƒ½åŠ›äº†ã€‚æœ€åˆæ˜¯ç”± <a target="_blank" rel="noopener" href="https://twitter.com/clattner_llvm">Chris Lattner</a> åœ¨17å¹´å‘çš„ <a target="_blank" rel="noopener" href="https://gist.github.com/lattner/31ed37682ef1576b16bca1432ea9f782">Swiftå¹¶å‘å®£è¨€</a> ï¼Œä»æ­¤å¼€é˜”äº†å¤§å®¶çš„çœ¼ç•Œã€‚åæ¥ Swift Evolution ç¤¾åŒºè®¨è®ºäº†åå‡ ä¸ªææ¡ˆï¼Œå‡ åä¸ªæ–¹æ¡ˆï¼Œä»¥åŠå‡ ç™¾é¡µçš„è®¾è®¡æ–‡ä»¶ï¼Œåšäº†å¤§é‡çš„æ”¹è¿›ï¼Œç¤¾åŒºä¸­ç”¨æˆ·ç§¯æçš„å‚ä¸åé¦ˆï¼ŒChris ä¹Ÿä¸€ç›´åœ¨ Evolution ä¸­ç§¯æçš„å‚ä¸è®¾è®¡ã€‚</p>
<p>Swift Concurrency çš„å®ç°ç”¨äº† <a target="_blank" rel="noopener" href="https://llvm.org/docs/Coroutines.html">LLVMçš„åç¨‹</a> æŠŠ async&#x2F;await å‡½æ•°è½¬æ¢ä¸ºåŸºäºå›è°ƒçš„ä»£ç ï¼Œè¿™ä¸ªè¿‡ç¨‹å‘ç”Ÿåœ¨ç¼–è¯‘åæœŸï¼Œè¿™ä¸ªé˜¶æ®µä½ çš„ä»£ç éƒ½æ²¡æ³•è¾¨è¯†äº†ã€‚å¼‚æ­¥çš„å‡½æ•°è¢«å®ç°ä¸º coroutinesï¼Œåœ¨æ¯æ¬¡å¼‚æ­¥è°ƒç”¨æ—¶ï¼Œå‡½æ•°è¢«åˆ†å‰²æˆå¯è°ƒç”¨çš„å‡½æ•°éƒ¨åˆ†å’Œåé¢æ¢å¤çš„éƒ¨åˆ†ã€‚coroutine æ‹†åˆ†çš„è¿‡ç¨‹å‘ç”Ÿåœ¨ç”ŸæˆLLVM IRé˜¶æ®µã€‚Swiftä½¿ç”¨äº†å“ªäº›å¸¦æœ‰è‡ªå®šä¹‰è°ƒç”¨çº¦å®šçš„å‡½æ•°ä¿è¯å°¾éƒ¨è°ƒç”¨ï¼Œå¹¶ä¸“é—¨ä¸ºSwiftè¿›è¡Œäº†è°ƒæ•´ã€‚</p>
<p>Swift Concurrency ä¸æ˜¯å»ºç«‹åœ¨ GCD ä¸Šï¼Œè€Œæ˜¯ä½¿ç”¨çš„ä¸€ä¸ªå…¨æ–°çš„çº¿ç¨‹æ± ã€‚GCD ä¸­å¯åŠ¨é˜Ÿåˆ—å·¥ä½œä¼šå¾ˆå¿«åœ¨æèµ·çº¿ç¨‹ï¼Œä¸€ä¸ªé˜Ÿåˆ—é˜»å¡äº†çº¿ç¨‹ï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªæ–°çº¿ç¨‹ã€‚åŸºäºè¿™ç§æœºåˆ¶ GCD çº¿ç¨‹æ•°å¾ˆå®¹æ˜“æ¯” CPU æ ¸å¿ƒæ•°é‡å¤šï¼Œçº¿ç¨‹å¤šäº†ï¼Œçº¿ç¨‹å°±ä¼šæœ‰å¤§é‡çš„è°ƒåº¦å¼€é”€ï¼Œå¤§é‡çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¼šä½¿ CPU è¿è¡Œæ•ˆç‡é™ä½ã€‚è€Œ Swift Concurrency çš„çº¿ç¨‹æ•°é‡ä¸ä¼šè¶…è¿‡ CPU å†…æ ¸ï¼Œå°†ä¸Šä¸‹æ–‡åˆ‡æ¢æ”¾åˆ°åŒä¸€ä¸ªçº¿ç¨‹ä¸­å»åšã€‚ä¸ºäº†å®ç°çº¿ç¨‹ä¸è¢«é˜»å¡ï¼Œéœ€è¦é€šè¿‡è¯­è¨€ç‰¹æ€§æ¥åšã€‚åšæ³•æ˜¯ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªå †æ ˆè®°å½•å‡½æ•°è°ƒç”¨æƒ…å†µï¼Œä¸€ä¸ªå‡½æ•°å ä¸€ä¸ªå¸§ã€‚å‡½æ•°è¿”å›åï¼Œè¿™ä¸ªå‡½æ•°æ‰€å çš„å¸§å°±ä¼šä»å †æ ˆå¼¹å‡ºã€‚await çš„ async å‡½æ•°è¢«ä½œä¸ºå¼‚æ­¥å¸§ä¿å­˜åœ¨å †ä¸Šç­‰å¾…æ¢å¤ï¼Œè€Œä¸é˜»ç¢å…¶å®ƒå‡½æ•°å…¥æ ˆæ‰§è¡Œã€‚åœ¨ await åè¿è¡Œçš„ä»£ç å« continuationï¼Œcontinuation ä¼šåœ¨è¦æ¢å¤æ—¶æ”¾å›åˆ°çº¿ç¨‹çš„å †æ ˆé‡Œã€‚å¼‚æ­¥å¸§ä¼šæ ¹æ®éœ€è¦æ”¾å›æ ˆä¸Šã€‚åœ¨ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ä¸­è°ƒç”¨åŒæ­¥ä»£ç å°†æ·»åŠ å¸§åˆ°çº¿ç¨‹çš„å †æ ˆä¸­ã€‚è¿™æ ·çº¿ç¨‹å°±èƒ½å¤Ÿä¸€ç›´å‘å‰è·‘ï¼Œè€Œä¸ç”¨åˆ›å»ºæ›´å¤šçº¿ç¨‹å‡å°‘è°ƒåº¦ã€‚</p>
<p>Douglas åœ¨ Swift è®ºå›é‡Œå‘çš„ Swift Concurrency ä¸‹ä¸ªç‰ˆæœ¬çš„è§„åˆ’è´´  <a target="_blank" rel="noopener" href="https://forums.swift.org/t/concurrency-in-swift-5-and-6/49337">Concurrency in Swift 5 and 6</a> ï¼Œè®ºå›é‡Œè¿˜æœ‰ä¸€ä¸ªå¸–å­æ˜¯ä¸“é—¨ç”¨æ¥ <a target="_blank" rel="noopener" href="https://forums.swift.org/t/swift-concurrency-feedback-wanted/49336">å¾é›†Swift Concurrencyæ„è§</a> çš„ï¼Œå¸–å­æœ¬èº«åˆ—å‡ºäº† Swift Concurrency ç›¸å…³çš„æ‰€æœ‰ææ¡ˆï¼Œä¹Ÿæå‡ºæ¬¢è¿æœ‰æ–°ææ¡ˆå‘å‡ºæ¥ï¼Œé™¤äº†è¿™äº›ææ¡ˆå¯ä»¥çœ‹å¤–ï¼Œå¸–å­å›å¤ç›®å‰å·²ç»è¿‡ç™¾ï¼Œéå¸¸çƒ­é—¹ï¼Œå¯ä»¥çœ‹å‡ºå¤§å®¶å¯¹ Swift Concurrency çš„å…³æ³¨åº¦ç›¸å½“çš„é«˜ã€‚</p>
<p>éå¸¸å¤šçš„äººå‚ä¸äº† Swift Concurrency æ‰ä½¿å…¶çœ‹èµ·æ¥å’Œç”¨èµ·æ¥é‚£ä¹ˆç®€å•ã€‚Doug Gregor åœ¨å‚ä¸ John Sundell çš„æ’­å®¢åï¼Œå‘äº†å¾ˆå¤šæ¡æ¨èŠ Swift Concurrencyï¼Œå¯ä»¥çœ‹åˆ°å‚ä¸çš„äººéå¸¸å¤šï¼Œå¯è§èƒŒåä»˜å‡ºçš„åŠªåŠ›æœ‰å¤šå¤§ã€‚ä¸‹é¢æˆ‘æ±‡æ€»äº† Doug Gregor åœ¨æ¨ä¸Šå‘çš„ä¸€äº›ä¿¡æ¯ï¼Œä½ é€šè¿‡è¿™äº›ä¿¡æ¯ä¹Ÿå¯ä»¥äº†è§£ Swift Concurrency å¹•åä¿¡æ¯ï¼Œæ‰€åšçš„äº‹å’Œè´Ÿè´£çš„äººã€‚</p>
<p> <a target="_blank" rel="noopener" href="https://twitter.com/pathofshrines">@pathofshrines</a> æ˜¯ Swift Concurrency æ•´ä½“æ¶æ„å¸ˆï¼ŒåŒ…æ‹¬ä½çº§åˆ«è¿è¡Œæ—¶å’Œç¼–è¯‘å™¨ç›¸å…³ç»†èŠ‚ã€‚ <a target="_blank" rel="noopener" href="https://twitter.com/illian">@illian</a> æ˜¯ async sequencesã€stream å’Œ Fundation çš„è´Ÿè´£äººã€‚ <a target="_blank" rel="noopener" href="https://twitter.com/optshiftk">@optshiftk</a> å¯¹ UI å’Œå¹¶å‘äº¤äº’çš„æå¥½çš„æ´å¯ŸåŠ›å¸¦æ¥äº†å¾ˆæ£’çš„ async æ¥å£ï¼Œ <a target="_blank" rel="noopener" href="https://twitter.com/phausler">@phausler</a> å¸¦æ¥äº† async sequencesã€‚Arnold Schwaighoferã€ <a target="_blank" rel="noopener" href="https://twitter.com/neightchan">@neightchan</a> ã€ <a target="_blank" rel="noopener" href="https://twitter.com/typesanitizer">@typesanitizer</a> è¿˜æœ‰ Tim Northover å®ç°äº† async calling conventionã€‚</p>
<p> <a target="_blank" rel="noopener" href="https://twitter.com/ktosopl">@ktosopl</a> æœ‰å¾ˆæ·±åšçš„ actorã€åˆ†å¸ƒå¼è®¡ç®—å’Œ Swift-on-Server ç»éªŒï¼Œå¸¦æ¥äº† actor ç³»ç»Ÿã€‚Erik Eckstein ä¸º async å‡½æ•°å’Œactorså»ºç«‹äº†å…³é”®çš„ä¼˜åŒ–å’ŒåŠŸèƒ½ã€‚</p>
<p>SwiftUIæ˜¯ <a target="_blank" rel="noopener" href="https://twitter.com/ricketson_">@ricketson_</a> å’Œ <a target="_blank" rel="noopener" href="https://twitter.com/luka_bernardi">@luka_bernardi</a> å®Œæˆçš„asyncæ¥å£ã€‚async I&#x2F;Oçš„æ¥å£æ˜¯ <a target="_blank" rel="noopener" href="https://twitter.com/Catfish_Man">@Catfish_Man</a> å®Œæˆçš„ã€‚ <a target="_blank" rel="noopener" href="https://twitter.com/slava_pestov">@slava_pestov</a> å¤„ç†äº† Swift æ³›å‹é—®é¢˜ï¼Œè¿˜æŒ‡å¯¼å…¶ä»–äººç¼–è¯‘å™¨å®ç°çš„ç»†èŠ‚ã€‚async é‡æ„å·¥å…·æ˜¯Ben Barham åšçš„ã€‚å¤§é‡ä»£ç ç§»æ¤åˆ° async æ˜¯ç”± <a target="_blank" rel="noopener" href="https://twitter.com/AirspeedSwift">@AirspeedSwift</a> é¢†å¯¼ï¼Œç”± Angela Laarï¼ŒClack Coleï¼ŒNicole Jacques å’Œ <a target="_blank" rel="noopener" href="https://twitter.com/mishaldshah">@mishaldshah</a> å…±åŒå®Œæˆçš„ã€‚</p>
<p> <a target="_blank" rel="noopener" href="https://twitter.com/lorentey">@lorentey</a> è´Ÿè´£ Swift æ¥å£çš„æ”¹è¿›ã€‚ <a target="_blank" rel="noopener" href="https://twitter.com/jckarter">@jckarter</a> æœ‰ç€æ•é”çš„è¯­è¨€è®¾è®¡æ´å¯ŸåŠ›ï¼Œå¸¦æ¥äº†è¯­è¨€è®¾è®¡ç»éªŒå’Œç¼–è¯‘å™¨åŠè¿è¡Œæ—¶å®ç°æŠ€èƒ½ã€‚ <a target="_blank" rel="noopener" href="https://twitter.com/mikeash">@mikeash</a>  ä¹Ÿå‚ä¸äº†è¿è¡Œæ—¶å¼€å‘ä¸­ã€‚æ“ä½œç³»ç»Ÿçš„é›†æˆæ˜¯ <a target="_blank" rel="noopener" href="https://twitter.com/rokhinip">@rokhinip</a> å®Œæˆçš„ï¼Œ <a target="_blank" rel="noopener" href="https://twitter.com/chimz">@chimz</a> æä¾›äº†å…³äº Dispatch å’Œ OS å¾ˆå¥½çš„å»ºè®®ï¼ŒPavel Yaskevich å’Œ<br> <a href="https://ming1016.github.io/2021/07/24/my-little-idea-about-writing-technical-article/">@hollyborla</a> è¿›è¡Œäº†å¹¶å‘æ‰€éœ€è¦å…³é”®ç±»å‹æ£€æŸ¥å™¨çš„æ”¹è¿›ã€‚ <a target="_blank" rel="noopener" href="https://twitter.com/kastiglione">@kastiglione</a> ã€Adrian Prantlå’Œ <a target="_blank" rel="noopener" href="https://twitter.com/fred_riss">@fred_riss</a> å®ç°äº†è°ƒè¯•ã€‚ <a target="_blank" rel="noopener" href="https://twitter.com/etcwilde">@etcwilde</a> å’Œ <a target="_blank" rel="noopener" href="https://twitter.com/call1cc">@call1cc</a> å®ç°äº†è¯­ä¹‰æ¨¡å‹ä¸­çš„é‡è¦éƒ¨åˆ†ã€‚</p>
<p> <a target="_blank" rel="noopener" href="https://twitter.com/evonox">@evonox</a> è´Ÿè´£äº†æœåŠ¡å™¨Linux çš„æ”¯æŒã€‚ <a target="_blank" rel="noopener" href="https://twitter.com/compnerd">@compnerd</a> å°† Swift Concurrency ç§»æ¤åˆ°äº† Windowsã€‚</p>
<p>Swift Concurrency æ¨¡å‹ç®€å•ï¼Œç»†èŠ‚éƒ½è¢«éšè—äº†ï¼Œæ¯” Kotlin å’Œ C++çš„ Coroutine æ¥å£è¦ç®€æ´å¾ˆå¤šã€‚æ¯”å¦‚ Task æ¥å£å½¢å¼å°±å¾ˆç®€æ´ã€‚Swift Concurrency å¤§ä½“å¯åˆ†ä¸º async&#x2F;awaitã€Async Sequencesã€ç»“æ„åŒ–å¹¶å‘å’Œ Actorsã€‚</p>
<h4 id="async-x2F-await"><a href="#async-x2F-await" class="headerlink" title="async&#x2F;await"></a>async&#x2F;await</h4><p>é€šè¿‡ç±»ä¼¼ throws è¯­æ³•çš„ async æ¥æŒ‡å®šå‡½æ•°ä¸ºå¼‚æ­¥å‡½æ•°ï¼Œå¼‚æ­¥å‡½æ•°æ‰èƒ½å¤Ÿä½¿ç”¨ awaitï¼Œä½¿ç”¨å¼‚æ­¥å‡½æ•°è¦ç”¨ awaitã€‚await ä¿®é¥°åœ¨ suspension point æ—¶å½“å‰çº¿ç¨‹å¯ä»¥è®©ç»™å…¶å®ƒä»»åŠ¡æ‰§è¡Œï¼Œè€Œä¸ç”¨é˜»å¡å½“å‰çº¿ç¨‹ï¼Œç­‰ await åé¢çš„å‡½æ•°æ‰§è¡Œå®Œæˆå†å›æ¥ç»§ç»­æ‰§è¡Œï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯å›æ¥æ‰§è¡Œä¸ä¸€å®šæ˜¯åœ¨ç¦»å¼€æ—¶çš„çº¿ç¨‹ä¸Šã€‚async&#x2F;await ææ¡ˆæ˜¯ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0296-async-await.md">SE-0296</a> ã€‚å¦‚æœæƒ³æŠŠç°æœ‰çš„å¼‚æ­¥å¼€å‘å¸¦åˆ° async&#x2F;await ä¸–ç•Œï¼Œè¯·ä½¿ç”¨ withCheckedThrowingContinuationã€‚</p>
<p>async&#x2F;await è¿˜æœ‰ä¸€ä¸ªéå¸¸æ˜æ˜¾çš„å¥½å¤„ï¼Œå°±æ˜¯ä¸ä¼šå†æœ‰[weak self] dance äº†ã€‚</p>
<h4 id="Async-Sequences"><a href="#Async-Sequences" class="headerlink" title="Async Sequences"></a>Async Sequences</h4><p>AsyncSequence çš„ä½¿ç”¨æ–¹å¼æ˜¯ for-await-in å’Œ for-try-await-inï¼Œç³»ç»Ÿæä¾›äº†ä¸€äº›æ¥å£ï¼Œå¦‚ä¸‹ï¼š</p>
<ul>
<li>FileHandle.standardInput.bytes.lines</li>
<li>URL.lines</li>
<li>URLSession.shared.data(from: URL)</li>
<li>let (localURL, _ ) &#x3D; try await session.download(from: url) ä¸‹è½½å’Œgetè¯·æ±‚æ•°æ®åŒºåˆ«æ˜¯éœ€è¦è¾¹è¯·æ±‚è¾¹å­˜å‚¨æ•°æ®ä»¥å‡å°‘å†…å­˜å ç”¨</li>
<li>let (responseData, response) &#x3D; try await session.upload(for: request, from: data)</li>
<li>URLSession.shared.bytes(from: URL)</li>
<li>NotificationCenter.default.notifications</li>
</ul>
<h4 id="ç»“æ„åŒ–å¹¶å‘"><a href="#ç»“æ„åŒ–å¹¶å‘" class="headerlink" title="ç»“æ„åŒ–å¹¶å‘"></a>ç»“æ„åŒ–å¹¶å‘</h4><p>ä½¿ç”¨è¿™äº›æ¥å£å¯ä»¥ä¸€è¾¹æ¥æ”¶æ•°æ®ä¸€è¾¹è¿›è¡Œæ˜¾ç¤ºï¼ŒAsyncSequence çš„ææ¡ˆæ˜¯ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0298-asyncsequence.md">SE-0298</a> ï¼ˆSwift 5.5å¯ç”¨ï¼‰ã€‚AsyncStream æ˜¯åˆ›å»ºè‡ªå·±å¼‚æ­¥åºåˆ—çš„æœ€ç®€å•çš„æ–¹æ³•ï¼Œå¤„ç†è¿­ä»£ã€å–æ¶ˆå’Œç¼“å†²ã€‚AsyncStream æ­£åœ¨è·¯ä¸Šï¼Œææ¡ˆæ˜¯ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0314-async-stream.md">SE-0314</a> ã€‚</p>
<p>Task ä¸ºä¸€ç»„å¹¶å‘ä»»åŠ¡åˆ›å»ºä¸€ä¸ªè¿è¡Œç¯å¢ƒï¼Œasync let å¯ä»¥è®©ä»»åŠ¡å¹¶å‘æ‰§è¡Œï¼Œç»“æ„åŒ–å¹¶å‘ï¼ˆStructured concurrencyï¼Œææ¡ˆåœ¨è·¯ä¸Š <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0304-structured-concurrency.md">SE-0304</a> ï¼‰withTaskGroup ä¸­ group.async å¯ä»¥å°†å¹¶å‘ä»»åŠ¡è¿›è¡Œåˆ†ç»„ã€‚</p>
<h4 id="Actors"><a href="#Actors" class="headerlink" title="Actors"></a>Actors</h4><p>æˆ‘ä»¬å†™çš„ç¨‹åºä¼šåœ¨è¿›ç¨‹ä¸­è¢«æ‹†æˆä¸€ä¸ªä¸€ä¸ªå°æŒ‡ä»¤ï¼Œè¿™äº›æŒ‡ä»¤ä¼šåœ¨æŸåˆ»ä¼šä¸€ä¸ªæ¥ä¸€ä¸ªåŒæ­¥çš„æˆ–è€…å¹¶å‘çš„æ‰§è¡Œã€‚ç³»ç»Ÿä¼šç”¨å¤šä¸ªçº¿ç¨‹æ‰§è¡Œå¹¶è¡Œçš„ä»»åŠ¡ï¼Œæ‰§è¡Œé¡ºåºæ˜¯è°ƒåº¦å™¨æ¥ç®¡ç†çš„ï¼Œç°ä»£å¤šæ ¸å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªçº¿ç¨‹ï¼Œå½“ä¸€ä¸ªèµ„æºåœ¨å¤šä¸ªçº¿ç¨‹ä¸ŠåŒæ—¶è¢«æ›´æ”¹æ—¶å°±ä¼šå‡ºé—®é¢˜ã€‚å¹¶å‘ä»»åŠ¡å¯¹æ•°æ®èµ„æºæ“ä½œå®¹æ˜“é€ æˆæ•°æ®ç«äº‰ï¼Œä»¥å‰éœ€è¦æ‰‹åŠ¨æ”¾åˆ°ä¸²è¡Œé˜Ÿåˆ—ã€ä½¿ç”¨é”ã€è°ƒåº¦å±éšœæˆ– Atomics çš„æ–¹å¼æ¥é¿å…ã€‚ä»¥å‰å¤„ç†å®¹æ˜“å¯¼è‡´æ˜‚è´µçš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¿‡å¤šçº¿ç¨‹å®¹æ˜“å¯¼è‡´çº¿ç¨‹çˆ†ç‚¸ï¼Œå®¹æ˜“æ„å¤–é˜»æ–­çº¿ç¨‹å¯¼è‡´åé¢ä»£ç æ²¡æ³•æ‰§è¡Œï¼Œå¤šä»»åŠ¡ç›¸äº’çš„ç­‰å¾…é€ æˆäº†æ­»é”ï¼Œblock å’Œå†…å­˜å¼•ç”¨å®¹æ˜“å‡ºé”™ç­‰ç­‰é—®é¢˜ã€‚</p>
<p>ç°åœ¨ Swift Concurrency å¯ä»¥é€šè¿‡ actor æ¥åˆ›å»ºä¸€ä¸ªåŒºåŸŸï¼Œåœ¨è¿™ä¸ªåŒºåŸŸä¼šè‡ªåŠ¨è¿›è¡Œæ•°æ®å®‰å…¨ä¿æŠ¤ï¼Œä¿è¯ä¸€å®šæ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®é‡Œé¢æ•°æ®ï¼Œé˜²æ­¢æ•°æ®ç«äº‰ã€‚actor å†…éƒ¨å¯¹æˆå‘˜è®¿é—®æ˜¯åŒæ­¥çš„ï¼Œæˆå‘˜é»˜è®¤æ˜¯éš”ç¦»çš„ï¼Œactor å¤–éƒ¨å¯¹ actor å†…æˆå‘˜çš„è®¿é—®åªèƒ½æ˜¯å¼‚æ­¥çš„ï¼Œéšå¼åŒæ­¥ä»¥é˜²æ­¢æ•°æ®ç«äº‰ã€‚MainActor ç»§æ‰¿è‡ªèƒ½ç¡®ä¿å…¨å±€å”¯ä¸€å®ä¾‹çš„ GlobalActorï¼Œä¿è¯ä»»åŠ¡åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œè¿™æ ·ä½ å°±å¯ä»¥æŠ›å¼ƒæ‰åœ¨ä½ çš„ ViewModel é‡Œå†™ DispatchQueue.main.async äº†ã€‚</p>
<p>Actors çš„æ¦‚å¿µé€šå¸¸è¢«ç”¨äºåˆ†å¸ƒå¼è®¡ç®—ï¼ŒActor æ¨¡å‹å‚çœ‹ <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Actor_model">Wikipedia</a> é‡Œçš„è¯¦ç»†è§£é‡Šï¼ŒSwift ä¸­çš„å®ç°æ•ˆæœä¹Ÿéå¸¸çš„ç†æƒ³ã€‚Actors çš„ææ¡ˆ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0306-actors.md">SE-0306</a> å·²åœ¨ Swift 5.5è½å®ã€‚</p>
<p>å¾ˆå¤šè¯­è¨€éƒ½æ”¯æŒ actors è¿˜æœ‰ async&#x2F;awaitï¼Œå®ç°çš„æ–¹å¼ä¹Ÿç±»ä¼¼ï¼Œactor ä½¿ç”¨çš„ä¸æ˜¯é”ï¼Œè€Œæ˜¯ç”¨çš„ async&#x2F;await è¿™æ ·èƒ½å¤Ÿåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­åˆ‡æ¢ä¸Šä¸‹æ–‡æ¥é¿å…çº¿ç¨‹ç©ºé—²çš„çº¿ç¨‹æ¨¡å‹ã€‚actor è¿˜åˆ©ç”¨ç¼–è¯‘å™¨ï¼Œæå‰åšä¼šå¼•èµ·å¹¶å‘é—®é¢˜çš„æ£€æŸ¥ã€‚</p>
<p>actor æ˜¯éµå¾ª Sendable åè®®çš„ï¼Œåªæœ‰ç»“æ„ä½“å’Œ final ç±»æ‰èƒ½å¤Ÿéµå¾ª Sendableï¼Œç»§æ‰¿äº Sendable åè®®çš„ Excutor åè®®è¡¨ç¤ºæ–¹æ³•æœ¬èº«ï¼ŒSerialExecutor è¡¨ç¤ºä»¥ä¸²è¡Œæ–¹å¼æ‰§è¡Œã€‚actor ä½¿ç”¨ C++å†™çš„ï¼Œæºç åœ¨ <a target="_blank" rel="noopener" href="https://github.com/apple/swift/blob/main/stdlib/public/Concurrency/Actor.cpp">è¿™é‡Œ</a> ï¼Œå¯ä»¥çœ‹åˆ° actor ä¸»è¦æ˜¯é€šè¿‡æ§åˆ¶å„ä¸ª job æ‰§è¡Œçš„çŠ¶æ€çš„ç®¡ç†å™¨ã€‚job æ‰§è¡Œä¼˜å…ˆçº§æ¥è‡ª Task å¯¹è±¡ï¼Œæ’é˜Ÿæ—¶éœ€è¦ç¡®ä¿é«˜ä¼˜ job å…ˆè¢«æ‰§è¡Œã€‚å…¨å±€ Executor ç”¨æ¥ä¸º job æ’é˜Ÿï¼Œé€šçŸ¥ actor æ‹¥æœ‰æˆ–è€…æ”¾å¼ƒçº¿ç¨‹ï¼Œå®ç°åœ¨ <a target="_blank" rel="noopener" href="https://github.com/apple/swift/blob/main/stdlib/public/Concurrency/GlobalExecutor.cpp">è¿™é‡Œ</a> ã€‚ç”±äºç­‰å¾…è€Œæ”¾å¼ƒå½“å‰çº¿ç¨‹è®©å…¶ä»– actor æ‰§è¡Œçš„ actorï¼Œåœ¨æ”¶åˆ°å…¨å±€ Executor åˆ›å»ºä¸€ä¸ªæ–°çš„ job çš„é€šçŸ¥ï¼Œä½¿å…¶å¯ä»¥è¿›å…¥ä¸€ä¸ªå¯èƒ½ä¸åŒçº¿ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å¹¶å‘æ¨¡å‹ä¸­æè¿°çš„ Actor Reentrancyã€‚</p>
<h4 id="Distributed-Actors"><a href="#Distributed-Actors" class="headerlink" title="Distributed Actors"></a>Distributed Actors</h4><p>actor å…·æœ‰åˆ†å¸ƒå¼å½¢å¼å·¥ä½œèƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ RPC é€šè¿‡ç½‘ç»œè¯»å–å’Œå†™å…¥å±æ€§æˆ–è€…è°ƒç”¨æ–¹æ³•ã€‚è®¾è®¡ä¸ºä¿æŠ¤åœ¨è·¨å¤šä¸ªè¿›ç¨‹ä¸­çš„ä½çº§åˆ«æ•°æ®ç«äº‰ã€‚Distributed actors å¯ä»¥åœ¨ä¸¤ä¸ªè¿›ç¨‹é—´å»ºç«‹é€šé“ï¼Œéš”ç¦»å®ƒä»¬çŠ¶æ€ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´å¼‚æ­¥é€šä¿¡ã€‚æ¯ä¸ª distributed actors åœ¨ actor åˆå§‹åŒ–æ—¶åˆ†é…ä¸€ä¸ªä¸å¯ä»¥æ‰‹åŠ¨åˆ›å»ºçš„ idï¼Œåœ¨å®ƒæ‰€å±æ•´ä¸ª distributed actor ç³»ç»Ÿä¸­å”¯ä¸€æ ‡è¯†æ‰€æŒ‡ actorï¼Œè¿™æ ·æ— è®º distributed actors åœ¨å“ªï¼Œéƒ½å¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼ä¸ä¹‹äº¤äº’ã€‚</p>
<p>session <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/110356/">Meet distributed actors in Swift</a> ã€‚è¿™é‡Œæœ‰ä¸ª distributed actors çš„ä»£ç ç¤ºä¾‹ <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swift/tictacfish_implementing_a_game_using_distributed_actors">TicTacFish: Implementing a game using distributed actors</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0336-distributed-actor-isolation.md">SE-0336 Distributed Actor Isolation</a> å’Œ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0344-distributed-actor-runtime.md">SE-0344 Distributed Actor Runtime</a> æ˜¯ä¸¤ä¸ª Distributed Actors çš„ç›¸å…³ææ¡ˆã€‚</p>
<p>Apple æä¾›äº†ä¸€ä¸ªå‚è€ƒçš„æœåŠ¡ç«¯ cluster actor ç³»ç»Ÿå®ç°ç¤ºä¾‹ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/apple/swift-distributed-actors">cluster actor system implementation</a> ã€‚</p>
<h4 id="ç›¸å…³ææ¡ˆ"><a href="#ç›¸å…³ææ¡ˆ" class="headerlink" title="ç›¸å…³ææ¡ˆ"></a>ç›¸å…³ææ¡ˆ</h4><p>æ‰€æœ‰ç›¸å…³ææ¡ˆæ¸…å•å¦‚ä¸‹ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0296-async-await.md">SE-0296: Async&#x2F;await</a>   <a target="_blank" rel="noopener" href="https://kemchenj.github.io/2021-03-06/">ã€è¯‘ã€‘SE-0296 Async&#x2F;await</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0317-async-let.md">SE-0317: async let</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0300-continuation.md">SE-0300: Continuations for interfacing async tasks with synchronous code</a>   <a target="_blank" rel="noopener" href="https://kemchenj.github.io/2021-03-31/">ã€è¯‘ã€‘SE-0300 Continuation â€“ æ‰§è¡ŒåŒæ­¥ä»£ç çš„å¼‚æ­¥ä»»åŠ¡æ¥å£</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0302-concurrent-value-and-concurrent-closures.md">SE-0302: Sendable and @Sendable closures</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0298-asyncsequence.md">SE-0298: Async&#x2F;Await: Sequences</a>   <a target="_blank" rel="noopener" href="https://kemchenj.github.io/2021-03-10/">ã€è¯‘ã€‘SE-0298 Async&#x2F;Await åºåˆ—</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0304-structured-concurrency.md">SE-0304: Structured concurrency</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0306-actors.md">SE-0306: Actors</a>   <a target="_blank" rel="noopener" href="https://kemchenj.github.io/2021-04-25/">ã€è¯‘ã€‘SE-0306 Actors</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0313-actor-isolation-control.md">SE-0313: Improved control over actor isolation</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0297-concurrency-objc.md">SE-0297: Concurrency Interoperability with Objective-C</a>   <a target="_blank" rel="noopener" href="https://kemchenj.github.io/2021-03-07/">ã€è¯‘ã€‘SE-0297 Concurrency ä¸ Objective-C çš„äº¤äº’</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0314-async-stream.md">SE-0314: AsyncStream and AsyncThrowingStream</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0316-global-actors.md">SE-0316: Global actors</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0310-effectful-readonly-properties.md">SE-0310: Effectful read-only properties</a> </li>
<li><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0311-task-locals.md">SE-0311: Task Local Values</a> </li>
<li><a target="_blank" rel="noopener" href="https://forums.swift.org/t/support-custom-executors-in-swift-concurrency/44425">Custom Executors</a></li>
</ul>
<h4 id="å­¦ä¹ è·¯å¾„"><a href="#å­¦ä¹ è·¯å¾„" class="headerlink" title="å­¦ä¹ è·¯å¾„"></a>å­¦ä¹ è·¯å¾„</h4><p>å¦‚æœæ‰“ç®—å°è¯• Swift Concurrency çš„è¯ï¼ŒæŒ‰ç…§å…ˆåé¡ºåºï¼Œå¯ä»¥å…ˆçœ‹å®˜æ–¹æ‰‹å†Œä»‹ç»æ–‡ç«  <a target="_blank" rel="noopener" href="https://docs.swift.org/swift-book/LanguageGuide/Concurrency.html">Concurrency</a> ã€‚å†çœ‹ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2021/10132/">Meet async&#x2F;await in Swift</a> è¿™ä¸ªSessionï¼Œäº†è§£èƒŒååŸç†çœ‹ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2021/10134">Explore structured concurrency in Swift</a> ã€‚åŠ¨æ‰‹ç…§ç€è¯•ç¤ºä¾‹ä»£ç ï¼Œçœ‹Paulçš„ <a target="_blank" rel="noopener" href="https://www.hackingwithswift.com/quick-start/concurrency">Swift Concurrency by Example</a> è¿™ä¸ªç³»åˆ—ã€‚æ¥ç€çœ‹ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2021/10133">Protect mutable state with Swift actors</a> æ¥äº†è§£ actors æ€ä¹ˆé˜²æ­¢æ•°æ®ç«äº‰ã€‚é€šè¿‡ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2021/10019">Discover concurrency in SwiftUI</a> çœ‹ concurrency å¦‚ä½•åœ¨ SwiftUI ä¸­ä½¿ç”¨ï¼Œ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2021/10095">Use async&#x2F;await with URLSession</a> æ¥çœ‹æ€ä¹ˆåœ¨ URLSession ä¸­ä½¿ç”¨ async&#x2F;awaitã€‚æœ€åå¬å¬è´Ÿè´£ Swift Concurrency çš„ Doug Gregor å‚åŠ çš„ä¸€ä¸ª <a target="_blank" rel="noopener" href="https://www.swiftbysundell.com/podcast/99/">æ’­å®¢çš„è®¿è°ˆ</a> ï¼Œäº†è§£ä¸‹ Swift Concurrency èƒŒåçš„æ•…äº‹ã€‚</p>
<h4 id="Swift-Concurrency-å’Œ-Combine"><a href="#Swift-Concurrency-å’Œ-Combine" class="headerlink" title="Swift Concurrency å’Œ Combine"></a>Swift Concurrency å’Œ Combine</h4><p>ç”±äº Swift Concurrency çš„æ¨å‡ºå’Œå¤§é‡çš„ Session å‘å¸ƒï¼Œç‰¹åˆ«æ˜¯ <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swift/asyncsequence/">AsyncSequence</a> çš„å‡ºç°ï¼Œä»¥åŠæ­£åœ¨è·¯ä¸Šçš„ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0314-async-stream.md">AsyncStreamã€AsyncThrowingStream</a> å’Œ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0300-continuation.md">continuation</a> ææ¡ˆï¼ˆåœ¨Xcode 13.0 beta 3 AsyncStream æ­£å¼ <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swift/asyncstream?changes=latest_beta">release</a> ï¼‰ï¼Œè¿™äº›è¶Šæ¥è¶Šå¤šå’Œ Combine åŠŸèƒ½é‡å çš„ç‰¹æ€§å‡ºç°åœ¨ Swift Concurrency è“å›¾é‡Œæ—¶ï¼Œå¤§å®¶å¼€å§‹çŒœæµ‹æ˜¯å¦ Combine ä¼šè¢« Swift Concurrency æ›¿ä»£ã€‚å…³äºæœªæ¥æ˜¯ Swift Concurrency è¿˜æ˜¯ Combineï¼Œæˆ‘çš„æ„Ÿè§‰æ˜¯ï¼ŒCombine æ›´ä¾§é‡åœ¨å“åº”å¼ç¼–ç¨‹ä¸Šï¼Œè€Œå“åº”å¼ç¼–ç¨‹å¹¶ä¸æ˜¯æ‰€æœ‰å¼€å‘äººå‘˜éƒ½ä¼šæ¥å—çš„ï¼Œè€Œ Swift Concurrency æ˜¯æ‰€æœ‰äººéƒ½æ„¿æ„æ¥å—çš„å¼€å‘æ–¹å¼ï¼Œä» Swift Concurrency æ¨å‡ºåå¼€å‘è€…ä½¿ç”¨çš„æ•°é‡å’Œç¤¾åŒºååº”ç«çƒ­ç¨‹åº¦æ¥çœ‹éƒ½æ¯” Combine è¦å¤§ã€‚åœ¨è‹¹æœå¯¹ Combine æœ‰ä¸‹ä¸€æ­¥åŠ¨ä½œä¹‹å‰ï¼Œæˆ‘è¿˜æ˜¯æ›´åå‘ Swift Concurrencyã€‚</p>
<h4 id="Concurrency-5-7-ç‰ˆæœ¬æ›´æ–°"><a href="#Concurrency-5-7-ç‰ˆæœ¬æ›´æ–°" class="headerlink" title="Concurrency 5.7 ç‰ˆæœ¬æ›´æ–°"></a>Concurrency 5.7 ç‰ˆæœ¬æ›´æ–°</h4><p>session <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-110351">Eliminate data races using Swift Concurrency</a> ã€<a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-110350">Visualize and optimize Swift concurrency</a> ã€<a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-110355">Meet Swift Async Algorithms</a> ã€‚</p>
<p>è¡¨ç¤ºæŒç»­æ—¶é—´æœ‰äº†æ–°çš„æ”¾æ¥æ¥è¡¨è¾¾ï¼Œå¯¹åº”ææ¡ˆæ˜¯ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0329-clock-instant-duration.md">SE-0329 Clock, Instant, and Duration</a> ï¼Œcontinuous clock æ˜¯åœ¨ç³»ç»Ÿç¡çœ çŠ¶æ€è¿˜ä¼šå¢åŠ æ—¶é—´ï¼Œsuspending clock åœ¨ç³»ç»Ÿç¡çœ çŠ¶æ€ä¸ä¼šå¢åŠ æ—¶é—´ã€‚Instants è¡¨ç¤ºä¸€ä¸ªç¡®å®šçš„æ—¶é—´ã€‚Duration è¡¨ç¤ºä¸¤ä¸ªæ—¶é—´ç»å†äº†å¤šä¹…ã€‚</p>
<p>æ–°å¢ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0338-clarify-execution-non-actor-async.md">SE-0338 Clarify the Execution of Non-Actor-Isolated Async Functions</a> é€šè¿‡æ”¶ç´§å¯å‘é€æ€§æ£€æŸ¥çš„è§„åˆ™æ¥é¿å…æ½œåœ¨çš„æ•°æ®ç«äº‰ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0343-top-level-concurrency.md">SE-0343 Concurrency in Top-level Code</a> è¿™ä¸ªææ¡ˆä¸»è¦æ˜¯æ›´å¥½åœ°æ”¯æŒå‘½ä»¤è¡Œå·¥å…·çš„å¼€å‘ï¼Œå¯ä»¥ç›´æ¥å°† concurrency ä»£ç å†™åˆ° main.swift æ–‡ä»¶é‡Œã€‚</p>
<p><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0340-swift-noasync.md">SE-0340 Unavailable From Async Attribute</a> æä¾› noasync è¯­æ³•ä»¥å…è®¸æˆ‘ä»¬å°†ç±»å‹å’Œå‡½æ•°æ ‡è®°ä¸ºåœ¨å¼‚æ­¥ä¸Šä¸‹æ–‡ä¸å¯ç”¨ã€‚</p>
<p>Task æ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„ï¼Œæ˜¯å¼‚æ­¥çš„ï¼Œåœ¨ await æ—¶å¯ä»¥æš‚åœä»»æ„æ¬¡æ•°ã€‚task æ˜¯è‡ªåŒ…å«çš„ï¼Œæœ‰è‡ªå·±çš„èµ„æºï¼Œå¯ä»¥ç‹¬ç«‹äºä»»ä½•å…¶ä»– task ç‹¬ç«‹è¿è¡Œã€‚task é€šè¿‡åœ¨ body æœ«å°¾è¿”å›ä¸€ä¸ªå€¼æ¥ä¼ é€’å¯¹è±¡ï¼Œå€¼ç±»å‹æ²¡é—®é¢˜ï¼Œå¦‚æœæ˜¯å¼•ç”¨ç±»å‹æœ‰å¯èƒ½å‡ºç°æ•°æ®ç«äº‰ã€‚</p>
<p>é€šè¿‡ Sendable åè®® Swift å¯ä»¥å¸®åŠ©å‘Šè¯‰æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™ task ä¹‹é—´å…±äº«æ•°æ®æ˜¯å®‰å…¨çš„ã€‚Sendable æè¿°çš„ç±»å‹å¯ä»¥è·¨éš”ç¦» domainï¼Œä¸ä¼šæœ‰æ•°æ®ç«äº‰ï¼ŒSwift ç¼–è¯‘å™¨ä¼šåœ¨æ„å»ºæ—¶æ£€æŸ¥æ•°æ®ç«äº‰ã€‚task çš„è¿”å›ç±»å‹è¦ç¬¦åˆ Sendableã€‚</p>
<p>å¼•ç”¨ç±»å‹åªèƒ½åœ¨å¾ˆå°‘çš„æƒ…å†µä¸‹ç¬¦åˆ Sendableã€‚æ¯”å¦‚ final class åªæœ‰ä¸å¯å˜çš„å­˜å‚¨ã€‚å¯¹äºè‡ªå·±å†…éƒ¨åŒæ­¥çš„å¼•ç”¨ç±»å‹ï¼Œæ¯”å¦‚é”ï¼Œå¯ä»¥ç”¨ <code>@unchecked Sendable</code> ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">class</span> <span class="token class-name">ConcurrentCache</span><span class="token operator">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">:</span> <span class="token class-name">Hashable</span> <span class="token operator">&amp;</span> <span class="token class-name">Sendable</span><span class="token punctuation">,</span> <span class="token class-name">Value</span><span class="token punctuation">:</span> <span class="token class-name">Sendable</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token attribute atrule">@unchecked</span> <span class="token class-name">Sendable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> lock<span class="token punctuation">:</span> <span class="token class-name">NSLock</span>
  <span class="token keyword">var</span> storage<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Key</span><span class="token punctuation">:</span> <span class="token class-name">Value</span><span class="token punctuation">]</span>

  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Actor æä¾›äº†ä¸€ç§éš”ç¦»çŠ¶æ€çš„æ–¹æ³•å¯ä»¥æ¶ˆé™¤æ•°æ®ç«äº‰ã€‚ä½¿ç”¨ task æ¥æ‰§è¡Œ actor å®šä¹‰çš„ä»£ç ã€‚ä¸€æ¬¡åªèƒ½åœ¨ä¸€ä¸ª actor ä¸Šæ‰§è¡Œä¸€ä¸ª taskã€‚actor ä¹Ÿæ˜¯ä¾èµ– Sendableã€‚actor æ˜¯å¼•ç”¨ç±»å‹ï¼Œä½†éš”ç¦»äº†ä»–ä»¬æ‰€æœ‰å±æ€§å’Œä»£ç æ¥é˜²æ­¢å¹¶å‘è®¿é—®ã€‚<code>@MainActor</code> è¡¨ç¤ºçš„æ˜¯ä¸»çº¿ç¨‹ï¼Œä½ è¦åœ¨åº”ç”¨ä¸­æ›´æ–° UI æ—¶æ¥ç”¨å®ƒã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token attribute atrule">@MainActor</span> <span class="token keyword">func</span> <span class="token function-definition function">updateView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> â€¦ <span class="token punctuation">&#125;</span>

<span class="token class-name">Task</span> <span class="token punctuation">&#123;</span> <span class="token attribute atrule">@MainActor</span> <span class="token keyword">in</span>
  <span class="token comment">// update UI here</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>@MainActor</code> ä¹Ÿå¯ä»¥ç”¨äºç±»ï¼Œç±»çš„å±æ€§å’Œæ–¹æ³•åªèƒ½åœ¨ä¸» main actor ä¸Šè®¿é—®ï¼Œé™¤éæ ‡è®°ä¸º <code>nonisolated</code> ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token attribute atrule">@MainActor</span>
<span class="token keyword">class</span> <span class="token class-name">ChickenValley</span><span class="token punctuation">:</span> <span class="token class-name">Sendable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">var</span> flock<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Chicken</span><span class="token punctuation">]</span>
  <span class="token keyword">var</span> food<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Pineapple</span><span class="token punctuation">]</span>

  <span class="token keyword">func</span> <span class="token function-definition function">advanceTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> chicken <span class="token keyword">in</span> flock <span class="token punctuation">&#123;</span>
      chicken<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token operator">&amp;</span>food<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>




<h2 id="SwiftUI"><a href="#SwiftUI" class="headerlink" title="SwiftUI"></a>SwiftUI</h2><h3 id="ä»‹ç»-2"><a href="#ä»‹ç»-2" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><h4 id="SwiftUI-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#SwiftUI-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="SwiftUI æ˜¯ä»€ä¹ˆï¼Ÿ"></a>SwiftUI æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>å¯¹äºä¸€ä¸ªåŸºäºUIKitçš„é¡¹ç›®æ˜¯æ²¡æœ‰å¿…è¦å…¨éƒ¨ç”¨SwiftUIé‡å†™çš„ï¼Œåœ¨UIKité‡Œä½¿ç”¨SwiftUIçš„è§†å›¾éå¸¸å®¹æ˜“ï¼ŒUIHostingControlleræ˜¯UIViewControllerçš„å­ç±»ï¼Œå¯ä»¥ç›´æ¥ç”¨åœ¨UIKité‡Œï¼Œå› æ­¤ç›´æ¥å°†SwiftUIè§†å›¾åŠ åˆ°UIHostingControllerä¸­ï¼Œå°±å¯ä»¥åœ¨UIKité‡Œä½¿ç”¨SwiftUIè§†å›¾äº†ã€‚</p>
<p>SwiftUIçš„å¸ƒå±€æ ¸å¿ƒæ˜¯ GeometryReaderã€View Preferenceså’ŒAnchor Preferencesã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://user-images.githubusercontent.com/251980/142988837-ab49c202-9779-4c7a-8dc2-5584900c0765.png"></p>
<p>SwiftUIçš„æ•°æ®æµæ›´é€‚åˆReduxç»“æ„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://user-images.githubusercontent.com/251980/142988879-af591aaf-161f-4f60-9891-d7b8d313f69f.png"></p>
<p>å¦‚ä¸Šå›¾ï¼ŒReduxç»“æ„æ˜¯çœŸæ­£çš„å•å‘å•æ•°æ®æºç»“æ„ï¼Œæ˜“äºåˆ†å‰²ï¼Œèƒ½å……åˆ†åˆ©ç”¨SwiftUIå†…ç½®çš„æ•°æ®æµProperty Wrapperã€‚UIç»„ä»¶å¹²å‡€ã€ä½“é‡å°ã€å¯å¤ç”¨å¹¶ä¸”æ— ä¸šåŠ¡é€»è¾‘ï¼Œå› æ­¤å¼€å‘æ—¶å¯ä»¥èšç„¦äºUIä»£ç ã€‚ä¸šåŠ¡é€»è¾‘æ”¾åœ¨ä¸€èµ·ï¼Œæ‰€æœ‰ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®Modeléƒ½åœ¨Reduceré‡Œã€‚ <a target="_blank" rel="noopener" href="https://github.com/Dimillian/ACHNBrowserUI">ACHNBrowserUI</a>  å’Œ  <a target="_blank" rel="noopener" href="https://github.com/Dimillian/MovieSwiftUI">MovieSwiftUI</a>  å¼€æºé¡¹ç›®éƒ½æ˜¯ä½¿ç”¨çš„Reduxæ¶æ„ã€‚æœ€è¿‘æ¯”è¾ƒç©ç›®çš„TCAï¼ˆThe Composable Architectureï¼‰ä¹Ÿæ˜¯ç±»Redux&#x2F;Elmçš„æ¶æ„çš„æ¡†æ¶ï¼Œ <a target="_blank" rel="noopener" href="https://github.com/pointfreeco/swift-composable-architecture">é¡¹ç›®åœ°å€è§</a> ã€‚</p>
<p>æåˆ°æ•°æ®æµå°±ä¸å¾—ä¸è¯´ä¸‹è‹¹æœå…¬å¸æ–°å‡ºçš„Combineï¼Œå¯¹æ ‡çš„æ˜¯RxSwiftï¼Œç”±äºæ˜¯è‹¹æœå…¬å¸å®˜æ–¹çš„åº“ï¼Œæ‰€ä»¥åº”è¯¥ä¼˜å…ˆé€‰æ‹©ã€‚ä¸è¿‡å’ŒSwiftUIä¸€æ ·ï¼Œè¿™ä¸¤ä¸ªæ–°åº“å¯¹APPæ”¯æŒæœ€ä½çš„ç³»ç»Ÿç‰ˆæœ¬éƒ½è¦æ±‚æ˜¯iOS13åŠä»¥ä¸Šã€‚é‚£ä¹ˆæ€ä¹ˆèƒ½å¤Ÿæå‰ç”¨ä¸ŠSwiftUIå’ŒCombineå‘¢ï¼Ÿæˆ–è€…è¯´ç°åœ¨ä½¿ç”¨ä»€ä¹ˆåº“å¯ä»¥ä»¥ç›¸åŒæ¥å£æ–¹å¼æš‚æ—¶æ›¿æ¢å®ƒä»¬ï¼Œåˆèƒ½åœ¨ä»¥åæ”¹ä¸ºSwiftUIå’ŒCombineæ—¶æˆæœ¬æœ€å°åŒ–å‘¢ï¼Ÿ</p>
<p>å¯¹äºSwiftUIï¼ŒAcFunè‡ªç ”äº†å£°æ˜å¼UI Yseraï¼Œç±»ä¼¼SwiftUIçš„æ¥å£ï¼Œå¹¶ä¸”é‡æ„äº†AcFuné‡Œæ”¶è—æ¨¡å—åˆ—è¡¨è§†å›¾å’Œäº¤äº’é€»è¾‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://user-images.githubusercontent.com/251980/142988909-e6626954-2c93-4c34-b10e-5345c8015cea.png"></p>
<p>é€šè¿‡ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œswiftä»£ç é‡ç›¸æ¯”è¾ƒOCå‡å°‘äº†65%ä»¥ä¸Šï¼ŒåŸå…ˆä½¿ç”¨Objective-Cå®ç°çš„ç›¸åŒåŠŸèƒ½ä»£ç è¶…è¿‡äº†1000è¡Œï¼Œè€ŒSwifté‡å†™åªéœ€è¦350è¡Œï¼Œå¯¹äºAcFunçš„ä¸šåŠ¡ç ”å‘å·¥ç¨‹å¸ˆè€Œè¨€ï¼ŒåŒæ ·çš„éœ€æ±‚å®ç°ä»£ç æ¯”ä¹‹å‰å°‘äº†è‡³å°‘30%ï¼Œé¢å¯¹å•å‘¨è¿­ä»£è¿™æ ·çš„èŠ‚å¥ï¼Œå›¢é˜Ÿä¹Ÿå˜å¾—æ›´ä»å®¹ã€‚ä»£ç å¯è¯»æ€§å¢åŠ äº†ï¼ŒåæœŸåŠŸèƒ½è¿­ä»£å’Œç»´æŠ¤æ›´å®¹æ˜“äº†ï¼ŒSwiftè®©AcFuné©¶å…¥äº†iOSå¼€å‘ç”Ÿæ€çš„â€œå¿«è½¦é“â€ã€‚</p>
<p>SwiftUIå…¨éƒ¨éƒ½æ˜¯åŸºäºSwiftçš„å„å¤§å¯æé«˜å¼€å‘æ•ˆç‡ç‰¹æ€§å®Œæˆçš„ï¼Œæ¯”å¦‚å‰é¢æåˆ°çš„ï¼Œèƒ½å¤Ÿè®¿é—®åªç»™è¯­è¨€ç‰¹æ€§çº§åˆ«è¡Œä¸ºçš„Property Wrapperï¼Œé€šè¿‡Property WrapperåŒ…è£…ä»£ç é€»è¾‘ï¼Œæ¥é™ä½ä»£ç å¤æ‚åº¦ï¼Œé™¤äº†SwiftUIå’ŒCombineé‡Œ@å¼€å¤´çš„Property Wrapperå¤–ï¼ŒSwiftè¿˜è‡ªå¸¦ç±»ä¼¼ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0195-dynamic-member-lookup.md">@dynamicMemberLookup</a>  å’Œ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/master/proposals/0216-dynamic-callable.md">@dynamicCallable</a>  è¿™æ ·é‡é‡çº§çš„Property Wrapperã€‚è¿˜æœ‰ <a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution/blob/main/proposals/0289-result-builders.md">ResultBuilder</a> è¿™ç§èƒ½å¤Ÿç®€åŒ–è¯­æ³•çš„ç‰¹æ€§ï¼Œæœ‰äº›å¦‚GraphQLã€RESTå’ŒNetworkingå®é™…ä½¿ç”¨ResultBuilderçš„ <a target="_blank" rel="noopener" href="https://github.com/carson-katri/awesome-result-builders">èŒƒä¾‹å¯ä»¥å‚è€ƒ</a> ã€‚è¿™äº›Swiftçš„ç‰¹æ€§å¦‚æœä¹Ÿèƒ½å¾—åˆ°å……åˆ†åˆ©ç”¨ï¼Œå³ä½¿ä¸ç”¨SwiftUIä¹Ÿèƒ½ä½¿å¼€å‘æ•ˆç‡å¾—åˆ°å¤§å¹…æå‡ã€‚</p>
<p>ç½‘é£ï¼ˆNetflixï¼‰Appå·²ä½¿ç”¨SwiftUIé‡æ„äº†ç™»å½•ç•Œé¢ï¼Œç½‘é£å¢é•¿å›¢é˜Ÿç§»åŠ¨è´Ÿè´£äººæ•…èƒ¤é“é•¿è®°å½•äº†SwiftUIåœ¨ç½‘é£çš„è½åœ°è¿‡ç¨‹ï¼Œè¯¦ç»†æè¿°äº† <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/oRPRCx78owLe3_gROYapCw">SwiftUIçš„æ”¶ç›Š</a> ã€‚ç½‘é£èƒ½å¤Ÿç›´æ¥ä½¿ç”¨SwiftUIå¾—ç›Šäºä»–ä»¬æœ€ä½æ”¯æŒiOS 13ç³»ç»Ÿã€‚</p>
<p>ä¸è¿‡å¦‚æœ€ä½æ”¯æŒç³»ç»Ÿä½äºiOS 13ï¼Œè¿˜æœ‰å¼€æºé¡¹ç›® <a target="_blank" rel="noopener" href="https://github.com/rakutentech/AltSwiftUI">AltSwiftUI</a> ä¹Ÿå®ç°äº†SwiftUIçš„è¯­æ³•å’Œç‰¹æ€§ï¼Œèƒ½å¤Ÿå‘å‰å…¼å®¹åˆ°iOS 11ã€‚</p>
<p><a target="_blank" rel="noopener" href="https://twitter.com/kuba_suder">Kuba Suder</a> åšäº†ä¸€ä¸ª <a target="_blank" rel="noopener" href="https://mackuba.eu/swiftui/changelog">SwiftUI Index&#x2F;Changelog</a> ï¼Œä»å®˜æ–¹æ–‡æ¡£ä¸­æå–ç‰ˆæœ¬ä¿¡æ¯ï¼Œä¸€ç›®äº†ç„¶ SwiftUI æ¯ä¸ªç‰ˆæœ¬ viewï¼Œmodifier è¿˜æœ‰å±æ€§åšäº†å“ªäº›å¢åŠ å’Œæ”¹å˜ã€‚å½“ç„¶ä¹ŸåŒ…æ‹¬è¿™æ¬¡ SwiftUI 4 çš„æ›´æ–°ã€‚è¿˜æœ‰ä»½å¯¹ä»Šå¹´æ›´æ–°æ•´ç†çš„ cheat sheet <a target="_blank" rel="noopener" href="https://bigmountainstudio.github.io/What-is-new-in-SwiftUI/">Whatâ€™s New In SwiftUI for iOS Cheat Sheet - WWDC22</a> ã€‚</p>
<p>SwiftUI 4 åšäº†å¤§é‡ç»†èŠ‚æ›´æ–°ï¼Œæ¯”å¦‚æ·»åŠ äº†åå°ä»»åŠ¡å‡½æ•° <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/scene/backgroundtask(_:action:)?changes=latest_minor">backgroundTask(_:action:)</a> ã€‚List æ”¹ç”¨ UICollectionViewã€‚AnyLayout è®© HStack å’Œ VStack ä¹‹é—´å¯ä»¥è‡ªç”±åˆ‡æ¢ã€‚<code>scrollDismissesKeyboard()</code> modifier å¯ä»¥è®©é”®ç›˜åœ¨æ»šåŠ¨æ—¶è‡ªåŠ¨ dismissã€‚<code>scrollIndicators()</code> modifier å¯ä»¥éšè— ScrollView å’Œ List ç­‰è§†å›¾çš„æ»šåŠ¨æŒ‡ç¤ºã€‚defersSystemGestures() modifier å…è®¸æˆ‘ä»¬çš„æ‰‹åŠ¿ä¼˜å…ˆäºç³»ç»Ÿçš„å†…ç½®æ‰‹åŠ¿ã€‚é¢œè‰²çš„ <code>.gradient </code> å¯ä»¥è·å¾—å¾ˆç®€å•çš„æ¸å˜ï¼Œ<code>Rectangle().fill(.red.gradient)</code>ï¼Œè¿˜æœ‰ <code>.shadow</code> ç”¨æ¥åˆ›å»ºæŠ•å½± <code>Rectangle().fill(.red.shadow(.drop(color: .black, radius: 10)))</code>ï¼Œè¿˜æœ‰ <code>.inner</code> å†…é˜´å½±ã€‚<code>lineLimit()</code> modifier æ”¯æŒèŒƒå›´è®¾ç½®ã€‚è¿˜æœ‰ä¸€äº› modifier æ”¯æŒ toggle å‚æ•°ï¼Œæ¯”å¦‚ <code>.bold()</code> å’Œ <code>.italic()</code> ç­‰ï¼Œè¿™æ ·åˆ©äºè¿è¡Œæ—¶è¿›è¡Œè°ƒæ•´ã€‚</p>
<p>åµŒå…¥ UIKit<br>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift">cell<span class="token punctuation">.</span>contentConfiguration <span class="token operator">=</span> <span class="token class-name">UIHostingConfiguration</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"wand.and.stars"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Like magic!"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token punctuation">.</span><span class="token function">foregroundStyle</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>purple<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é”å±çš„ Widget å’Œ WatchOS ä¸€æ ·ï¼Œå¯ä»¥çŸä¸€çœ¼å°±è·å–ä¿¡æ¯ã€‚</p>
<p>å®˜æ–¹æŒ‡å— <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/WidgetKit/Creating-lock-screen-widgets-and-watch-complications">Creating Lock Screen Widgets and Watch Complications</a></p>
<p>å¯ä»¥å°† SwiftUI çš„ View ç”Ÿæˆå›¾ç‰‡ã€‚</p>
<p>å®˜æ–¹å‚è€ƒæ–‡æ¡£ <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/imagerenderer">ImageRenderer</a></p>
<p>session <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-10142">Efficiency awaits: Background tasks in SwiftUI</a> äº†è§£å¦‚ä½•ä½¿ç”¨ SwiftUI åå°ä»»åŠ¡ API ç®€æ´åœ°å¤„ç†ä»»åŠ¡ã€‚å±•ç¤ºå¦‚ä½•ä½¿ç”¨ Swift Concurrency æ¥å¤„ç†ç½‘ç»œå“åº”ã€åå°åˆ·æ–°ç­‰â€”â€”åŒæ—¶ä¿æŒæ€§èƒ½å’ŒåŠŸç‡ã€‚</p>
<h4 id="SwiftUI-å‚è€ƒèµ„æ–™"><a href="#SwiftUI-å‚è€ƒèµ„æ–™" class="headerlink" title="SwiftUI å‚è€ƒèµ„æ–™"></a>SwiftUI å‚è€ƒèµ„æ–™</h4><ul>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/wwdc22/topics/swiftui-ui-frameworks/">WWDC22 SwiftUI å’Œ UI åº“ç›¸å…³ä¸“é¢˜</a></li>
<li>å®˜æ–¹æ•™ç¨‹ <a target="_blank" rel="noopener" href="https://developer.apple.com/tutorials/swiftui-concepts">Learnning SwiftUI</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/xcode/swiftui/">SwiftUI ä¸»é¢˜</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/swiftui-ui-frameworks">SwiftUI Session</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/SwiftUI">SwiftUI æ–‡æ¡£</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/tutorials/swiftui-concepts">Learning SwiftUI</a> ä¸€å¹´ä¸€åº¦å®˜æ–¹å…¥é—¨æ•™ç¨‹</li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/food_truck_building_a_swiftui_multiplatform_app">Food Truck: Building a SwiftUI multiplatform app</a> ä¸€å¥—ä»£ç é€‚é… Macã€iPad å’Œ iPhone çš„å®˜æ–¹ç¤ºä¾‹</li>
<li><a target="_blank" rel="noopener" href="https://redalemeden.com/collections/swiftui-2022/">Reda Lemeden æ•´ç†çš„ WWDC22 æ‰€æœ‰ SwiftUI ç›¸å…³å†…å®¹</a></li>
</ul>
<p>sessionï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-10052">Whatâ€™s new in SwiftUI</a></li>
</ul>
<p>ç¤¾åŒºæ•´ç†çš„å’Œ SwiftUI çš„ digital lounges å†…å®¹ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://onmyway133.com/posts/wwdc-swiftui-lounge/">WWDC swiftui-lounge</a></li>
<li><a target="_blank" rel="noopener" href="https://swiftui-lab.com/digital-lounges-2022/">ï£¿WWDC 2022: Lessons from the SwiftUI Digital Lounges</a> javier æ•´ç†çš„ï¼Œåšäº†è¯¦ç»†çš„åˆ†ç±»</li>
<li><a target="_blank" rel="noopener" href="https://midnight-beanie-ccb.notion.site/swiftui-lounge-wwdc22-e20094b91f074398ba395c3fa245e63d">#swiftui-lounge #wwdc22</a></li>
</ul>
<h3 id="è§†å›¾ç»„ä»¶ä½¿ç”¨"><a href="#è§†å›¾ç»„ä»¶ä½¿ç”¨" class="headerlink" title="è§†å›¾ç»„ä»¶ä½¿ç”¨"></a>è§†å›¾ç»„ä»¶ä½¿ç”¨</h3><h4 id="SwiftUI-å¯¹æ ‡çš„-UIKit-è§†å›¾"><a href="#SwiftUI-å¯¹æ ‡çš„-UIKit-è§†å›¾" class="headerlink" title="SwiftUI å¯¹æ ‡çš„ UIKit è§†å›¾"></a>SwiftUI å¯¹æ ‡çš„ UIKit è§†å›¾</h4><p>å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>SwiftUI</th>
<th>UIKit</th>
</tr>
</thead>
<tbody><tr>
<td>Text å’Œ Label</td>
<td>UILabel</td>
</tr>
<tr>
<td>TextField</td>
<td>UITextField</td>
</tr>
<tr>
<td>TextEditor</td>
<td>UITextView</td>
</tr>
<tr>
<td>Button å’Œ Link</td>
<td>UIButton</td>
</tr>
<tr>
<td>Image</td>
<td>UIImageView</td>
</tr>
<tr>
<td>NavigationView</td>
<td>UINavigationController å’Œ UISplitViewController</td>
</tr>
<tr>
<td>ToolbarItem</td>
<td>UINavigationItem</td>
</tr>
<tr>
<td>ScrollView</td>
<td>UIScrollView</td>
</tr>
<tr>
<td>List</td>
<td>UITableView</td>
</tr>
<tr>
<td>LazyVGrid å’Œ LazyHGrid</td>
<td>UICollectionView</td>
</tr>
<tr>
<td>HStack å’Œ LazyHStack</td>
<td>UIStack</td>
</tr>
<tr>
<td>VStack å’Œ LazyVStack</td>
<td>UIStack</td>
</tr>
<tr>
<td>TabView</td>
<td>UITabBarController å’Œ UIPageViewController</td>
</tr>
<tr>
<td>Toggle</td>
<td>UISwitch</td>
</tr>
<tr>
<td>Slider</td>
<td>UISlider</td>
</tr>
<tr>
<td>Stepper</td>
<td>UIStepper</td>
</tr>
<tr>
<td>ProgressView</td>
<td>UIProgressView å’Œ UIActivityIndicatorView</td>
</tr>
<tr>
<td>Picker</td>
<td>UISegmentedControl</td>
</tr>
<tr>
<td>DatePicker</td>
<td>UIDatePicker</td>
</tr>
<tr>
<td>Alert</td>
<td>UIAlertController</td>
</tr>
<tr>
<td>ActionSheet</td>
<td>UIAlertController</td>
</tr>
<tr>
<td>Map</td>
<td>MapKit</td>
</tr>
</tbody></table>
<h4 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h4><p>åŸºæœ¬ç”¨æ³•</p>
<p><img src="https://user-images.githubusercontent.com/251980/154473546-94ba6f9f-2ce3-44ef-a7c6-60d86df8c90f.png"></p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// MARK: - Text</span>
<span class="token keyword">struct</span> <span class="token class-name">PlayTextView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> manyString <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"è¿™æ˜¯ä¸€æ®µé•¿æ–‡ã€‚æ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆï¼Œæ€»å¾—è¯´ç‚¹ä»€ä¹ˆå§ã€‚"</span></span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ScrollView</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Group</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å¤§æ ‡é¢˜"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¯´ç‚¹å•¥å‘¢ï¼Ÿ"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">tracking</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment">// å­—é—´è·</span>
                    <span class="token punctuation">.</span><span class="token function">kerning</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment">// å°¾éƒ¨ç•™ç™½</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"åˆ’é‡ç‚¹"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">underline</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>yellow<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">fontWeight</span><span class="token punctuation">(</span><span class="token punctuation">.</span>heavy<span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å¯æ—‹è½¬çš„æ–‡å­—"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">rotationEffect</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">degrees</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">fixedSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è‡ªå®šä¹‰ç³»ç»Ÿå­—ä½“å¤§å°"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä½¿ç”¨æŒ‡å®šçš„å­—ä½“"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">custom</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Georgia"</span></span><span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">Group</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æœ‰é˜´å½±"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>orange<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">italic</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Gradient Background"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>gradient<span class="token punctuation">:</span> <span class="token class-name">Gradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> <span class="token punctuation">.</span>red<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>top<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottom<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">cornerRadius</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Gradient Background"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>gradient<span class="token punctuation">:</span> <span class="token class-name">Gradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> <span class="token punctuation">.</span>purple<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>leading<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>trailing<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">cornerRadius</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                <span class="token class-name">ZStack</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ¸å˜é€æ˜æè´¨é£æ ¼"</span></span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>
                            <span class="token punctuation">.</span>regularMaterial<span class="token punctuation">,</span>
                            <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">.</span>continuous<span class="token punctuation">)</span>
                        <span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
                <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>
                    <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>yellow<span class="token punctuation">,</span> <span class="token punctuation">.</span>pink<span class="token punctuation">]</span><span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottomTrailing<span class="token punctuation">)</span>
                <span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Angular Gradient Background"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token class-name">AngularGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span> <span class="token punctuation">.</span>yellow<span class="token punctuation">,</span> <span class="token punctuation">.</span>green<span class="token punctuation">,</span> <span class="token punctuation">.</span>blue<span class="token punctuation">,</span> <span class="token punctuation">.</span>purple<span class="token punctuation">,</span> <span class="token punctuation">.</span>red<span class="token punctuation">]</span><span class="token punctuation">,</span> center<span class="token punctuation">:</span> <span class="token punctuation">.</span>center<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">cornerRadius</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å¸¦èƒŒæ™¯å›¾ç‰‡çš„"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>background <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">cornerRadius</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                        <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"logo"</span></span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>

            <span class="token class-name">Group</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">// è®¾ç½® lineLimit è¡¨ç¤ºæœ€å¤šæ”¯æŒè¡Œæ•°ï¼Œä¾æ®æƒ…å†µä¾ç„¶æœ‰ä¼šè¢«å‡å°‘æ˜¾ç¤ºè¡Œæ•°</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span>manyString<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">lineLimit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// å¯¹è¡Œçš„é™åˆ¶ï¼Œå¦‚æœå¤šä½™è®¾å®šè¡Œæ•°ï¼Œå°¾éƒ¨ä¼šæ˜¾ç¤º...</span>
                    <span class="token punctuation">.</span><span class="token function">lineSpacing</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// è¡Œé—´è·</span>
                    <span class="token punctuation">.</span><span class="token function">multilineTextAlignment</span><span class="token punctuation">(</span><span class="token punctuation">.</span>leading<span class="token punctuation">)</span> <span class="token comment">// å¯¹é½</span>
                
                <span class="token comment">// ä½¿ç”¨ fixedSize å°±å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å®Œæ•´æ˜¾ç¤º</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span>manyString<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">fixedSize</span><span class="token punctuation">(</span>horizontal<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> vertical<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
                
            <span class="token punctuation">&#125;</span>
            
            <span class="token comment">// ä½¿ç”¨ AttributeString</span>
            <span class="token class-name">PTextViewAttribute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment">// ä½¿ç”¨ Markdown</span>
            <span class="token class-name">PTextViewMarkdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token comment">// æ—¶é—´</span>
            <span class="token class-name">PTextViewDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token comment">// æ’å€¼</span>
            <span class="token class-name">PTextViewInterpolation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>font å­—ä½“è®¾ç½®çš„æ ·å¼å¯¹åº” weight å’Œ size å¯ä»¥åœ¨å®˜æ–¹äº¤äº’æ–‡æ¡£ä¸­æŸ¥çœ‹ <a target="_blank" rel="noopener" href="https://developer.apple.com/design/human-interface-guidelines/ios/visual-design/typography/#dynamic-type-sizes">Typography</a></p>
<p>markdown ä½¿ç”¨</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// MARK: - Markdown</span>
<span class="token keyword">struct</span> <span class="token class-name">PTextViewMarkdown</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> mdaStr<span class="token punctuation">:</span> <span class="token class-name">AttributedString</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        
        <span class="token keyword">var</span> mda <span class="token operator">=</span> <span class="token class-name">AttributedString</span><span class="token punctuation">(</span>localized<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"è¿™æ˜¯ä¸€ä¸ª **Attribute** ~string~"</span></span><span class="token punctuation">)</span>
        
        <span class="token comment">/// è‡ªå®šä¹‰çš„å±æ€§è¯­æ³•æ˜¯^[string](keyï¼švalue)</span>
        mda <span class="token operator">=</span> <span class="token class-name">AttributedString</span><span class="token punctuation">(</span>localized<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"^[è¿™æ˜¯](p2:'one')^[ä¸€](p3:&#123;k1:1,k2:2&#125;)ä¸ª **Attribute** ~string~"</span></span><span class="token punctuation">,</span> including<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>newScope<span class="token punctuation">)</span>
        <span class="token function">print</span><span class="token punctuation">(</span>mda<span class="token punctuation">)</span>
        <span class="token comment">/// è¿™æ˜¯ &#123;</span>
        <span class="token comment">///     NSLanguage = en</span>
        <span class="token comment">///     p2 = one</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">/// ä¸€ &#123;</span>
        <span class="token comment">///     NSLanguage = en</span>
        <span class="token comment">///     p3 = P3(k1: 1, k2: 2)</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">/// ä¸ª  &#123;</span>
        <span class="token comment">///     NSLanguage = en</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">/// Attribute &#123;</span>
        <span class="token comment">///     NSLanguage = en</span>
        <span class="token comment">///     NSInlinePresentationIntent = NSInlinePresentationIntent(rawValue: 2)</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">///   &#123;</span>
        <span class="token comment">///     NSLanguage = en</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">/// string &#123;</span>
        <span class="token comment">///     NSInlinePresentationIntent = NSInlinePresentationIntent(rawValue: 32)</span>
        <span class="token comment">///     NSLanguage = en</span>
        <span class="token comment">/// &#125;</span>
        
        <span class="token comment">// ä»æ–‡ä»¶ä¸­è¯»å– Markdown å†…å®¹</span>
        <span class="token keyword">let</span> mdUrl <span class="token operator">=</span> <span class="token class-name">Bundle</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span>forResource<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">,</span> withExtension<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"md"</span></span><span class="token punctuation">)</span><span class="token operator">!</span>
        mda <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">!</span> <span class="token class-name">AttributedString</span><span class="token punctuation">(</span>contentsOf<span class="token punctuation">:</span> mdUrl<span class="token punctuation">,</span>options<span class="token punctuation">:</span> <span class="token class-name">AttributedString</span><span class="token punctuation">.</span><span class="token class-name">MarkdownParsingOptions</span><span class="token punctuation">(</span>interpretedSyntax<span class="token punctuation">:</span> <span class="token punctuation">.</span>inlineOnlyPreservingWhitespace<span class="token punctuation">)</span><span class="token punctuation">,</span> baseURL<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span> <span class="token comment">// .inlineOnlyPreservingWhitespace æ”¯æŒ markdown æ–‡ä»¶çš„æ¢è¡Œ</span>
                
        <span class="token comment">// Markdown å·²è½¬æ¢æˆ AtrributedString ç»“æ„ã€‚</span>
        <span class="token keyword">for</span> r <span class="token keyword">in</span> mda<span class="token punctuation">.</span>runs <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> <span class="token keyword">let</span> ipi <span class="token operator">=</span> r<span class="token punctuation">.</span>inlinePresentationIntent <span class="token punctuation">&#123;</span>
                <span class="token keyword">switch</span> ipi <span class="token punctuation">&#123;</span>
                <span class="token keyword">case</span> <span class="token punctuation">.</span>lineBreak<span class="token punctuation">:</span>
                    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"paragrahp"</span></span><span class="token punctuation">)</span>
                <span class="token keyword">case</span> <span class="token punctuation">.</span>code<span class="token punctuation">:</span>
                    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"this is code"</span></span><span class="token punctuation">)</span>
                <span class="token keyword">default</span><span class="token punctuation">:</span>
                    <span class="token keyword">break</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">if</span> <span class="token keyword">let</span> pi <span class="token operator">=</span> r<span class="token punctuation">.</span>presentationIntent <span class="token punctuation">&#123;</span>
                <span class="token keyword">for</span> c <span class="token keyword">in</span> pi<span class="token punctuation">.</span>components <span class="token punctuation">&#123;</span>
                    <span class="token keyword">switch</span> c<span class="token punctuation">.</span>kind <span class="token punctuation">&#123;</span>
                    <span class="token keyword">case</span> <span class="token punctuation">.</span>paragraph<span class="token punctuation">:</span>
                        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"this is paragraph"</span></span><span class="token punctuation">)</span>
                    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">codeBlock</span><span class="token punctuation">(</span><span class="token keyword">let</span> lang<span class="token punctuation">)</span><span class="token punctuation">:</span>
                        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"this is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">lang <span class="token operator">??</span> <span class="token string-literal"><span class="token string">""</span></span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> code"</span></span><span class="token punctuation">)</span>
                    <span class="token keyword">case</span> <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token keyword">let</span> level<span class="token punctuation">)</span><span class="token punctuation">:</span>
                        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"this is </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">level</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> level"</span></span><span class="token punctuation">)</span>
                    <span class="token keyword">default</span><span class="token punctuation">:</span>
                        <span class="token keyword">break</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        
        <span class="token keyword">return</span> mda
    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span>mdaStr<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>AttributedString çš„ä½¿ç”¨</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// MARK: - AttributedString</span>
<span class="token keyword">struct</span> <span class="token class-name">PTextViewAttribute</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> aStr<span class="token punctuation">:</span> <span class="token class-name">AttributedString</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> a1 <span class="token operator">=</span> <span class="token class-name">AttributedString</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¿™æ˜¯ä¸€ä¸ª "</span></span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> c1 <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        c1<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token punctuation">.</span>footnote
        c1<span class="token punctuation">.</span>foregroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>secondary
        a1<span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>c1<span class="token punctuation">)</span>
        
        <span class="token keyword">var</span> a2 <span class="token operator">=</span> <span class="token class-name">AttributedString</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Attribute "</span></span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> c2 <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        c2<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token punctuation">.</span>title
        a2<span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span>
        
        <span class="token keyword">var</span> a3 <span class="token operator">=</span> <span class="token class-name">AttributedString</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"String "</span></span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> c3 <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        c3<span class="token punctuation">.</span>baselineOffset <span class="token operator">=</span> <span class="token number">10</span>
        c3<span class="token punctuation">.</span>appKit<span class="token punctuation">.</span>foregroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>yellow <span class="token comment">// ä»…åœ¨ macOS é‡Œæ˜¾ç¤ºçš„é¢œè‰²</span>
        c3<span class="token punctuation">.</span>swiftUI<span class="token punctuation">.</span>foregroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>secondary
        c3<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token punctuation">.</span>footnote
        a3<span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span>
        <span class="token comment">// a3 ä½¿ç”¨è‡ªå®šä¹‰å±æ€§</span>
        a3<span class="token punctuation">.</span>p1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"This is a custom property."</span></span>
        
        <span class="token comment">// formatter çš„æ”¯æŒ</span>
        <span class="token keyword">var</span> a4 <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span>now<span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span><span class="token punctuation">.</span>dateTime
                                        <span class="token punctuation">.</span><span class="token function">hour</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                                        <span class="token punctuation">.</span><span class="token function">minute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                                        <span class="token punctuation">.</span><span class="token function">weekday</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                                        <span class="token punctuation">.</span>attributed
        <span class="token punctuation">)</span>
        
        <span class="token keyword">let</span> c4AMPM <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dateField</span><span class="token punctuation">(</span><span class="token punctuation">.</span>amPM<span class="token punctuation">)</span>
        <span class="token keyword">let</span> c4AMPMColor <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>green<span class="token punctuation">)</span>
        
        a4<span class="token punctuation">.</span><span class="token function">replaceAttributes</span><span class="token punctuation">(</span>c4AMPM<span class="token punctuation">,</span> with<span class="token punctuation">:</span> c4AMPMColor<span class="token punctuation">)</span>
        <span class="token keyword">let</span> c4Week <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dateField</span><span class="token punctuation">(</span><span class="token punctuation">.</span>weekday<span class="token punctuation">)</span>
        <span class="token keyword">let</span> c4WeekColor <span class="token operator">=</span> <span class="token class-name">AttributeContainer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>purple<span class="token punctuation">)</span>
        a4<span class="token punctuation">.</span><span class="token function">replaceAttributes</span><span class="token punctuation">(</span>c4Week<span class="token punctuation">,</span> with<span class="token punctuation">:</span> c4WeekColor<span class="token punctuation">)</span>
        
        a1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
        a1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>
        a1<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>a4<span class="token punctuation">)</span>
        
        
        
        <span class="token comment">// Runs è§†å›¾</span>
        <span class="token keyword">for</span> r <span class="token keyword">in</span> a1<span class="token punctuation">.</span>runs <span class="token punctuation">&#123;</span>
            <span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">/// è¿™æ˜¯ä¸€ä¸ª  &#123;</span>
        <span class="token comment">///     SwiftUI.Font = Font(provider: SwiftUI.(unknown context at $7ff91d4a5e90).FontBox&lt;SwiftUI.Font.(unknown context at $7ff91d4ad5d8).TextStyleProvider>)</span>
        <span class="token comment">///     SwiftUI.ForegroundColor = secondary</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">/// Attribute  &#123;</span>
        <span class="token comment">///     SwiftUI.Font = Font(provider: SwiftUI.(unknown context at $7ff91d4a5e90).FontBox&lt;SwiftUI.Font.(unknown context at $7ff91d4ad5d8).TextStyleProvider>)</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">/// String  &#123;</span>
        <span class="token comment">///     SwiftUI.ForegroundColor = secondary</span>
        <span class="token comment">///     SwiftUI.BaselineOffset = 10.0</span>
        <span class="token comment">///     NSColor = sRGB IEC61966-2.1 colorspace 1 1 0 1</span>
        <span class="token comment">///     SwiftUI.Font = Font(provider: SwiftUI.(unknown context at $7ff91d4a5e90).FontBox&lt;SwiftUI.Font.(unknown context at $7ff91d4ad5d8).TextStyleProvider>)</span>
        <span class="token comment">///     p1 = This is a custom property.</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">/// Tue &#123;</span>
        <span class="token comment">///     SwiftUI.ForegroundColor = purple</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">///   &#123;</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">/// 5 &#123;</span>
        <span class="token comment">///     Foundation.DateFormatField = hour</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">/// : &#123;</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">/// 16 &#123;</span>
        <span class="token comment">///     Foundation.DateFormatField = minute</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">///   &#123;</span>
        <span class="token comment">/// &#125;</span>
        <span class="token comment">/// PM &#123;</span>
        <span class="token comment">///     SwiftUI.ForegroundColor = green</span>
        <span class="token comment">/// &#125;</span>
        
        <span class="token keyword">return</span> a1
    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span>aStr<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - è‡ªå®š AttributedString å±æ€§</span>
<span class="token keyword">struct</span> PAKP1<span class="token punctuation">:</span> <span class="token class-name">AttributedStringKey</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">typealias</span> <span class="token class-name">Value</span> <span class="token operator">=</span> <span class="token class-name">String</span>
    <span class="token keyword">static</span> <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"p1"</span></span>
    
    
<span class="token punctuation">&#125;</span>
<span class="token keyword">struct</span> PAKP2<span class="token punctuation">:</span> <span class="token class-name">CodableAttributedStringKey</span><span class="token punctuation">,</span> <span class="token class-name">MarkdownDecodableAttributedStringKey</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> P2<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Codable</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">static</span> <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"p2"</span></span>
    <span class="token keyword">typealias</span> <span class="token class-name">Value</span> <span class="token operator">=</span> P2
<span class="token punctuation">&#125;</span>
<span class="token keyword">struct</span> PAKP3<span class="token punctuation">:</span> <span class="token class-name">CodableAttributedStringKey</span><span class="token punctuation">,</span> <span class="token class-name">MarkdownDecodableAttributedStringKey</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">struct</span> P3<span class="token punctuation">:</span> <span class="token class-name">Codable</span><span class="token punctuation">,</span> <span class="token class-name">Hashable</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> k1<span class="token punctuation">:</span> <span class="token class-name">Int</span>
        <span class="token keyword">let</span> k2<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">typealias</span> <span class="token class-name">Value</span> <span class="token operator">=</span> P3
    <span class="token keyword">static</span> <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"p3"</span></span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">extension</span> <span class="token class-name">AttributeScopes</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">struct</span> <span class="token class-name">NewScope</span><span class="token punctuation">:</span> <span class="token class-name">AttributeScope</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> p1<span class="token punctuation">:</span> PAKP1
        <span class="token keyword">let</span> p2<span class="token punctuation">:</span> PAKP2
        <span class="token keyword">let</span> p3<span class="token punctuation">:</span> PAKP3
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">var</span> newScope<span class="token punctuation">:</span> <span class="token class-name">NewScope</span><span class="token punctuation">.</span><span class="token keyword">Type</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">NewScope</span><span class="token punctuation">.</span><span class="token keyword">self</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">extension</span> <span class="token class-name">AttributeDynamicLookup</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">subscript</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token operator">></span><span class="token punctuation">(</span>dynamicMember keyPath<span class="token punctuation">:</span><span class="token class-name">KeyPath</span><span class="token operator">&lt;</span><span class="token class-name">AttributeScopes</span><span class="token punctuation">.</span><span class="token class-name">NewScope</span><span class="token punctuation">,</span><span class="token class-name">T</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">T</span> <span class="token keyword">where</span> <span class="token class-name">T</span><span class="token punctuation">:</span><span class="token class-name">AttributedStringKey</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">[</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<p>æ—¶é—´çš„æ˜¾ç¤º</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// MARK: - æ—¶é—´</span>
<span class="token keyword">struct</span> <span class="token class-name">PDateTextView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> date<span class="token punctuation">:</span> <span class="token class-name">Date</span> <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> df<span class="token punctuation">:</span> <span class="token class-name">DateFormatter</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> df <span class="token operator">=</span> <span class="token class-name">DateFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        df<span class="token punctuation">.</span>dateStyle <span class="token operator">=</span> <span class="token punctuation">.</span>long
        df<span class="token punctuation">.</span>timeStyle <span class="token operator">=</span> <span class="token punctuation">.</span>short
        <span class="token keyword">return</span> df
    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> dv<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> df<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> date<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>dv<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>locale<span class="token punctuation">,</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"zh_cn"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ’å€¼ä½¿ç”¨</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token comment">// MARK: - æ’å€¼</span>
<span class="token keyword">struct</span> <span class="token class-name">PTextViewInterpolation</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> nf<span class="token punctuation">:</span> <span class="token class-name">NumberFormatter</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token class-name">NumberFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        f<span class="token punctuation">.</span>numberStyle <span class="token operator">=</span> <span class="token punctuation">.</span>currencyPlural
        <span class="token keyword">return</span> f
    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å›¾æ–‡ </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"sun.min"</span></span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ğŸ’° </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token number">999</span> <span class="token keyword">as</span> <span class="token class-name">NSNumber</span><span class="token punctuation">,</span> formatter<span class="token punctuation">:</span> nf</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>locale<span class="token punctuation">,</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"zh_cn"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ•°ç»„ï¼š </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">]</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"çº¢å­—ï¼š</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">red<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"å˜çº¢äº†"</span></span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">ï¼Œå¸¦å›¾æ ‡çš„å­—ï¼š</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">sun<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"å¤©æ™´"</span></span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// æ‰©å±• LocalizedStringKey.StringInterpolation è‡ªå®šä¹‰æ’å€¼</span>
<span class="token keyword">extension</span> <span class="token class-name">LocalizedStringKey</span><span class="token punctuation">.</span><span class="token class-name">StringInterpolation</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ç‰¹å®šç±»å‹å¤„ç†</span>
    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">appendInterpolation</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> value<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> s <span class="token keyword">in</span> value <span class="token punctuation">&#123;</span>
            <span class="token function">appendLiteral</span><span class="token punctuation">(</span>s <span class="token operator">+</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span>
            <span class="token function">appendInterpolation</span><span class="token punctuation">(</span><span class="token class-name">Text</span><span class="token punctuation">(</span>s <span class="token operator">+</span> <span class="token string-literal"><span class="token string">" "</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>secondary<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// å®ç°ä¸åŒæƒ…å†µå¤„ç†ï¼Œå¯ä»¥ç®€åŒ–è®¾ç½®ä¿®æ”¹å™¨è®¾ç½®</span>
    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">appendInterpolation</span><span class="token punctuation">(</span>red value<span class="token punctuation">:</span> <span class="token class-name">LocalizedStringKey</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">appendInterpolation</span><span class="token punctuation">(</span><span class="token class-name">Text</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">appendInterpolation</span><span class="token punctuation">(</span>sun value<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">appendInterpolation</span><span class="token punctuation">(</span><span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"sun.max.fill"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">appendLiteral</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h4><p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayLinkView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@Environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>openURL<span class="token punctuation">)</span> <span class="token keyword">var</span> openURL
    <span class="token keyword">var</span> aStr<span class="token punctuation">:</span> <span class="token class-name">AttributedString</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token class-name">AttributedString</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æˆ´é“­çš„åšå®¢"</span></span><span class="token punctuation">)</span>
        a<span class="token punctuation">.</span>link <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://ming1016.github.io/"</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> a
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// æ™®é€š</span>
            <span class="token class-name">Link</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å‰å¾€ www.starming.com"</span></span><span class="token punctuation">,</span> destination<span class="token punctuation">:</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"http://www.starming.com"</span></span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>borderedProminent<span class="token punctuation">)</span>
            <span class="token class-name">Link</span><span class="token punctuation">(</span>destination<span class="token punctuation">:</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://twitter.com/daiming_cn"</span></span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"My Twitter"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"message.circle.fill"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            
            <span class="token comment">// AttributedString é“¾æ¥</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>aStr<span class="token punctuation">)</span>
            
            <span class="token comment">// markdown é“¾æ¥</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"[Go Ming's GitHub](https://github.com/ming1016)"</span></span><span class="token punctuation">)</span>
            
            <span class="token comment">// æ§ä»¶ä½¿ç”¨ OpenURL</span>
            <span class="token class-name">Link</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å°å†Œå­æºç "</span></span><span class="token punctuation">,</span> destination<span class="token punctuation">:</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://github.com/KwaiAppTeam/SwiftPamphletApp"</span></span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>openURL<span class="token punctuation">,</span> <span class="token class-name">OpenURLAction</span> <span class="token punctuation">&#123;</span> url <span class="token keyword">in</span>
                    <span class="token keyword">return</span> <span class="token punctuation">.</span>systemAction
                    <span class="token comment">/// return .handled ä¸ä¼šè¿”å›ç³»ç»Ÿæ‰“å¼€æµè§ˆå™¨åŠ¨ä½œï¼Œåªä¼šå¤„ç† return å‰çš„äº‹ä»¶ã€‚</span>
                    <span class="token comment">/// .discard å’Œ .handled ç±»ä¼¼ã€‚</span>
                    <span class="token comment">/// .systemAction(URL(string: "https://www.anotherurl.com")) å¯ä»¥è¿”å›å¦å¤–ä¸€ä¸ª url æ¥æ›¿ä»£æŒ‡å®šçš„url</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
            
            <span class="token comment">// æ‰©å±• View åæ›´ç®€æ´çš„ä½¿ç”¨ OpenURL</span>
            <span class="token class-name">Link</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æˆ´é“­çš„å¾®åš"</span></span><span class="token punctuation">,</span> destination<span class="token punctuation">:</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://weibo.com/allstarming"</span></span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span>goOpenURL <span class="token punctuation">&#123;</span> url <span class="token keyword">in</span>
                    <span class="token function">print</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>absoluteString<span class="token punctuation">)</span>
                    <span class="token keyword">return</span> <span class="token punctuation">.</span>systemAction
                <span class="token punctuation">&#125;</span>
            
            <span class="token comment">// æ ¹æ®å†…å®¹è¿”å›ä¸åŒé“¾æ¥</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æˆ´é“­åšå®¢æœ‰å¥½å‡ ä¸ªï¼Œå­˜åœ¨[GitHub Page](github)ã€[è‡ªå»ºæœåŠ¡å™¨](starming)å’Œ[çŸ¥ä¹](zhihu)ä¸Š"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>openURL<span class="token punctuation">,</span> <span class="token class-name">OpenURLAction</span> <span class="token punctuation">&#123;</span> url <span class="token keyword">in</span>
                    <span class="token keyword">switch</span> url<span class="token punctuation">.</span>absoluteString <span class="token punctuation">&#123;</span>
                    <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">"github"</span></span><span class="token punctuation">:</span>
                        <span class="token keyword">return</span> <span class="token punctuation">.</span><span class="token function">systemAction</span><span class="token punctuation">(</span><span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://ming1016.github.io/"</span></span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span>
                    <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">"starming"</span></span><span class="token punctuation">:</span>
                        <span class="token keyword">return</span> <span class="token punctuation">.</span><span class="token function">systemAction</span><span class="token punctuation">(</span><span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"http://www.starming.com"</span></span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span>
                    <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">"zhihu"</span></span><span class="token punctuation">:</span>
                        <span class="token keyword">return</span> <span class="token punctuation">.</span><span class="token function">systemAction</span><span class="token punctuation">(</span><span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://www.zhihu.com/people/starming/posts"</span></span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span>
                    <span class="token keyword">default</span><span class="token punctuation">:</span>
                        <span class="token keyword">return</span> <span class="token punctuation">.</span>handled
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end VStack</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// View æ”¯æŒ openURL çš„èƒ½åŠ›</span>
    <span class="token keyword">func</span> <span class="token function-definition function">goUrl</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> url<span class="token punctuation">:</span> <span class="token constant">URL</span><span class="token punctuation">,</span> done<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token omit keyword">_</span> accepted<span class="token punctuation">:</span> <span class="token class-name">Bool</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">openURL</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> completion<span class="token punctuation">:</span> done<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä¸º View æ‰©å±•ä¸€ä¸ª OpenURL æ–¹æ³•</span>
<span class="token keyword">extension</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">goOpenURL</span><span class="token punctuation">(</span>done<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">OpenURLAction</span><span class="token punctuation">.</span><span class="token class-name">Result</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token function">environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>openURL<span class="token punctuation">,</span> <span class="token class-name">OpenURLAction</span><span class="token punctuation">(</span>handler<span class="token punctuation">:</span> done<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>View çš„ onOpenURL æ–¹æ³•å¯ä»¥å¤„ç† Universal Linksã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">V</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"hi"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span>onOpenURL <span class="token punctuation">&#123;</span> url <span class="token keyword">in</span>
            <span class="token function">print</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span>absoluteString<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Label"><a href="#Label" class="headerlink" title="Label"></a>Label</h4><p><img src="https://user-images.githubusercontent.com/251980/154474725-d696d50b-9da7-4a0d-808f-07894a9597cb.png"></p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayLabelView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">VStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸€ä¸ª Label"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"bolt.circle"</span></span><span class="token punctuation">)</span>
            
            <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"åªæ˜¾ç¤º icon"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"heart.fill"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">labelStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>iconOnly<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span>
            
            <span class="token comment">// è‡ªå»º Label</span>
            <span class="token class-name">Label</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è‡ªå»º Label"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>orange<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> icon<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p3"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">aspectRatio</span><span class="token punctuation">(</span>contentMode<span class="token punctuation">:</span> <span class="token punctuation">.</span>fit<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>

            
            <span class="token comment">// è‡ªå®šä¹‰ LabelStyle</span>
            <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æœ‰è¾¹æ¡†çš„ Label"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"b.square.fill"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">labelStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>border<span class="token punctuation">)</span>
            
            <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä»…æ ‡é¢˜æœ‰è¾¹æ¡†"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"text.bubble"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">labelStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>borderOnlyTitle<span class="token punctuation">)</span>
            
            <span class="token comment">// æ‰©å±•çš„ Label</span>
            <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ‰©å±•çš„ Label"</span></span><span class="token punctuation">,</span> originalSystemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"cloud.sun.bolt.fill"</span></span><span class="token punctuation">)</span>
            
        <span class="token punctuation">&#125;</span> <span class="token comment">// end VStack</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end body</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// å¯¹ Label åšæ‰©å±•</span>
<span class="token keyword">extension</span> <span class="token class-name">Label</span> <span class="token keyword">where</span> <span class="token class-name">Title</span> <span class="token operator">==</span> <span class="token class-name">Text</span><span class="token punctuation">,</span> <span class="token class-name">Icon</span> <span class="token operator">==</span> <span class="token class-name">Image</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> title<span class="token punctuation">:</span> <span class="token class-name">LocalizedStringKey</span><span class="token punctuation">,</span> originalSystemImage systemImageString<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token keyword">init</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> icon<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> systemImageString<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">renderingMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>original<span class="token punctuation">)</span> <span class="token comment">// è®© SFSymbol æ˜¾ç¤ºæœ¬èº«çš„é¢œè‰²</span>
        <span class="token punctuation">&#125;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// æ·»åŠ è‡ªå®šä¹‰ LabelStyleï¼Œç”¨æ¥åŠ ä¸Šè¾¹æ¡†</span>
<span class="token keyword">struct</span> <span class="token class-name">BorderLabelStyle</span><span class="token punctuation">:</span> <span class="token class-name">LabelStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">makeBody</span><span class="token punctuation">(</span>configuration<span class="token punctuation">:</span> <span class="token class-name">Configuration</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Label</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span><span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">.</span>purple<span class="token punctuation">,</span> lineWidth<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">labelStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>automatic<span class="token punctuation">)</span> <span class="token comment">// æ ·å¼æ“¦é™¤å™¨ï¼Œé˜²æ­¢æ ·å¼è¢« .iconOnlyã€.titleOnly è¿™æ ·çš„ LabelStyle æ“¦é™¤äº†æ ·å¼ã€‚</span>
                        
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">extension</span> <span class="token class-name">LabelStyle</span> <span class="token keyword">where</span> <span class="token keyword">Self</span> <span class="token operator">==</span> <span class="token class-name">BorderLabelStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">internal</span> <span class="token keyword">static</span> <span class="token keyword">var</span> border<span class="token punctuation">:</span> <span class="token class-name">BorderLabelStyle</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">BorderLabelStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// åªç»™æ ‡é¢˜åŠ è¾¹æ¡†</span>
<span class="token keyword">struct</span> <span class="token class-name">BorderOnlyTitleLabelStyle</span><span class="token punctuation">:</span> <span class="token class-name">LabelStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">makeBody</span><span class="token punctuation">(</span>configuration<span class="token punctuation">:</span> <span class="token class-name">Configuration</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
            configuration<span class="token punctuation">.</span>icon
            configuration<span class="token punctuation">.</span>title
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span><span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">.</span>pink<span class="token punctuation">,</span> lineWidth<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">labelStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>automatic<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">extension</span> <span class="token class-name">LabelStyle</span> <span class="token keyword">where</span> <span class="token keyword">Self</span> <span class="token operator">==</span> <span class="token class-name">BorderOnlyTitleLabelStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">internal</span> <span class="token keyword">static</span> <span class="token keyword">var</span> borderOnlyTitle<span class="token punctuation">:</span> <span class="token class-name">BorderOnlyTitleLabelStyle</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">BorderOnlyTitleLabelStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="TextEditor"><a href="#TextEditor" class="headerlink" title="TextEditor"></a>TextEditor</h4><p><img src="https://user-images.githubusercontent.com/251980/154667163-e906dfd4-074e-4c04-9c80-94af86df4ba6.png"></p>
<p>å¯¹åº”çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">SwiftUI</span>
<span class="token keyword">import</span> <span class="token class-name">CodeEditorView</span>

<span class="token keyword">struct</span> <span class="token class-name">PlayTextEditorView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// for TextEditor</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> txt<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"ä¸€æ®µå¯ç¼–è¾‘æ–‡å­—...\n"</span></span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> count<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">0</span>
    
    <span class="token comment">// for CodeEditorView</span>
    <span class="token attribute atrule">@Environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>colorScheme<span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token keyword">var</span> colorScheme<span class="token punctuation">:</span> <span class="token class-name">ColorScheme</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> codeMessages<span class="token punctuation">:</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">Located</span><span class="token operator">&lt;</span><span class="token class-name">Message</span><span class="token operator">>></span> <span class="token operator">=</span> <span class="token class-name">Set</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token attribute atrule">@SceneStorage</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"editLocation"</span></span><span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token keyword">var</span> editLocation<span class="token punctuation">:</span> <span class="token class-name">CodeEditor</span><span class="token punctuation">.</span><span class="token class-name">Location</span> <span class="token operator">=</span> <span class="token class-name">CodeEditor</span><span class="token punctuation">.</span><span class="token class-name">Location</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        
        <span class="token comment">// ä½¿ç”¨ SwiftUI è‡ªå¸¦ TextEditor</span>
        <span class="token class-name">TextEditor</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> $txt<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">lineSpacing</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">disableAutocorrection</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> txt<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> newValue <span class="token keyword">in</span>
                count <span class="token operator">=</span> txt<span class="token punctuation">.</span>count
            <span class="token punctuation">&#125;</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å­—æ•°ï¼š</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>secondary<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>footnote<span class="token punctuation">)</span>
        
        <span class="token comment">// ä½¿ç”¨çš„ CodeEditorView æ˜¾ç¤ºå’Œç¼–è¾‘ä»£ç é«˜äº®çš„ä»£ç ï¼Œè¿˜æœ‰ minimap</span>
        <span class="token class-name">CodeEditor</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">constant</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"""
static func number() &#123;
    // Int
    let i1 = 100
    let i2 = 22
    print(i1 / i2) // å‘ä¸‹å–æ•´å¾— 4

    // Float
    let f1: Float = 100.0
    let f2: Float = 22.0
    print(f1 / f2) // 4.5454545
    
    let f4: Float32 = 5.0
    let f5: Float64 = 5.0
    print(f4, f5) // 5.0 5.0 5.0

    // Double
    let d1: Double = 100.0
    let d2: Double = 22.0
    print(d1 / d2) // 4.545454545454546

    // å­—é¢é‡
    print(Int(0b10101)) // 0b å¼€å¤´æ˜¯äºŒè¿›åˆ¶
    print(Int(0x00afff)) // 0x å¼€å¤´æ˜¯åå…­è¿›åˆ¶
    print(2.5e4) // 2.5x10^4 åè¿›åˆ¶ç”¨ e
    print(0xAp2) // 10*2^2  åå…­è¿›åˆ¶ç”¨ p
    print(2_000_000) // 2000000
    
    // isMultiple(of:) æ–¹æ³•æ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¦æ˜¯å¦ä¸€ä¸ªæ•°å­—çš„å€æ•°
    let i3 = 36
    print(i3.isMultiple(of: 9)) // true
&#125;
"""</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   messages<span class="token punctuation">:</span> $codeMessages<span class="token punctuation">,</span>
                   language<span class="token punctuation">:</span> <span class="token punctuation">.</span>swift<span class="token punctuation">,</span>
                   layout<span class="token punctuation">:</span> <span class="token class-name">CodeEditor</span><span class="token punctuation">.</span><span class="token class-name">LayoutConfiguration</span><span class="token punctuation">(</span>showMinimap<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>codeEditorTheme<span class="token punctuation">,</span> colorScheme <span class="token operator">==</span> <span class="token punctuation">.</span>dark <span class="token operator">?</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span>defaultDark <span class="token punctuation">:</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span>defaultLight<span class="token punctuation">)</span>
        
        <span class="token comment">// åŒ…è£…çš„ NSTextView</span>
        <span class="token class-name">HSplitView</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">PNSTextView</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">constant</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å·¦è¾¹å†™...\n"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> onDidChange<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token keyword">in</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Typing </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> times."</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token class-name">PNSTextView</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">constant</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å³è¾¹å†™...\n"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end HSplitView</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end body</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - è‡ªå·±åŒ…è£… NSTextView</span>
<span class="token keyword">struct</span> <span class="token class-name">PNSTextView</span><span class="token punctuation">:</span> <span class="token class-name">NSViewRepresentable</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@Binding</span> <span class="token keyword">var</span> text<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> onBeginEditing<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
    <span class="token keyword">var</span> onCommit<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
    <span class="token keyword">var</span> onDidChange<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span><span class="token punctuation">,</span><span class="token omit keyword">_</span>  <span class="token keyword">in</span> <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// è¿”å›è¦åŒ…è£…çš„ NSView</span>
    <span class="token keyword">func</span> <span class="token function-definition function">makeNSView</span><span class="token punctuation">(</span>context<span class="token punctuation">:</span> <span class="token class-name">Context</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">PNSTextConfiguredView</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token class-name">PNSTextConfiguredView</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> text<span class="token punctuation">)</span>
        t<span class="token punctuation">.</span>delegate <span class="token operator">=</span> context<span class="token punctuation">.</span>coordinator
        <span class="token keyword">return</span> t
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">updateNSView</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> view<span class="token punctuation">:</span> <span class="token class-name">PNSTextConfiguredView</span><span class="token punctuation">,</span> context<span class="token punctuation">:</span> <span class="token class-name">Context</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        view<span class="token punctuation">.</span>text <span class="token operator">=</span> text
        view<span class="token punctuation">.</span>selectedRanges <span class="token operator">=</span> context<span class="token punctuation">.</span>coordinator<span class="token punctuation">.</span>sRanges
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// å›è°ƒ</span>
    <span class="token keyword">func</span> <span class="token function-definition function">makeCoordinator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">TextViewDelegate</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">TextViewDelegate</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// å¤„ç† delegate å›è°ƒ</span>
<span class="token keyword">extension</span> <span class="token class-name">PNSTextView</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">class</span> <span class="token class-name">TextViewDelegate</span><span class="token punctuation">:</span> <span class="token class-name">NSObject</span><span class="token punctuation">,</span> <span class="token class-name">NSTextViewDelegate</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> tView<span class="token punctuation">:</span> <span class="token class-name">PNSTextView</span>
        <span class="token keyword">var</span> sRanges<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">NSValue</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">var</span> typeCount<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">0</span>
        
        <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> v<span class="token punctuation">:</span> <span class="token class-name">PNSTextView</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>tView <span class="token operator">=</span> v
        <span class="token punctuation">&#125;</span>
        <span class="token comment">// å¼€å§‹ç¼–è¾‘</span>
        <span class="token keyword">func</span> <span class="token function-definition function">textDidBeginEditing</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> notification<span class="token punctuation">:</span> <span class="token class-name">Notification</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">guard</span> <span class="token keyword">let</span> textView <span class="token operator">=</span> notification<span class="token punctuation">.</span>object <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">NSTextView</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>tView<span class="token punctuation">.</span>text <span class="token operator">=</span> textView<span class="token punctuation">.</span>string
            <span class="token keyword">self</span><span class="token punctuation">.</span>tView<span class="token punctuation">.</span><span class="token function">onBeginEditing</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">// æ¯æ¬¡æ•²å­—</span>
        <span class="token keyword">func</span> <span class="token function-definition function">textDidChange</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> notification<span class="token punctuation">:</span> <span class="token class-name">Notification</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">guard</span> <span class="token keyword">let</span> textView <span class="token operator">=</span> notification<span class="token punctuation">.</span>object <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">NSTextView</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span>
            <span class="token punctuation">&#125;</span>
            typeCount <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>tView<span class="token punctuation">.</span>text <span class="token operator">=</span> textView<span class="token punctuation">.</span>string
            <span class="token keyword">self</span><span class="token punctuation">.</span>sRanges <span class="token operator">=</span> textView<span class="token punctuation">.</span>selectedRanges
            <span class="token keyword">self</span><span class="token punctuation">.</span>tView<span class="token punctuation">.</span><span class="token function">onDidChange</span><span class="token punctuation">(</span>textView<span class="token punctuation">.</span>string<span class="token punctuation">,</span> typeCount<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token comment">// æäº¤</span>
        <span class="token keyword">func</span> <span class="token function-definition function">textDidEndEditing</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> notification<span class="token punctuation">:</span> <span class="token class-name">Notification</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">guard</span> <span class="token keyword">let</span> textView <span class="token operator">=</span> notification<span class="token punctuation">.</span>object <span class="token keyword">as</span><span class="token operator">?</span> <span class="token class-name">NSTextView</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">self</span><span class="token punctuation">.</span>tView<span class="token punctuation">.</span>text <span class="token operator">=</span> textView<span class="token punctuation">.</span>string
            <span class="token keyword">self</span><span class="token punctuation">.</span>tView<span class="token punctuation">.</span><span class="token function">onCommit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// é…ç½® NSTextView</span>
<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">PNSTextConfiguredView</span><span class="token punctuation">:</span> <span class="token class-name">NSView</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">weak</span> <span class="token keyword">var</span> delegate<span class="token punctuation">:</span> <span class="token class-name">NSTextViewDelegate</span><span class="token operator">?</span>
    
    <span class="token keyword">private</span> <span class="token keyword">lazy</span> <span class="token keyword">var</span> tv<span class="token punctuation">:</span> <span class="token class-name">NSTextView</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> contentSize <span class="token operator">=</span> sv<span class="token punctuation">.</span>contentSize
        <span class="token keyword">let</span> textStorage <span class="token operator">=</span> <span class="token class-name">NSTextStorage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token keyword">let</span> layoutManager <span class="token operator">=</span> <span class="token class-name">NSLayoutManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        textStorage<span class="token punctuation">.</span><span class="token function">addLayoutManager</span><span class="token punctuation">(</span>layoutManager<span class="token punctuation">)</span>
        
        <span class="token keyword">let</span> textContainer <span class="token operator">=</span> <span class="token class-name">NSTextContainer</span><span class="token punctuation">(</span>containerSize<span class="token punctuation">:</span> sv<span class="token punctuation">.</span>frame<span class="token punctuation">.</span>size<span class="token punctuation">)</span>
        textContainer<span class="token punctuation">.</span>widthTracksTextView <span class="token operator">=</span> <span class="token boolean">true</span>
        textContainer<span class="token punctuation">.</span>containerSize <span class="token operator">=</span> <span class="token class-name">NSSize</span><span class="token punctuation">(</span>
            width<span class="token punctuation">:</span> contentSize<span class="token punctuation">.</span>width<span class="token punctuation">,</span>
            height<span class="token punctuation">:</span> <span class="token class-name">CGFloat</span><span class="token punctuation">.</span>greatestFiniteMagnitude
        <span class="token punctuation">)</span>
        
        layoutManager<span class="token punctuation">.</span><span class="token function">addTextContainer</span><span class="token punctuation">(</span>textContainer<span class="token punctuation">)</span>
        
        <span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token class-name">NSTextView</span><span class="token punctuation">(</span>frame<span class="token punctuation">:</span> <span class="token punctuation">.</span>zero<span class="token punctuation">,</span> textContainer<span class="token punctuation">:</span> textContainer<span class="token punctuation">)</span>
        t<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>delegate
        t<span class="token punctuation">.</span>isEditable <span class="token operator">=</span> <span class="token boolean">true</span>
        t<span class="token punctuation">.</span>allowsUndo <span class="token operator">=</span> <span class="token boolean">true</span>
        
        t<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token function">systemFont</span><span class="token punctuation">(</span>ofSize<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">)</span>
        t<span class="token punctuation">.</span>textColor <span class="token operator">=</span> <span class="token class-name">NSColor</span><span class="token punctuation">.</span>labelColor
        t<span class="token punctuation">.</span>drawsBackground <span class="token operator">=</span> <span class="token boolean">true</span>
        t<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token class-name">NSColor</span><span class="token punctuation">.</span>textBackgroundColor
        
        t<span class="token punctuation">.</span>maxSize <span class="token operator">=</span> <span class="token class-name">NSSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token class-name">CGFloat</span><span class="token punctuation">.</span>greatestFiniteMagnitude<span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token class-name">CGFloat</span><span class="token punctuation">.</span>greatestFiniteMagnitude<span class="token punctuation">)</span>
        t<span class="token punctuation">.</span>minSize <span class="token operator">=</span> <span class="token class-name">NSSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> contentSize<span class="token punctuation">.</span>height<span class="token punctuation">)</span>
        t<span class="token punctuation">.</span>autoresizingMask <span class="token operator">=</span> <span class="token punctuation">.</span>width

        t<span class="token punctuation">.</span>isHorizontallyResizable <span class="token operator">=</span> <span class="token boolean">false</span>
        t<span class="token punctuation">.</span>isVerticallyResizable   <span class="token operator">=</span> <span class="token boolean">true</span>
        
        <span class="token keyword">return</span> t
    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">private</span> <span class="token keyword">lazy</span> <span class="token keyword">var</span> sv<span class="token punctuation">:</span> <span class="token class-name">NSScrollView</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token class-name">NSScrollView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        s<span class="token punctuation">.</span>drawsBackground <span class="token operator">=</span> <span class="token boolean">true</span>
        s<span class="token punctuation">.</span>borderType <span class="token operator">=</span> <span class="token punctuation">.</span>noBorder
        s<span class="token punctuation">.</span>hasVerticalScroller <span class="token operator">=</span> <span class="token boolean">true</span>
        s<span class="token punctuation">.</span>hasHorizontalRuler <span class="token operator">=</span> <span class="token boolean">false</span>
        s<span class="token punctuation">.</span>translatesAutoresizingMaskIntoConstraints <span class="token operator">=</span> <span class="token boolean">false</span>
        s<span class="token punctuation">.</span>autoresizingMask <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token punctuation">.</span>height<span class="token punctuation">]</span>
        <span class="token keyword">return</span> s
    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">var</span> text<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">didSet</span> <span class="token punctuation">&#123;</span>
            tv<span class="token punctuation">.</span>string <span class="token operator">=</span> text
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">var</span> selectedRanges<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">NSValue</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">didSet</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">guard</span> selectedRanges<span class="token punctuation">.</span>count <span class="token operator">></span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span>
            <span class="token punctuation">&#125;</span>
            tv<span class="token punctuation">.</span>selectedRanges <span class="token operator">=</span> selectedRanges
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">required</span> <span class="token keyword">init</span><span class="token operator">?</span><span class="token punctuation">(</span>coder<span class="token punctuation">:</span> <span class="token class-name">NSCoder</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">fatalError</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Error coder"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">init</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>text <span class="token operator">=</span> text
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>frame<span class="token punctuation">:</span> <span class="token punctuation">.</span>zero<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">viewWillDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewWillDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        sv<span class="token punctuation">.</span>translatesAutoresizingMaskIntoConstraints <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token function">addSubview</span><span class="token punctuation">(</span>sv<span class="token punctuation">)</span>
        <span class="token class-name">NSLayoutConstraint</span><span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            sv<span class="token punctuation">.</span>topAnchor<span class="token punctuation">.</span><span class="token function">constraint</span><span class="token punctuation">(</span>equalTo<span class="token punctuation">:</span> topAnchor<span class="token punctuation">)</span><span class="token punctuation">,</span>
            sv<span class="token punctuation">.</span>trailingAnchor<span class="token punctuation">.</span><span class="token function">constraint</span><span class="token punctuation">(</span>equalTo<span class="token punctuation">:</span> trailingAnchor<span class="token punctuation">)</span><span class="token punctuation">,</span>
            sv<span class="token punctuation">.</span>bottomAnchor<span class="token punctuation">.</span><span class="token function">constraint</span><span class="token punctuation">(</span>equalTo<span class="token punctuation">:</span> bottomAnchor<span class="token punctuation">)</span><span class="token punctuation">,</span>
            sv<span class="token punctuation">.</span>leadingAnchor<span class="token punctuation">.</span><span class="token function">constraint</span><span class="token punctuation">(</span>equalTo<span class="token punctuation">:</span> leadingAnchor<span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
        sv<span class="token punctuation">.</span>documentView <span class="token operator">=</span> tv
    <span class="token punctuation">&#125;</span> <span class="token comment">// end viewWillDraw</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>SwiftUI ä¸­ç”¨ NSViewï¼Œå¯ä»¥é€šè¿‡ NSViewRepresentable æ¥åŒ…è£…è§†å›¾ï¼Œè¿™ä¸ªåè®®ä¸»è¦æ˜¯å®ç° makeNSViewã€updateNSView å’Œ makeCoordinator ä¸‰ä¸ªæ–¹æ³•ã€‚makeNSView è¦æ±‚è¿”å›éœ€è¦åŒ…è£…çš„ NSViewã€‚æ¯å½“ SwiftUI çš„çŠ¶æ€å˜åŒ–æ—¶è§¦å‘ updateNSView æ–¹æ³•çš„è°ƒç”¨ã€‚ä¸ºäº†å®ç° NSView é‡Œçš„ delegate å’Œ SwiftUI é€šä¿¡ï¼Œå°±è¦ç”¨ makeCoordinator è¿”å›ä¸€ä¸ªç”¨äºå¤„ç† delegate çš„å®ä¾‹ã€‚</p>
<h4 id="TextField"><a href="#TextField" class="headerlink" title="TextField"></a>TextField</h4><p><img src="https://user-images.githubusercontent.com/251980/154916174-2e9b1bd8-992a-485e-803a-07da59d0c7e3.png"></p>
<p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayTextFieldView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Starming"</span></span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> showT <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isEditing <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">var</span> placeholder <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"è¾“å…¥äº›æ–‡å­—..."</span></span>
    
    <span class="token attribute atrule">@FocusState</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isFocus<span class="token punctuation">:</span> <span class="token class-name">Bool</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">TextField</span><span class="token punctuation">(</span>placeholder<span class="token punctuation">,</span> text<span class="token punctuation">:</span> $t<span class="token punctuation">)</span>
            
            <span class="token comment">// æ ·å¼è®¾ç½®</span>
            <span class="token class-name">TextField</span><span class="token punctuation">(</span>placeholder<span class="token punctuation">,</span> text<span class="token punctuation">:</span> $t<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">textFieldStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>roundedBorder<span class="token punctuation">)</span> <span class="token comment">// textFieldStyle æœ‰ä¸‰ä¸ªé¢„ç½®å€¼ automaticã€plain å’Œ roundedBorderã€‚</span>
                <span class="token punctuation">.</span><span class="token function">multilineTextAlignment</span><span class="token punctuation">(</span><span class="token punctuation">.</span>leading<span class="token punctuation">)</span> <span class="token comment">// å¯¹é½æ–¹å¼</span>
                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span> weight<span class="token punctuation">:</span> <span class="token punctuation">.</span>heavy<span class="token punctuation">,</span> design<span class="token punctuation">:</span> <span class="token punctuation">.</span>rounded<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>teal<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>brown<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">textCase</span><span class="token punctuation">(</span><span class="token punctuation">.</span>uppercase<span class="token punctuation">)</span>

            <span class="token comment">// å¤šè§†å›¾ç»„åˆ</span>
            <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"lock.circle"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>gray<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span>
                <span class="token class-name">TextField</span><span class="token punctuation">(</span>placeholder<span class="token punctuation">,</span> text<span class="token punctuation">:</span> $t<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">textFieldStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>plain<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">submitLabel</span><span class="token punctuation">(</span><span class="token punctuation">.</span>done<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>onSubmit <span class="token punctuation">&#123;</span>
                        showT <span class="token operator">=</span> t
                        isFocus <span class="token operator">=</span> <span class="token boolean">true</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> newValue <span class="token keyword">in</span>
                        t <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">(</span>newValue<span class="token punctuation">.</span><span class="token keyword">prefix</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// é™åˆ¶å­—æ•°</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"eye.slash"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>gray<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span>
                <span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">.</span>gray<span class="token punctuation">,</span> lineWidth<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">)</span>

            <span class="token class-name">Text</span><span class="token punctuation">(</span>showT<span class="token punctuation">)</span>


            <span class="token comment">// è‡ªå®šä¹‰ textFieldStyle æ ·å¼</span>
            <span class="token class-name">TextField</span><span class="token punctuation">(</span>placeholder<span class="token punctuation">,</span> text<span class="token punctuation">:</span> $t<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">textFieldStyle</span><span class="token punctuation">(</span><span class="token class-name">PClearTextStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">focused</span><span class="token punctuation">(</span>$isFocus<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end body</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">PClearTextStyle</span><span class="token punctuation">:</span> <span class="token class-name">TextFieldStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@ViewBuilder</span>
    <span class="token keyword">func</span> <span class="token function-definition function">_body</span><span class="token punctuation">(</span>configuration<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token operator">&lt;</span>_Label<span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> mirror <span class="token operator">=</span> <span class="token class-name">Mirror</span><span class="token punctuation">(</span>reflecting<span class="token punctuation">:</span> configuration<span class="token punctuation">)</span>
        <span class="token keyword">let</span> bindingText<span class="token punctuation">:</span> <span class="token class-name">Binding</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token operator">></span> <span class="token operator">=</span> mirror<span class="token punctuation">.</span><span class="token function">descendant</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"_text"</span></span><span class="token punctuation">)</span> <span class="token keyword">as</span><span class="token operator">!</span> <span class="token class-name">Binding</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token operator">></span>
        configuration
            <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>trailing<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Button</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                    bindingText<span class="token punctuation">.</span>wrappedValue <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"clear"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        
        <span class="token keyword">let</span> text<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> mirror<span class="token punctuation">.</span><span class="token function">descendant</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"_text"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"_value"</span></span><span class="token punctuation">)</span> <span class="token keyword">as</span><span class="token operator">!</span> <span class="token class-name">String</span>
        configuration
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>
                <span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">strokeBorder</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span>count <span class="token operator">></span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token punctuation">.</span>pink <span class="token punctuation">:</span> <span class="token punctuation">.</span>gray<span class="token punctuation">,</span> lineWidth<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end func</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç›®å‰iOS å’Œ iPadOSä¸Šæ”¯æŒçš„é”®ç›˜æœ‰ï¼š</p>
<ul>
<li>asciiCapableï¼šèƒ½æ˜¾ç¤ºæ ‡å‡† ASCII å­—ç¬¦çš„é”®ç›˜</li>
<li>asciiCapableNumberPadï¼šåªè¾“å‡º ASCII æ•°å­—çš„æ•°å­—é”®ç›˜</li>
<li>numberPadï¼šç”¨äºè¾“å…¥ PIN ç çš„æ•°å­—é”®ç›˜</li>
<li>numbersAndPunctuationï¼šæ•°å­—å’Œæ ‡ç‚¹ç¬¦å·çš„é”®ç›˜</li>
<li>decimalPadï¼šå¸¦æœ‰æ•°å­—å’Œå°æ•°ç‚¹çš„é”®ç›˜</li>
<li>phonePadï¼šç”µè¯ä¸­ä½¿ç”¨çš„é”®ç›˜</li>
<li>namePhonePadï¼šç”¨äºè¾“å…¥äººåæˆ–ç”µè¯å·ç çš„å°é”®ç›˜</li>
<li>URLï¼šç”¨äºè¾“å…¥URLçš„é”®ç›˜</li>
<li>emailAddressï¼šç”¨äºè¾“å…¥ç”µå­é‚®ä»¶åœ°å€çš„é”®ç›˜</li>
<li>twitterï¼šç”¨äºTwitteræ–‡æœ¬è¾“å…¥çš„é”®ç›˜ï¼Œæ”¯æŒ@å’Œ#å­—ç¬¦ç®€ä¾¿è¾“å…¥</li>
<li>webSearchï¼šç”¨äºç½‘ç»œæœç´¢è¯å’ŒURLè¾“å…¥çš„é”®ç›˜</li>
</ul>
<p>å¯ä»¥é€šè¿‡ keyboardType ä¿®æ”¹å™¨æ¥æŒ‡å®šã€‚</p>
<p>æ”¯æŒå¤šè¡Œï¼Œä½¿ç”¨ Axis.vertical ä»¥å…è®¸å¤šè¡Œã€‚TextField è¶…è¿‡è¡Œé™åˆ¶å¯ä»¥å˜æˆæ»šåŠ¨è§†å›¾ã€‚</p>
<p>ä»Šå¹´ TextField å¯ä»¥åµŒåˆ° <code>.alert</code> é‡Œäº†ã€‚</p>
<h4 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h4><p><img src="https://user-images.githubusercontent.com/251980/155062538-108a79b4-3e5c-417b-867a-3f7e58316664.png"></p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayButtonView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> asyncAction<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">-></span> <span class="token class-name">Void</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span> <span class="token keyword">await</span> <span class="token class-name">Task</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span>nanoseconds<span class="token punctuation">:</span> <span class="token number">300_000_000</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isFollowed<span class="token punctuation">:</span> <span class="token class-name">Bool</span> <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// å¸¸ç”¨æ–¹å¼</span>
            <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Clicked"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"ladybug.fill"</span></span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Report Bug"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>

            <span class="token comment">// å›¾æ ‡</span>
            <span class="token class-name">Button</span><span class="token punctuation">(</span>systemIconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"ladybug.fill"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"bug"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>plain<span class="token punctuation">)</span> <span class="token comment">// æ— èƒŒæ™¯</span>
            <span class="token punctuation">.</span><span class="token function">simultaneousGesture</span><span class="token punctuation">(</span><span class="token class-name">LongPressGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onEnded</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é•¿æŒ‰"</span></span><span class="token punctuation">)</span> <span class="token comment">// macOS æš‚ä¸æ”¯æŒ</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">simultaneousGesture</span><span class="token punctuation">(</span><span class="token class-name">TapGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onEnded</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"çŸ­æŒ‰"</span></span><span class="token punctuation">)</span> <span class="token comment">// macOS æš‚ä¸æ”¯æŒ</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            
            
            <span class="token comment">// iOS 15 ä¿®æ”¹å™¨çš„ä½¿ç”¨ã€‚role åœ¨ macOS ä¸Šæš‚ä¸æ”¯æŒ</span>
            <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¦åˆ é™¤äº†"</span></span><span class="token punctuation">,</span> role<span class="token punctuation">:</span> <span class="token punctuation">.</span>destructive<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"åˆ é™¤"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">tint</span><span class="token punctuation">(</span><span class="token punctuation">.</span>purple<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">controlSize</span><span class="token punctuation">(</span><span class="token punctuation">.</span>large<span class="token punctuation">)</span> <span class="token comment">// .regular æ˜¯é»˜è®¤å¤§å°</span>
            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>borderedProminent<span class="token punctuation">)</span> <span class="token comment">// borderedProminent å¯æ˜¾ç¤º tint çš„è®¾ç½®ã€‚è¿˜æœ‰ borderedã€plain å’Œ borderless å¯é€‰ã€‚</span>
            <span class="token punctuation">.</span><span class="token function">clipShape</span><span class="token punctuation">(</span><span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">accentColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>pink<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">buttonBorderShape</span><span class="token punctuation">(</span><span class="token punctuation">.</span>automatic<span class="token punctuation">)</span> <span class="token comment">// ä¼šä¾æ® controlSize è°ƒæ•´è¾¹æ¡†æ ·å¼</span>
            <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>ultraThinMaterial<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token class-name">Capsule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// æ·»åŠ æè´¨å°±åƒåœ¨è§†å›¾å’ŒèƒŒæ™¯é—´åŠ äº†ä¸ªé€æ˜å±‚è¾¾åˆ°æ¨¡ç³Šçš„æ•ˆæœã€‚æ•ˆæœç”±é«˜åˆ°åº•åˆ†åˆ«æ˜¯.ultraThinMaterialã€.thinMaterialã€.regularMaterialã€.thickMaterialã€.ultraThickMaterialã€‚</span>
            
            <span class="token comment">// é£æ ¼åŒ–</span>
            <span class="token class-name">Button</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">//</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é£æ ¼åŒ–"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token class-name">PStarmingButtonStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            
            
            <span class="token comment">// è‡ªå®šä¹‰ Button</span>
            <span class="token class-name">PCustomButton</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç‚¹ä¸€ä¸‹è§¦å‘"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Clicked!"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            
            <span class="token comment">// è‡ªå®šä¹‰ ButtonStyle</span>
            <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Double Clicked!"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç‚¹ä¸¤ä¸‹è§¦å‘"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token class-name">PCustomPrimitiveButtonStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

            <span class="token comment">// å°† Text è§†å›¾åŠ ä¸Šå¦ä¸€ä¸ª Text è§†å›¾ä¸­ï¼Œç±»å‹ä»è¿˜æ˜¯ Textã€‚</span>
            <span class="token class-name">PCustomButton</span><span class="token punctuation">(</span><span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç‚¹æˆ‘ "</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">underline</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"åˆ«çŠ¹è±«"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ğŸ¤«æ‚„æ‚„è¯´å£°ï¼Œæœ‰æƒŠå–œ"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>footnote<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>secondary<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å¤š Text ç»„åˆæ ‡é¢˜æŒ‰é’®ç‚¹å‡»ï¼"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            
            <span class="token comment">// å¼‚æ­¥æŒ‰é’®</span>
            <span class="token class-name">ButtonAsync</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">await</span> <span class="token function">asyncAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                isFollowed <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">if</span> isFollowed <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å·²å…³æ³¨"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å…³æ³¨"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">disabled</span><span class="token punctuation">(</span>isFollowed<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token class-name">PCustomButtonStyle</span><span class="token punctuation">(</span>backgroundColor<span class="token punctuation">:</span> isFollowed <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token operator">?</span> <span class="token punctuation">.</span>gray <span class="token punctuation">:</span> <span class="token punctuation">.</span>pink<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>skeumorphismBG<span class="token punctuation">)</span>
        
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - å¼‚æ­¥æ“ä½œçš„æŒ‰é’®</span>
<span class="token keyword">struct</span> <span class="token class-name">ButtonAsync</span><span class="token operator">&lt;</span><span class="token class-name">Label</span><span class="token punctuation">:</span> <span class="token class-name">View</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> doAsync<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">-></span> <span class="token class-name">Void</span>
    <span class="token attribute atrule">@ViewBuilder</span> <span class="token keyword">var</span> label<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Label</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isRunning <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">// é¿å…è¿ç»­ç‚¹å‡»é€ æˆé‡å¤æ‰§è¡Œäº‹ä»¶</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
            isRunning <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token class-name">Task</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">await</span> <span class="token function">doAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                isRunning <span class="token operator">=</span> <span class="token boolean">false</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token function">label</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span>isRunning <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> isRunning <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">ProgressView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">disabled</span><span class="token punctuation">(</span>isRunning<span class="token punctuation">)</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - æ‰©å±• Button</span>
<span class="token comment">// ä½¿ç”¨ SFSymbol åšå›¾æ ‡</span>
<span class="token keyword">extension</span> <span class="token class-name">Button</span> <span class="token keyword">where</span> <span class="token class-name">Label</span> <span class="token operator">==</span> <span class="token class-name">Image</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>systemIconName<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> done<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> done<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> systemIconName<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">renderingMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>original<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - è‡ªå®šä¹‰ Button</span>
<span class="token keyword">struct</span> <span class="token class-name">PCustomButton</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> desTextView<span class="token punctuation">:</span> <span class="token class-name">Text</span>
    <span class="token keyword">let</span> act<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span>
    
    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> des<span class="token punctuation">:</span> <span class="token class-name">LocalizedStringKey</span><span class="token punctuation">,</span> act<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>desTextView <span class="token operator">=</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>des<span class="token punctuation">)</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>act <span class="token operator">=</span> act
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
            <span class="token function">act</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            desTextView<span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>starming<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">extension</span> <span class="token class-name">PCustomButton</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> desTextView<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">,</span> act<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>desTextView <span class="token operator">=</span> desTextView
        <span class="token keyword">self</span><span class="token punctuation">.</span>act <span class="token operator">=</span> act
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ç‚¹è¯­æ³•ä½¿ç”¨è‡ªå®šä¹‰æ ·å¼</span>
<span class="token keyword">extension</span> <span class="token class-name">ButtonStyle</span> <span class="token keyword">where</span> <span class="token keyword">Self</span> <span class="token operator">==</span> <span class="token class-name">PCustomButtonStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">var</span> starming<span class="token punctuation">:</span> <span class="token class-name">PCustomButtonStyle</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">PCustomButtonStyle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>


<span class="token comment">// MARK: - ButtonStyle</span>
<span class="token keyword">struct</span> <span class="token class-name">PCustomButtonStyle</span><span class="token punctuation">:</span> <span class="token class-name">ButtonStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> cornerRadius<span class="token punctuation">:</span><span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">var</span> backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Color</span> <span class="token operator">=</span> <span class="token punctuation">.</span>pink
    <span class="token keyword">func</span> <span class="token function-definition function">makeBody</span><span class="token punctuation">(</span>configuration<span class="token punctuation">:</span> <span class="token class-name">Configuration</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            configuration<span class="token punctuation">.</span>label
            <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>
            <span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> cornerRadius<span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">.</span>continuous<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>backgroundColor<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> configuration<span class="token punctuation">.</span>isPressed <span class="token operator">?</span> <span class="token punctuation">.</span>white <span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span>configuration<span class="token punctuation">.</span>isPressed <span class="token operator">?</span> <span class="token number">0.5</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">scaleEffect</span><span class="token punctuation">(</span>configuration<span class="token punctuation">.</span>isPressed <span class="token operator">?</span> <span class="token number">0.99</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
        
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - PrimitiveButtonStyle</span>
<span class="token keyword">struct</span> <span class="token class-name">PCustomPrimitiveButtonStyle</span><span class="token punctuation">:</span> <span class="token class-name">PrimitiveButtonStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">makeBody</span><span class="token punctuation">(</span>configuration<span class="token punctuation">:</span> <span class="token class-name">Configuration</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// åŒå‡»è§¦å‘</span>
        configuration<span class="token punctuation">.</span>label
            <span class="token punctuation">.</span><span class="token function">onTapGesture</span><span class="token punctuation">(</span>count<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                configuration<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token comment">// æ‰‹åŠ¿è¯†åˆ«</span>
        <span class="token class-name">Button</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">gesture</span><span class="token punctuation">(</span>
                <span class="token class-name">LongPressGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">onEnded</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span>
                        configuration<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - é£æ ¼åŒ–</span>
<span class="token keyword">struct</span> <span class="token class-name">PStarmingButtonStyle</span><span class="token punctuation">:</span> <span class="token class-name">ButtonStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> backgroundColor <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>skeumorphismBG
    <span class="token keyword">func</span> <span class="token function-definition function">makeBody</span><span class="token punctuation">(</span>configuration<span class="token punctuation">:</span> <span class="token class-name">Configuration</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            configuration<span class="token punctuation">.</span>label
            <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>
            <span class="token class-name">ZStack</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">.</span>continuous<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>white<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> configuration<span class="token punctuation">.</span>isPressed <span class="token operator">?</span> <span class="token number">7</span> <span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> configuration<span class="token punctuation">.</span>isPressed <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">5</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> configuration<span class="token punctuation">.</span>isPressed <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">5</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> configuration<span class="token punctuation">.</span>isPressed <span class="token operator">?</span> <span class="token number">7</span> <span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> configuration<span class="token punctuation">.</span>isPressed <span class="token operator">?</span> <span class="token number">5</span> <span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> configuration<span class="token punctuation">.</span>isPressed <span class="token operator">?</span> <span class="token number">5</span> <span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">blendMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>overlay<span class="token punctuation">)</span>
                <span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">.</span>continuous<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>backgroundColor<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">scaleEffect</span><span class="token punctuation">(</span>configuration<span class="token punctuation">.</span>isPressed <span class="token operator">?</span> <span class="token number">0.98</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">extension</span> <span class="token class-name">Color</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">let</span> skeumorphismBG <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">(</span>hex<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"f0f0f3"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">extension</span> <span class="token class-name">Color</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>hex<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> rgbValue<span class="token punctuation">:</span> <span class="token class-name">UInt64</span> <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token class-name">Scanner</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> hex<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scanHexInt64</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>rgbValue<span class="token punctuation">)</span>

        <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token punctuation">(</span>rgbValue <span class="token operator">&amp;</span> <span class="token number">0xff0000</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">16</span>
        <span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token punctuation">(</span>rgbValue <span class="token operator">&amp;</span> <span class="token number">0xff00</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">8</span>
        <span class="token keyword">let</span> b <span class="token operator">=</span> rgbValue <span class="token operator">&amp;</span> <span class="token number">0xff</span>

        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>red<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">0xff</span><span class="token punctuation">,</span> green<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">0xff</span><span class="token punctuation">,</span> blue<span class="token punctuation">:</span> <span class="token class-name">Double</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">0xff</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>.buttonStyle</code> å¯ç»„åˆï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PButtonStyleComposition</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isT <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Section</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ ‡ç­¾"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">VStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>leading<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Toggle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Swift"</span></span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $isT<span class="token punctuation">)</span>
                    <span class="token class-name">Toggle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"SwiftUI"</span></span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $isT<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
                <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Toggle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Swift Chart"</span></span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $isT<span class="token punctuation">)</span>
                    <span class="token class-name">Toggle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Navigation API"</span></span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $isT<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">toggleStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>button<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Tap Location å¯ä»¥è·å–ç‚¹å‡»çš„ä½ç½®ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>green<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">onTapGesture</span><span class="token punctuation">(</span>coordinateSpace<span class="token punctuation">:</span> <span class="token punctuation">.</span>global<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> location <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Tap in </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">location</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å…¶ä¸­ coordinateSpace æŒ‡å®šä¸º <code>.global</code> è¡¨ç¤ºä½ç½®æ˜¯ç›¸å¯¹å±å¹•å·¦ä¸Šè§’ï¼Œé»˜è®¤æ˜¯ç›¸å¯¹å½“å‰è§†å›¾çš„å·¦ä¸Šè§’çš„ä½ç½®ã€‚</p>
<h4 id="è¿›åº¦"><a href="#è¿›åº¦" class="headerlink" title="è¿›åº¦"></a>è¿›åº¦</h4><p><img src="https://user-images.githubusercontent.com/251980/155676571-726c15d1-e4a2-4493-8fb0-c37c1c61c88c.jpeg"></p>
<p>ç”¨ ProgressViewStyle åè®®ï¼Œå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰çš„è¿›åº¦æ¡è§†å›¾ã€‚åœ¨ WatchOS ä¸Šä¼šå¤šä¸€ä¸ª Guage è§†å›¾ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayProgressView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> v<span class="token punctuation">:</span> <span class="token class-name">CGFloat</span> <span class="token operator">=</span> <span class="token number">0.0</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// é»˜è®¤æ—‹è½¬</span>
            <span class="token class-name">ProgressView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token comment">// æœ‰è¿›åº¦æ¡</span>
            <span class="token class-name">ProgressView</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> v <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">tint</span><span class="token punctuation">(</span><span class="token punctuation">.</span>yellow<span class="token punctuation">)</span>
            
            <span class="token class-name">ProgressView</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> v <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"music.note.tv"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">progressViewStyle</span><span class="token punctuation">(</span><span class="token class-name">CircularProgressViewStyle</span><span class="token punctuation">(</span>tint<span class="token punctuation">:</span> <span class="token punctuation">.</span>pink<span class="token punctuation">)</span><span class="token punctuation">)</span>
            
            <span class="token comment">// è‡ªå®šä¹‰æ ·å¼</span>
            <span class="token class-name">ProgressView</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> v <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>vertical<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">progressViewStyle</span><span class="token punctuation">(</span><span class="token class-name">PCProgressStyle1</span><span class="token punctuation">(</span>borderWidth<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            
            <span class="token class-name">ProgressView</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> v <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">progressViewStyle</span><span class="token punctuation">(</span><span class="token class-name">PCProgressStyle2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">)</span>
            
            <span class="token class-name">Slider</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> $v<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token operator">...</span><span class="token number">100</span><span class="token punctuation">,</span> step<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// è‡ªå®šä¹‰ Progress æ ·å¼</span>
<span class="token keyword">struct</span> <span class="token class-name">PCProgressStyle1</span><span class="token punctuation">:</span> <span class="token class-name">ProgressViewStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> lg <span class="token operator">=</span> <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>purple<span class="token punctuation">,</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> <span class="token punctuation">.</span>blue<span class="token punctuation">]</span><span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottomTrailing<span class="token punctuation">)</span>
    <span class="token keyword">var</span> borderWidth<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">2</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">makeBody</span><span class="token punctuation">(</span>configuration<span class="token punctuation">:</span> <span class="token class-name">Configuration</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> fc <span class="token operator">=</span> configuration<span class="token punctuation">.</span>fractionCompleted <span class="token operator">??</span> <span class="token number">0</span>
        
        <span class="token keyword">return</span> <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">ZStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">GeometryReader</span> <span class="token punctuation">&#123;</span> g <span class="token keyword">in</span>
                    <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>lg<span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> g<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token class-name">CGFloat</span><span class="token punctuation">(</span>fc<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">cornerRadius</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span>
                <span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span>lg<span class="token punctuation">,</span> lineWidth<span class="token punctuation">:</span> borderWidth<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
            <span class="token comment">// end ZStack</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end VStack</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">PCProgressStyle2</span><span class="token punctuation">:</span> <span class="token class-name">ProgressViewStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> lg <span class="token operator">=</span> <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>orange<span class="token punctuation">,</span> <span class="token punctuation">.</span>yellow<span class="token punctuation">,</span> <span class="token punctuation">.</span>green<span class="token punctuation">,</span> <span class="token punctuation">.</span>blue<span class="token punctuation">,</span> <span class="token punctuation">.</span>purple<span class="token punctuation">]</span><span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottomTrailing<span class="token punctuation">)</span>
    
    <span class="token keyword">var</span> borderWidth<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">20</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">makeBody</span><span class="token punctuation">(</span>configuration<span class="token punctuation">:</span> <span class="token class-name">Configuration</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> fc <span class="token operator">=</span> configuration<span class="token punctuation">.</span>fractionCompleted <span class="token operator">??</span> <span class="token number">0</span>
        
        <span class="token keyword">func</span> <span class="token function-definition function">strokeStyle</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> g<span class="token punctuation">:</span> <span class="token class-name">GeometryProxy</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">StrokeStyle</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">StrokeStyle</span><span class="token punctuation">(</span>lineWidth<span class="token punctuation">:</span> <span class="token number">0.1</span> <span class="token operator">*</span> <span class="token function">min</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span> g<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span> lineCap<span class="token punctuation">:</span> <span class="token punctuation">.</span>round<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        
        <span class="token keyword">return</span> <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">GeometryReader</span> <span class="token punctuation">&#123;</span> g <span class="token keyword">in</span>
                <span class="token class-name">ZStack</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Group</span> <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span>lg<span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token function">strokeStyle</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>borderWidth<span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span>
                        <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> fc<span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span>lg<span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token function">strokeStyle</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>borderWidth<span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">rotationEffect</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">degrees</span><span class="token punctuation">(</span><span class="token number">90</span> <span class="token operator">+</span> <span class="token number">360</span> <span class="token operator">*</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> anchor<span class="token punctuation">:</span> <span class="token punctuation">.</span>center<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0.1</span> <span class="token operator">*</span> <span class="token function">min</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span> g<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
                
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¯»å– </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">Int</span><span class="token punctuation">(</span>fc <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> %"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token comment">// end ZStack</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end VStack</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>SwiftUI å¼•å…¥ä¸€ä¸ªæ–°æ˜¾ç¤ºè¿›åº¦çš„è§†å›¾ Gaugeã€‚</p>
<p>ç®€å•ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PGauge</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> progress <span class="token operator">=</span> <span class="token number">0.45</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Gauge</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> progress<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¿›åº¦"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> currentValueLabel<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>progress<span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span><span class="token punctuation">.</span>percent<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> minimumValueLabel<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span><span class="token punctuation">.</span>percent<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> maximumValueLabel<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span><span class="token punctuation">.</span>percent<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        
        <span class="token class-name">Gauge</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> progress<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            
        <span class="token punctuation">&#125;</span> currentValueLabel<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>progress<span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span><span class="token punctuation">.</span>percent<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>footnote<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">gaugeStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>accessoryCircularCapacity<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">tint</span><span class="token punctuation">(</span><span class="token punctuation">.</span>cyan<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h4><p><img src="https://user-images.githubusercontent.com/251980/155683776-0f0acdee-c7c1-44e3-a68b-38f778863821.png"></p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayImageView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"logo"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
        
        <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"logo"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">aspectRatio</span><span class="token punctuation">(</span>contentMode<span class="token punctuation">:</span> <span class="token punctuation">.</span>fit<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">clipShape</span><span class="token punctuation">(</span><span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span>
                <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">.</span>cyan<span class="token punctuation">,</span> lineWidth<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span>
        
        <span class="token comment">// SF Symbols</span>
        <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"scissors"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">imageScale</span><span class="token punctuation">(</span><span class="token punctuation">.</span>large<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>pink<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span>
        
        <span class="token comment">// SF Symbols å¤šè‰²æ—¶ä½¿ç”¨åŸè‰²</span>
        <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"thermometer.sun.fill"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">renderingMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>original<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">imageScale</span><span class="token punctuation">(</span><span class="token punctuation">.</span>large<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="ControlGroup"><a href="#ControlGroup" class="headerlink" title="ControlGroup"></a>ControlGroup</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayControlGroupView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ControlGroup</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"plus"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"plus"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>

            <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"minus"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"minus"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">controlGroupStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>automatic<span class="token punctuation">)</span> <span class="token comment">// .automatic æ˜¯é»˜è®¤æ ·å¼ï¼Œè¿˜æœ‰ .navigation</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="GroupBox"><a href="#GroupBox" class="headerlink" title="GroupBox"></a>GroupBox</h4><p><img src="https://user-images.githubusercontent.com/251980/155317172-dc137c38-64d0-415a-8412-e3f479f2bd91.png"></p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayGroupBoxView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">GroupBox</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¿™æ˜¯ GroupBox çš„å†…å®¹"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ ‡é¢˜ä¸€"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"t.square.fill"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token class-name">GroupBox</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¿˜æ˜¯ GroupBox çš„å†…å®¹"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ ‡é¢˜äºŒ"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"t.square.fill"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">groupBoxStyle</span><span class="token punctuation">(</span><span class="token class-name">PCGroupBoxStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">PCGroupBoxStyle</span><span class="token punctuation">:</span> <span class="token class-name">GroupBoxStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">makeBody</span><span class="token punctuation">(</span>configuration<span class="token punctuation">:</span> <span class="token class-name">Configuration</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">VStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>leading<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            configuration<span class="token punctuation">.</span>label
                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span>
            configuration<span class="token punctuation">.</span>content
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>pink<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">clipShape</span><span class="token punctuation">(</span><span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">.</span>continuous<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h4><p>Stack View æœ‰ VStackã€HStack å’Œ ZStack</p>
<p><img src="https://user-images.githubusercontent.com/251980/155077158-f6efd3bb-4b82-48ac-b5e6-792dd833dfda.jpeg"></p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayStackView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// é»˜è®¤æ˜¯ VStack ç«–æ’</span>
        
        <span class="token comment">// æ¨ªæ’</span>
        <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å·¦"</span></span><span class="token punctuation">)</span>
            <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å³"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment">// Z è½´æ’</span>
        <span class="token class-name">ZStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"logo"</span></span><span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æˆ´é“­çš„å¼€å‘å°å†Œå­"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        
        <span class="token class-name">Color</span><span class="token punctuation">.</span>cyan
            <span class="token punctuation">.</span><span class="token function">cornerRadius</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸€æ®µæ–‡å­—"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Advanced-layout-control"><a href="#Advanced-layout-control" class="headerlink" title="Advanced layout control"></a>Advanced layout control</h4><p>session <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-10056">Compose custom layouts with SwiftUI</a> </p>
<p>æä¾›äº†æ–°çš„ Grid è§†å›¾æ¥åŒæ—¶æ»¡è¶³ VStack å’Œ HStackã€‚è¿˜æœ‰ä¸€ä¸ªæ›´ä½çº§åˆ« Layout æ¥å£ï¼Œå¯ä»¥å®Œå…¨æ§åˆ¶æ„å»ºåº”ç”¨æ‰€éœ€çš„å¸ƒå±€ã€‚å¦å¤–è¿˜æœ‰ ViewThatFits å¯ä»¥è‡ªåŠ¨é€‰æ‹©å¡«å……å¯ç”¨ç©ºé—´çš„æ–¹å¼ã€‚</p>
<p>Grid ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token class-name">Grid</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">GridRow</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"One"</span></span><span class="token punctuation">)</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"One"</span></span><span class="token punctuation">)</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"One"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token class-name">GridRow</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Two"</span></span><span class="token punctuation">)</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Two"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token class-name">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token class-name">GridRow</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Three"</span></span><span class="token punctuation">)</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Three"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">gridCellColumns</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>gridCellColumns()</code>  modifier å¯ä»¥è®©ä¸€ä¸ªå•å…ƒæ ¼è·¨å¤šåˆ—ã€‚</p>
<p>ViewThatFits çš„æ–°è§†å›¾ï¼Œå…è®¸æ ¹æ®é€‚åˆçš„å¤§å°æ”¾è§†å›¾ã€‚ViewThatFits ä¼šè‡ªåŠ¨é€‰æ‹©å¯¹äºå½“å‰å±å¹•å¤§å°åˆé€‚çš„å­è§†å›¾è¿›è¡Œæ˜¾ç¤ºã€‚Ryan Lintott çš„<a target="_blank" rel="noopener" href="https://twitter.com/ryanlintott/status/1534706352177700871">ç¤ºä¾‹æ•ˆæœ</a> ï¼Œå¯¹åº”ç¤ºä¾‹ä»£ç  <a target="_blank" rel="noopener" href="https://gist.github.com/ryanlintott/d03140dd155d0493a758dcd284e68eaa">LayoutThatFits.swift</a> ã€‚</p>
<p>æ–°çš„ Layout åè®®å¯ä»¥è§‚çœ‹ Swift Talk ç¬¬ 308 æœŸ <a target="_blank" rel="noopener" href="https://talk.objc.io/episodes/S01E308-the-layout-protocol">The Layout Protocol</a> ã€‚</p>
<p>é€šè¿‡ç¬¦åˆ Layout åè®®ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰çš„å¸ƒå±€å®¹å™¨ï¼Œç›´æ¥å‚ä¸ SwiftUI çš„å¸ƒå±€è¿‡ç¨‹ã€‚æ–°çš„ ProposedViewSize ç»“æ„ï¼Œå®ƒæ˜¯å®¹å™¨è§†å›¾æä¾›çš„å¤§å°ã€‚ <code>Layout.Subviews</code> æ˜¯å¸ƒå±€è§†å›¾çš„å­è§†å›¾ä»£ç†é›†åˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­ä¸ºæ¯ä¸ªå­è§†å›¾è¯·æ±‚å„ç§å¸ƒå±€å±æ€§ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">public</span> <span class="token keyword">protocol</span> <span class="token class-name">Layout</span><span class="token punctuation">:</span> <span class="token class-name">Animatable</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">static</span> <span class="token keyword">var</span> layoutProperties<span class="token punctuation">:</span> <span class="token class-name">LayoutProperties</span> <span class="token punctuation">&#123;</span> <span class="token keyword">get</span> <span class="token punctuation">&#125;</span>
  <span class="token keyword">associatedtype</span> <span class="token class-name">Cache</span> <span class="token operator">=</span> <span class="token class-name">Void</span>
  <span class="token keyword">typealias</span> <span class="token class-name">Subviews</span> <span class="token operator">=</span> <span class="token class-name">LayoutSubviews</span>

  <span class="token keyword">func</span> <span class="token function-definition function">updateCache</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> cache<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token keyword">Self</span><span class="token punctuation">.</span><span class="token class-name">Cache</span><span class="token punctuation">,</span> subviews<span class="token punctuation">:</span> <span class="token keyword">Self</span><span class="token punctuation">.</span><span class="token class-name">Subviews</span><span class="token punctuation">)</span>

  <span class="token keyword">func</span> <span class="token function-definition function">spacing</span><span class="token punctuation">(</span>subviews<span class="token punctuation">:</span> <span class="token keyword">Self</span><span class="token punctuation">.</span><span class="token class-name">Subviews</span><span class="token punctuation">,</span> cache<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token keyword">Self</span><span class="token punctuation">.</span><span class="token class-name">Cache</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">ViewSpacing</span>

  <span class="token comment">/// We return our view size here, use the passed parameters for computing the</span>
  <span class="token comment">/// layout.</span>
  <span class="token keyword">func</span> <span class="token function-definition function">sizeThatFits</span><span class="token punctuation">(</span>
    proposal<span class="token punctuation">:</span> <span class="token class-name">ProposedViewSize</span><span class="token punctuation">,</span> 
    subviews<span class="token punctuation">:</span> <span class="token keyword">Self</span><span class="token punctuation">.</span><span class="token class-name">Subviews</span><span class="token punctuation">,</span> 
    cache<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token keyword">Self</span><span class="token punctuation">.</span><span class="token class-name">Cache</span> <span class="token comment">// ğŸ‘ˆğŸ» use this for calculated data shared among Layout methods</span>
  <span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">CGSize</span>
  
  <span class="token comment">/// Use this to tell your subviews where to appear.</span>
  <span class="token keyword">func</span> <span class="token function-definition function">placeSubviews</span><span class="token punctuation">(</span>
    <span class="token keyword">in</span> bounds<span class="token punctuation">:</span> <span class="token class-name">CGRect</span><span class="token punctuation">,</span> <span class="token comment">// ğŸ‘ˆğŸ» region where we need to place our subviews into, origin might not be .zero</span>
    proposal<span class="token punctuation">:</span> <span class="token class-name">ProposedViewSize</span><span class="token punctuation">,</span> 
    subviews<span class="token punctuation">:</span> <span class="token keyword">Self</span><span class="token punctuation">.</span><span class="token class-name">Subviews</span><span class="token punctuation">,</span> 
    cache<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token keyword">Self</span><span class="token punctuation">.</span><span class="token class-name">Cache</span>
  <span class="token punctuation">)</span>
  
  <span class="token comment">// ... there are more a couple more optional methods</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¸‹é¢ä¾‹å­æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„æ°´å¹³ stack è§†å›¾ï¼Œä¸ºå…¶æ‰€æœ‰å­è§†å›¾æä¾›å…¶æœ€å¤§å­è§†å›¾çš„å®½åº¦ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">MyEqualWidthHStack</span><span class="token punctuation">:</span> <span class="token class-name">Layout</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">/// Returns a size that the layout container needs to arrange its subviews.</span>
  <span class="token comment">/// - Tag: sizeThatFitsHorizontal</span>
  <span class="token keyword">func</span> <span class="token function-definition function">sizeThatFits</span><span class="token punctuation">(</span>
    proposal<span class="token punctuation">:</span> <span class="token class-name">ProposedViewSize</span><span class="token punctuation">,</span>
    subviews<span class="token punctuation">:</span> <span class="token class-name">Subviews</span><span class="token punctuation">,</span>
    cache<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">Void</span>
  <span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">CGSize</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">guard</span> <span class="token operator">!</span>subviews<span class="token punctuation">.</span>isEmpty <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token punctuation">.</span>zero <span class="token punctuation">&#125;</span>

    <span class="token keyword">let</span> maxSize <span class="token operator">=</span> <span class="token function">maxSize</span><span class="token punctuation">(</span>subviews<span class="token punctuation">:</span> subviews<span class="token punctuation">)</span>
    <span class="token keyword">let</span> spacing <span class="token operator">=</span> <span class="token function">spacing</span><span class="token punctuation">(</span>subviews<span class="token punctuation">:</span> subviews<span class="token punctuation">)</span>
    <span class="token keyword">let</span> totalSpacing <span class="token operator">=</span> spacing<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span> <span class="token operator">+</span> <span class="token short-argument">$1</span> <span class="token punctuation">&#125;</span>

    <span class="token keyword">return</span> <span class="token class-name">CGSize</span><span class="token punctuation">(</span>
      width<span class="token punctuation">:</span> maxSize<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token class-name">CGFloat</span><span class="token punctuation">(</span>subviews<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token operator">+</span> totalSpacing<span class="token punctuation">,</span>
      height<span class="token punctuation">:</span> maxSize<span class="token punctuation">.</span>height<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>

  <span class="token comment">/// Places the stack's subviews.</span>
  <span class="token comment">/// - Tag: placeSubviewsHorizontal</span>
  <span class="token keyword">func</span> <span class="token function-definition function">placeSubviews</span><span class="token punctuation">(</span>
    <span class="token keyword">in</span> bounds<span class="token punctuation">:</span> <span class="token class-name">CGRect</span><span class="token punctuation">,</span>
    proposal<span class="token punctuation">:</span> <span class="token class-name">ProposedViewSize</span><span class="token punctuation">,</span>
    subviews<span class="token punctuation">:</span> <span class="token class-name">Subviews</span><span class="token punctuation">,</span>
    cache<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">Void</span>
  <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">guard</span> <span class="token operator">!</span>subviews<span class="token punctuation">.</span>isEmpty <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token punctuation">&#125;</span>

    <span class="token keyword">let</span> maxSize <span class="token operator">=</span> <span class="token function">maxSize</span><span class="token punctuation">(</span>subviews<span class="token punctuation">:</span> subviews<span class="token punctuation">)</span>
    <span class="token keyword">let</span> spacing <span class="token operator">=</span> <span class="token function">spacing</span><span class="token punctuation">(</span>subviews<span class="token punctuation">:</span> subviews<span class="token punctuation">)</span>

    <span class="token keyword">let</span> placementProposal <span class="token operator">=</span> <span class="token class-name">ProposedViewSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> maxSize<span class="token punctuation">.</span>width<span class="token punctuation">,</span> height<span class="token punctuation">:</span> maxSize<span class="token punctuation">.</span>height<span class="token punctuation">)</span>
    <span class="token keyword">var</span> nextX <span class="token operator">=</span> bounds<span class="token punctuation">.</span>minX <span class="token operator">+</span> maxSize<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span>

    <span class="token keyword">for</span> index <span class="token keyword">in</span> subviews<span class="token punctuation">.</span>indices <span class="token punctuation">&#123;</span>
      subviews<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">place</span><span class="token punctuation">(</span>
        at<span class="token punctuation">:</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> nextX<span class="token punctuation">,</span> y<span class="token punctuation">:</span> bounds<span class="token punctuation">.</span>midY<span class="token punctuation">)</span><span class="token punctuation">,</span>
        anchor<span class="token punctuation">:</span> <span class="token punctuation">.</span>center<span class="token punctuation">,</span>
        proposal<span class="token punctuation">:</span> placementProposal<span class="token punctuation">)</span>
      nextX <span class="token operator">+=</span> maxSize<span class="token punctuation">.</span>width <span class="token operator">+</span> spacing<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token comment">/// Finds the largest ideal size of the subviews.</span>
  <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function-definition function">maxSize</span><span class="token punctuation">(</span>subviews<span class="token punctuation">:</span> <span class="token class-name">Subviews</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">CGSize</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> subviewSizes <span class="token operator">=</span> subviews<span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span><span class="token function">sizeThatFits</span><span class="token punctuation">(</span><span class="token punctuation">.</span>unspecified<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span>
    <span class="token keyword">let</span> maxSize<span class="token punctuation">:</span> <span class="token class-name">CGSize</span> <span class="token operator">=</span> subviewSizes<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">.</span>zero<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> currentMax<span class="token punctuation">,</span> subviewSize <span class="token keyword">in</span>
      <span class="token class-name">CGSize</span><span class="token punctuation">(</span>
        width<span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>currentMax<span class="token punctuation">.</span>width<span class="token punctuation">,</span> subviewSize<span class="token punctuation">.</span>width<span class="token punctuation">)</span><span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> <span class="token function">max</span><span class="token punctuation">(</span>currentMax<span class="token punctuation">.</span>height<span class="token punctuation">,</span> subviewSize<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">return</span> maxSize
  <span class="token punctuation">&#125;</span>

  <span class="token comment">/// Gets an array of preferred spacing sizes between subviews in the</span>
  <span class="token comment">/// horizontal dimension.</span>
  <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function-definition function">spacing</span><span class="token punctuation">(</span>subviews<span class="token punctuation">:</span> <span class="token class-name">Subviews</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token class-name">CGFloat</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
    subviews<span class="token punctuation">.</span>indices<span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> index <span class="token keyword">in</span>
      <span class="token keyword">guard</span> index <span class="token operator">&lt;</span> subviews<span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span>
      <span class="token keyword">return</span> subviews<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>spacing<span class="token punctuation">.</span><span class="token function">distance</span><span class="token punctuation">(</span>
        to<span class="token punctuation">:</span> subviews<span class="token punctuation">[</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>spacing<span class="token punctuation">,</span>
        along<span class="token punctuation">:</span> <span class="token punctuation">.</span>horizontal<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è‡ªå®šä¹‰ layout åªèƒ½è®¿é—®å­è§†å›¾ä»£ç† <code>Layout.Subviews</code> ï¼Œè€Œä¸æ˜¯è§†å›¾æˆ–æ•°æ®æ¨¡å‹ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ LayoutValueKey åœ¨æ¯ä¸ªå­è§†å›¾ä¸Šå­˜å‚¨è‡ªå®šä¹‰å€¼ï¼Œé€šè¿‡ <code>layoutValue(key:value:)</code> modifier è®¾ç½®ã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">private</span> <span class="token keyword">struct</span> <span class="token class-name">Rank</span><span class="token punctuation">:</span> <span class="token class-name">LayoutValueKey</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">static</span> <span class="token keyword">let</span> defaultValue<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">extension</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">func</span> <span class="token function-definition function">rank</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> value<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span> <span class="token comment">// ğŸ‘ˆğŸ» convenience method</span>
    <span class="token function">layoutValue</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> value<span class="token punctuation">)</span> <span class="token comment">// ğŸ‘ˆğŸ» the new modifier</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ Layout æ–¹æ³•ä¸­çš„ <code>Layout.Subviews</code> ä»£ç†è¯»å–è‡ªå®šä¹‰ <code>LayoutValueKey</code> å€¼ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">placeSubviews</span><span class="token punctuation">(</span>
  <span class="token keyword">in</span> bounds<span class="token punctuation">:</span> <span class="token class-name">CGRect</span><span class="token punctuation">,</span>
  proposal<span class="token punctuation">:</span> <span class="token class-name">ProposedViewSize</span><span class="token punctuation">,</span>
  subviews<span class="token punctuation">:</span> <span class="token class-name">Subviews</span><span class="token punctuation">,</span>
  cache<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">Void</span>
<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">let</span> ranks <span class="token operator">=</span> subviews<span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> subview <span class="token keyword">in</span>
    subview<span class="token punctuation">[</span><span class="token class-name">Rank</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">]</span> <span class="token comment">// ğŸ‘ˆğŸ»</span>
  <span class="token punctuation">&#125;</span>

  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¦åœ¨å¸ƒå±€ä¹‹é—´å˜åŒ–ä½¿ç”¨åŠ¨ç”»ï¼Œéœ€è¦ç”¨ AnyLayoutï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PAnyLayout</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isVertical <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> layout <span class="token operator">=</span> isVertical <span class="token operator">?</span> <span class="token class-name">AnyLayout</span><span class="token punctuation">(</span><span class="token class-name">VStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token class-name">AnyLayout</span><span class="token punctuation">(</span><span class="token class-name">HStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        layout <span class="token punctuation">&#123;</span>
            <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"star"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>yellow<span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Starming.com"</span></span><span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æˆ´é“­"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Click"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            withAnimation <span class="token punctuation">&#123;</span>
                isVertical<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end button</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end body</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>åŒæ—¶ Text å’Œå›¾ç‰‡ä¹Ÿæ”¯æŒäº†æ ·å¼å¸ƒå±€å˜åŒ–ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PTextTransitionsView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> expandMessage <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">private</span> <span class="token keyword">let</span> mintWithShadow<span class="token punctuation">:</span> <span class="token class-name">AnyShapeStyle</span> <span class="token operator">=</span> <span class="token class-name">AnyShapeStyle</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>mint<span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">let</span> primaryWithoutShadow<span class="token punctuation">:</span> <span class="token class-name">AnyShapeStyle</span> <span class="token operator">=</span> <span class="token class-name">AnyShapeStyle</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>primary<span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Dai Ming Swift Pamphlet"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span>expandMessage <span class="token operator">?</span> <span class="token punctuation">.</span>largeTitle<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token punctuation">.</span>heavy<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>body<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">foregroundStyle</span><span class="token punctuation">(</span>expandMessage <span class="token operator">?</span> mintWithShadow <span class="token punctuation">:</span> primaryWithoutShadow<span class="token punctuation">)</span>
            <span class="token punctuation">.</span>onTapGesture <span class="token punctuation">&#123;</span> withAnimation <span class="token punctuation">&#123;</span> expandMessage<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> expandMessage <span class="token operator">?</span> <span class="token number">150</span> <span class="token punctuation">:</span> <span class="token number">250</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">drawingGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>cyan<span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="Navigation"><a href="#Navigation" class="headerlink" title="Navigation"></a>Navigation</h4><p>æ§åˆ¶å¯¼èˆªå¯åŠ¨çŠ¶æ€ã€ç®¡ç† size class ä¹‹é—´çš„ transition å’Œå“åº” deep linkã€‚</p>
<p>Navigation bar æœ‰æ–°çš„é»˜è®¤è¡Œä¸ºï¼Œå¦‚æœæ²¡æœ‰æä¾›æ ‡é¢˜ï¼Œå¯¼èˆªæ é»˜è®¤ä¸º inline  title æ˜¾ç¤ºæ¨¡å¼ã€‚ä½¿ç”¨ <code>navigationBarTitleDisplayMode(_:)</code> æ”¹å˜æ˜¾ç¤ºæ¨¡å¼ã€‚å¦‚æœ navigation bar  æ²¡æœ‰æ ‡é¢˜ã€å·¥å…·æ é¡¹æˆ–æœç´¢å†…å®¹ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨éšè—ã€‚ä½¿ç”¨ <code>.toolbar(.visible)</code> modifier æ˜¾ç¤ºä¸€ä¸ªç©º navigation barã€‚</p>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/migrating-to-new-navigation-types?changes=latest_minor">Migrating to New Navigation Types</a> å®˜æ–¹è¿ç§»æŒ‡å—</li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/navigationstack?changes=latest_minor">NavigationStack</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/navigationsplitview">NavigationSplitView</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/10054/">The SwiftUI cookbook for navigation</a></li>
</ul>
<p>NavigationStack çš„ç¤ºä¾‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PNavigationStack</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span> <span class="token comment">// æ·±å±‚é“¾æ¥</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">NavigationStack</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span> $a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">List</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">..&lt;</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                <span class="token class-name">NavigationLink</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬ </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> è¡Œ"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">.circle"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">navigationDestination</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬ </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> è¡Œå†…å®¹"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"NavigationStack Demo"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿™é‡Œçš„ path è®¾ç½®äº† stack çš„æ·±åº¦è·¯å¾„ã€‚</p>
<p>NavigationSplitView ä¸¤æ çš„ä¾‹å­ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PNavigationSplitViewTwoColumn</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">]</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> choice<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">NavigationSplitView</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">List</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $choice<span class="token punctuation">,</span> rowContent<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> detail<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>choice <span class="token operator">??</span> <span class="token string-literal"><span class="token string">"é€‰ä¸€ä¸ª"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>NavigationSplitView ä¸‰æ çš„ä¾‹å­ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PNavigationSplitViewThreeColumn</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">struct</span> <span class="token class-name">Group</span><span class="token punctuation">:</span> <span class="token class-name">Identifiable</span><span class="token punctuation">,</span> <span class="token class-name">Hashable</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token function">UUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> title<span class="token punctuation">:</span> <span class="token class-name">String</span>
        <span class="token keyword">var</span> subs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> gps <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token class-name">Group</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"One"</span></span><span class="token punctuation">,</span> subs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"o1"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"o2"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"o3"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token class-name">Group</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Two"</span></span><span class="token punctuation">,</span> subs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"t1"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"t2"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"t3"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> choiceGroup<span class="token punctuation">:</span> <span class="token class-name">Group</span><span class="token operator">?</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> choiceSub<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token operator">?</span>
    
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> cv <span class="token operator">=</span> <span class="token class-name">NavigationSplitViewVisibility</span><span class="token punctuation">.</span>automatic
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">NavigationSplitView</span><span class="token punctuation">(</span>columnVisibility<span class="token punctuation">:</span> $cv<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">List</span><span class="token punctuation">(</span>gps<span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $choiceGroup<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> g <span class="token keyword">in</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">navigationSplitViewColumnWidth</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> content<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">List</span><span class="token punctuation">(</span>choiceGroup<span class="token operator">?</span><span class="token punctuation">.</span>subs <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $choiceSub<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> detail<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>choiceSub <span class="token operator">??</span> <span class="token string-literal"><span class="token string">"é€‰ä¸€ä¸ª"</span></span><span class="token punctuation">)</span>
            <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç‚¹å‡»"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                cv <span class="token operator">=</span> <span class="token punctuation">.</span>all
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">navigationSplitViewStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>prominentDetail<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>navigationSplitViewColumnWidth() </code> æ˜¯ç”¨æ¥è‡ªå®šä¹‰å®½çš„ï¼Œ<code>navigationSplitViewStyle</code> è®¾ç½®ä¸º <code>.prominentDetail</code> æ˜¯è®© detail çš„è§†å›¾å°½é‡ä¿æŒå…¶å¤§å°ã€‚</p>
<p>SwiftUI æ–°åŠ äº†ä¸ª<a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/presentedwindowcontent/toolbar(_:in:)">åŠŸèƒ½</a>å¯ä»¥é…ç½®æ˜¯å¦éšè— Tabbarï¼Œè¿™æ ·åœ¨ä»ä¸»é¡µè¿›å…¥ä¸‹ä¸€çº§æ—¶å°±å¯ä»¥é€‰æ‹©ä¸æ˜¾ç¤ºåº•éƒ¨æ ‡ç­¾æ äº†ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token class-name">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toolbar</span><span class="token punctuation">(</span><span class="token punctuation">.</span>hidden<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>tabBar<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>ç›¸æ¯”è¾ƒä»¥å‰ NavigationView å¢å¼ºçš„æ˜¯ destination å¯ä»¥æ ¹æ®å€¼çš„ä¸åŒç±»å‹å±•ç¤ºä¸åŒçš„ç›®çš„é¡µé¢ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PNavigationStackDestination</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">NavigationStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">List</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">NavigationLink</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"å­—ç¬¦ä¸²"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å­—ç¬¦ä¸²"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
                <span class="token class-name">NavigationLink</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"çº¢è‰²"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸åŒç±»å‹ Destination"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">navigationDestination</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> c <span class="token keyword">in</span>
                c<span class="token punctuation">.</span><span class="token function">clipShape</span><span class="token punctuation">(</span><span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">navigationDestination</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> çš„ detail"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¯¹ toolbar çš„è‡ªå®šä¹‰ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token punctuation">.</span><span class="token function">toolbar</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"toolbar"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">ToolbarItem</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"new"</span></span><span class="token punctuation">,</span> placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>secondaryAction<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Button</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"New Invitation"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"envelope"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">.</span><span class="token function">toolbarRole</span><span class="token punctuation">(</span><span class="token punctuation">.</span>editor<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä»¥ä¸‹æ˜¯åºŸå¼ƒçš„ NavigationView çš„ç”¨æ³•ã€‚</p>
<p><img src="https://user-images.githubusercontent.com/251980/155517358-4e5d54b8-0284-4fde-bf09-4b5e22e0e9a5.jpeg"></p>
<p>å¯¹åº”ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayNavigationView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> lData <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">10</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">NavigationView</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">ZStack</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>pink<span class="token punctuation">,</span> <span class="token punctuation">.</span>orange<span class="token punctuation">]</span><span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottomTrailing<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">ignoresSafeArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                
                <span class="token class-name">List</span><span class="token punctuation">(</span>lData<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                    <span class="token class-name">NavigationLink</span> <span class="token punctuation">&#123;</span>
                        <span class="token class-name">PNavDetailView</span><span class="token punctuation">(</span>contentStr<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            
            <span class="token class-name">ZStack</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>mint<span class="token punctuation">,</span> <span class="token punctuation">.</span>yellow<span class="token punctuation">]</span><span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottomTrailing<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">ignoresSafeArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                
                <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸€ä¸ª NavigationView çš„ç¤ºä¾‹"</span></span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>white<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">scaleEffect</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">safeAreaInset</span><span class="token punctuation">(</span>edge<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottom<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"bottom1"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span>
                    <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"bottom2"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
                    <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"bottom3"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
                    <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>purple<span class="token punctuation">,</span> <span class="token punctuation">.</span>blue<span class="token punctuation">]</span><span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottomTrailing<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ•°å­—åˆ—è¡¨"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>toolbar <span class="token punctuation">&#123;</span>
            <span class="token comment">// placement å…±æœ‰ keyboardã€destructiveActionã€cancellationActionã€confirmationActionã€statusã€primaryActionã€navigationã€principalã€automatic è¿™äº›</span>
            <span class="token class-name">ToolbarItem</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>primaryAction<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"primaryAction"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>ultraThinMaterial<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token comment">// é€šè¿‡ ToolbarItemGroup å¯ä»¥ç®€åŒ–ç›¸åŒä½ç½® ToolbarItem çš„ç¼–å†™ã€‚</span>
            <span class="token class-name">ToolbarItemGroup</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>navigation<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¿”å›"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
                <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å‰è¿›"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">PCToolbar</span><span class="token punctuation">(</span>doDestruct<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"åˆ é™¤äº†"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> doCancel<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å–æ¶ˆäº†"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> doConfirm<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¡®è®¤äº†"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
            <span class="token class-name">ToolbarItem</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"status"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">ToolbarItem</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>principal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"principal"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">ToolbarItem</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>keyboard<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Touch Bar Button"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end toolbar</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - NavigationView çš„ç›®çš„é¡µé¢</span>
<span class="token keyword">struct</span> <span class="token class-name">PNavDetailView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@Environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>presentationMode<span class="token punctuation">)</span> <span class="token keyword">var</span> pMode<span class="token punctuation">:</span> <span class="token class-name">Binding</span><span class="token operator">&lt;</span><span class="token class-name">PresentationMode</span><span class="token operator">></span>
    <span class="token keyword">var</span> contentStr<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ZStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>purple<span class="token punctuation">,</span> <span class="token punctuation">.</span>blue<span class="token punctuation">]</span><span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottomTrailing<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">ignoresSafeArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span>contentStr<span class="token punctuation">)</span>
                <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¿”å›"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    pMode<span class="token punctuation">.</span>wrappedValue<span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end ZStack</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end body</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - è‡ªå®šä¹‰ toolbar</span>
<span class="token comment">// é€šè¿‡ ToolbarContent åˆ›å»ºå¯é‡å¤ä½¿ç”¨çš„ toolbar ç»„</span>
<span class="token keyword">struct</span> <span class="token class-name">PCToolbar</span><span class="token punctuation">:</span> <span class="token class-name">ToolbarContent</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> doDestruct<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span>
    <span class="token keyword">let</span> doCancel<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span>
    <span class="token keyword">let</span> doConfirm<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">ToolbarContent</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ToolbarItem</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>destructiveAction<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"åˆ é™¤"</span></span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> doDestruct<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token class-name">ToolbarItem</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>cancellationAction<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å–æ¶ˆ"</span></span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> doCancel<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token class-name">ToolbarItem</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>confirmationAction<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¡®å®š"</span></span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> doConfirm<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>toolbar çš„ä½ç½®è®¾ç½®å¯é€‰é¡¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>primaryActionï¼šæ”¾ç½®åˆ°æœ€ä¸»è¦ä½ç½®ï¼ŒmacOS å°±æ˜¯æ”¾åœ¨ toolbar çš„æœ€å·¦è¾¹</li>
<li>automaticï¼šæ ¹æ®å¹³å°ä¸åŒæ”¾åˆ°é»˜è®¤ä½ç½®</li>
<li>confirmationActionï¼šä¸€äº›ç¡®å®šçš„åŠ¨ä½œ</li>
<li>cancellationActionï¼šå–æ¶ˆåŠ¨ä½œ</li>
<li>destructiveActionï¼šåˆ é™¤çš„åŠ¨ä½œ</li>
<li>statusï¼šçŠ¶æ€å˜åŒ–ï¼Œæ¯”å¦‚æ£€æŸ¥æ›´æ–°ç­‰åŠ¨ä½œ</li>
<li>navigationï¼šå¯¼èˆªåŠ¨ä½œï¼Œæ¯”å¦‚æµè§ˆå™¨çš„å‰è¿›åé€€</li>
<li>principalï¼šçªå‡ºçš„ä½ç½®ï¼ŒiOS å’Œ macOS ä¼šå‡ºç°åœ¨ä¸­é—´çš„ä½ç½®</li>
<li>keyboardï¼šmacOS ä¼šå‡ºç°åœ¨ Touch Bar é‡Œã€‚iOS ä¼šå‡ºç°åœ¨å¼¹å‡ºçš„è™šæ‹Ÿé”®ç›˜ä¸Šã€‚</li>
</ul>
<h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><p><img src="https://user-images.githubusercontent.com/251980/155293565-d85080c1-2304-491b-be72-20aa921f7067.jpeg"></p>
<p>List é™¤äº†èƒ½å¤Ÿå±•ç¤ºæ•°æ®å¤–ï¼Œè¿˜æœ‰ä¸‹æ‹‰åˆ·æ–°ã€è¿‡æ»¤æœç´¢å’Œä¾§æ»‘ Swipe åŠ¨ä½œæä¾›æ›´å¤š Cell æ“ä½œçš„èƒ½åŠ›ã€‚</p>
<p>é€šè¿‡ List çš„å¯é€‰å­é¡¹å‚æ•°æä¾›æ•°æ®æ¨¡å‹çš„å…³é”®è·¯å¾„æ¥åˆ¶å®šå­é¡¹è·¯åŠ²ï¼Œè¿˜å¯ä»¥å®ç°å¤§çº²è§†å›¾ï¼Œä½¿ç”¨ DisclosureGroup å’Œ OutlineGroup  å¯ä»¥è¿›ä¸€æ­¥å®šåˆ¶å¤§çº²è§†å›¾ã€‚</p>
<p>ä¸‹é¢æ˜¯ List ä½¿ç”¨ï¼ŒåŒ…æ‹¬äº† DisclosureGroup å’Œ OutlineGroup çš„æ¼”ç¤ºä»£ç ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayListView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@StateObject</span> <span class="token keyword">var</span> l<span class="token punctuation">:</span> <span class="token constant">PLVM</span> <span class="token operator">=</span> <span class="token function">PLVM</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
    
    <span class="token keyword">var</span> outlineModel <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"æ–‡ä»¶å¤¹ä¸€"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"folder.fill"</span></span><span class="token punctuation">,</span> children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"ä¸ªäºº"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"person.crop.circle.fill"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"ç¾¤ç»„"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"person.2.circle.fill"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"åŠ å¥½å‹"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"person.badge.plus"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"æ–‡ä»¶å¤¹äºŒ"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"folder.fill"</span></span><span class="token punctuation">,</span> children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"æ™´å¤©"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"sun.max.fill"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"å¤œé—´"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"moon.fill"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"é›¨å¤©"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"cloud.rain.fill"</span></span><span class="token punctuation">,</span> children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"é›·åŠ é›¨"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"cloud.bolt.rain.fill"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"å¤ªé˜³é›¨"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"cloud.sun.rain.fill"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"æ–‡ä»¶å¤¹ä¸‰"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"folder.fill"</span></span><span class="token punctuation">,</span> children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"ç”µè¯"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"phone"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"æ‹ç…§"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"camera.circle.fill"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">POutlineModel</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"æé†’"</span></span><span class="token punctuation">,</span> iconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"bell"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">// List é€šè¿‡$è¯­æ³•å¯ä»¥å°†é›†åˆçš„å…ƒç´ è½¬æ¢æˆå¯ç»‘å®šçš„å€¼</span>
            <span class="token class-name">List</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">ForEach</span><span class="token punctuation">(</span>$l<span class="token punctuation">.</span>ls<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> $d <span class="token keyword">in</span>
                    <span class="token class-name">PRowView</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> d<span class="token punctuation">.</span>s<span class="token punctuation">,</span> i<span class="token punctuation">:</span> d<span class="token punctuation">.</span>i<span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">listRowInsets</span><span class="token punctuation">(</span><span class="token class-name">EdgeInsets</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> leading<span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span> bottom<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> trailing<span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">listRowBackground</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span>refreshable <span class="token punctuation">&#123;</span>
                <span class="token comment">// ä¸‹æ‹‰åˆ·æ–°</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">searchable</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> $s<span class="token punctuation">)</span> <span class="token comment">// æœç´¢</span>
            <span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> newValue <span class="token keyword">in</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æœç´¢å…³é”®å­—ï¼š</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">s</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            
            <span class="token class-name">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token comment">// è‡ªå®šä¹‰ List</span>
            <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">PCustomListView</span><span class="token punctuation">(</span>$l<span class="token punctuation">.</span>ls<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> $d <span class="token keyword">in</span>
                    <span class="token class-name">PRowView</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> d<span class="token punctuation">.</span>s<span class="token punctuation">,</span> i<span class="token punctuation">:</span> d<span class="token punctuation">.</span>i<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
                <span class="token comment">// æ·»åŠ æ•°æ®</span>
                <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                    l<span class="token punctuation">.</span>ls<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">PLModel</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"More"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ·»åŠ "</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token class-name">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token comment">// ä½¿ç”¨å¤§çº²</span>
            <span class="token class-name">List</span><span class="token punctuation">(</span>outlineModel<span class="token punctuation">,</span> children<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                <span class="token class-name">Label</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>title<span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> i<span class="token punctuation">.</span>iconName<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            
            <span class="token class-name">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token comment">// è‡ªå®šä¹‰å¤§çº²è§†å›¾</span>
            <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å¯ç‚¹å‡»æ ‡é¢˜å±•å¼€"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span>
                <span class="token class-name">PCOutlineListView</span><span class="token punctuation">(</span>d<span class="token punctuation">:</span> outlineModel<span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                    <span class="token class-name">Label</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>title<span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> i<span class="token punctuation">.</span>iconName<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token class-name">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token comment">// ä½¿ç”¨ OutlineGroup å®ç°å¤§çº²è§†å›¾</span>
            <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"OutlineGroup å®ç°å¤§çº²"</span></span><span class="token punctuation">)</span>
                
                <span class="token class-name">OutlineGroup</span><span class="token punctuation">(</span>outlineModel<span class="token punctuation">,</span> children<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                    <span class="token class-name">Label</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>title<span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> i<span class="token punctuation">.</span>iconName<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
                
                <span class="token comment">// OutlineGroup å’Œ List ç»“åˆ</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"OutlineGroup å’Œ List ç»“åˆ"</span></span><span class="token punctuation">)</span>
                <span class="token class-name">List</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">ForEach</span><span class="token punctuation">(</span>outlineModel<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
                        <span class="token class-name">Section</span> <span class="token punctuation">&#123;</span>
                            <span class="token class-name">OutlineGroup</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>children <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> children<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                                <span class="token class-name">Label</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>title<span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> i<span class="token punctuation">.</span>iconName<span class="token punctuation">)</span>
                            <span class="token punctuation">&#125;</span>
                        <span class="token punctuation">&#125;</span> header<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                            <span class="token class-name">Label</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>title<span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> s<span class="token punctuation">.</span>iconName<span class="token punctuation">)</span>
                        <span class="token punctuation">&#125;</span>

                    <span class="token punctuation">&#125;</span> <span class="token comment">// end ForEach</span>
                <span class="token punctuation">&#125;</span> <span class="token comment">// end List</span>
            <span class="token punctuation">&#125;</span> <span class="token comment">// end VStack</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end HStack</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end body</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - è‡ªå®šä¹‰å¤§çº²è§†å›¾</span>
<span class="token keyword">struct</span> <span class="token class-name">PCOutlineListView</span><span class="token operator">&lt;</span><span class="token class-name">D</span><span class="token punctuation">,</span> <span class="token class-name">Content</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token keyword">where</span> <span class="token class-name">D</span><span class="token punctuation">:</span> <span class="token class-name">RandomAccessCollection</span><span class="token punctuation">,</span> <span class="token class-name">D</span><span class="token punctuation">.</span><span class="token class-name">Element</span><span class="token punctuation">:</span> <span class="token class-name">Identifiable</span><span class="token punctuation">,</span> <span class="token class-name">Content</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token keyword">let</span> v<span class="token punctuation">:</span> <span class="token class-name">PCOutlineView</span><span class="token operator">&lt;</span><span class="token class-name">D</span><span class="token punctuation">,</span> <span class="token class-name">Content</span><span class="token operator">></span>
    
    <span class="token keyword">init</span><span class="token punctuation">(</span>d<span class="token punctuation">:</span> <span class="token class-name">D</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token class-name">KeyPath</span><span class="token operator">&lt;</span><span class="token class-name">D</span><span class="token punctuation">.</span><span class="token class-name">Element</span><span class="token punctuation">,</span> <span class="token class-name">D</span><span class="token operator">?></span><span class="token punctuation">,</span> content<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token class-name">D</span><span class="token punctuation">.</span><span class="token class-name">Element</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Content</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>v <span class="token operator">=</span> <span class="token class-name">PCOutlineView</span><span class="token punctuation">(</span>d<span class="token punctuation">:</span> d<span class="token punctuation">,</span> c<span class="token punctuation">:</span> c<span class="token punctuation">,</span> content<span class="token punctuation">:</span> content<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">List</span> <span class="token punctuation">&#123;</span>
            v
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">PCOutlineView</span><span class="token operator">&lt;</span><span class="token class-name">D</span><span class="token punctuation">,</span> <span class="token class-name">Content</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token keyword">where</span> <span class="token class-name">D</span><span class="token punctuation">:</span> <span class="token class-name">RandomAccessCollection</span><span class="token punctuation">,</span> <span class="token class-name">D</span><span class="token punctuation">.</span><span class="token class-name">Element</span><span class="token punctuation">:</span> <span class="token class-name">Identifiable</span><span class="token punctuation">,</span> <span class="token class-name">Content</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> d<span class="token punctuation">:</span> <span class="token class-name">D</span>
    <span class="token keyword">let</span> c<span class="token punctuation">:</span> <span class="token class-name">KeyPath</span><span class="token operator">&lt;</span><span class="token class-name">D</span><span class="token punctuation">.</span><span class="token class-name">Element</span><span class="token punctuation">,</span> <span class="token class-name">D</span><span class="token operator">?></span>
    <span class="token keyword">let</span> content<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">D</span><span class="token punctuation">.</span><span class="token class-name">Element</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Content</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> isExpanded <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// æ§åˆ¶åˆå§‹æ˜¯å¦å±•å¼€çš„çŠ¶æ€</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ForEach</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
            <span class="token keyword">if</span> <span class="token keyword">let</span> sub <span class="token operator">=</span> i<span class="token punctuation">[</span>keyPath<span class="token punctuation">:</span> c<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">PCDisclosureGroup</span><span class="token punctuation">(</span>content<span class="token punctuation">:</span> <span class="token class-name">PCOutlineView</span><span class="token punctuation">(</span>d<span class="token punctuation">:</span> sub<span class="token punctuation">,</span> c<span class="token punctuation">:</span> c<span class="token punctuation">,</span> content<span class="token punctuation">:</span> content<span class="token punctuation">)</span><span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token function">content</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                <span class="token function">content</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> <span class="token comment">// end if</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end ForEach</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end body</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">PCDisclosureGroup</span><span class="token operator">&lt;</span><span class="token class-name">C</span><span class="token punctuation">,</span> <span class="token class-name">L</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token keyword">where</span> <span class="token class-name">C</span><span class="token punctuation">:</span> <span class="token class-name">View</span><span class="token punctuation">,</span> <span class="token class-name">L</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> isExpanded <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">var</span> content<span class="token punctuation">:</span> <span class="token class-name">C</span>
    <span class="token keyword">var</span> label<span class="token punctuation">:</span> <span class="token class-name">L</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">DisclosureGroup</span><span class="token punctuation">(</span>isExpanded<span class="token punctuation">:</span> $isExpanded<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            content
        <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                isExpanded<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                label
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>plain<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - å¤§çº²æ¨¡å¼æ•°æ®æ¨¡å‹</span>
<span class="token keyword">struct</span> <span class="token class-name">POutlineModel</span><span class="token punctuation">:</span> <span class="token class-name">Hashable</span><span class="token punctuation">,</span> <span class="token class-name">Identifiable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token function">UUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> title<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> iconName<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">POutlineModel</span><span class="token punctuation">]</span><span class="token operator">?</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - List çš„æŠ½è±¡ï¼Œæ•°æ®å…¼å®¹ä»»ä½•é›†åˆç±»å‹</span>
<span class="token keyword">struct</span> <span class="token class-name">PCustomListView</span><span class="token operator">&lt;</span><span class="token class-name">D</span><span class="token punctuation">:</span> <span class="token class-name">RandomAccessCollection</span> <span class="token operator">&amp;</span> <span class="token class-name">MutableCollection</span> <span class="token operator">&amp;</span> <span class="token class-name">RangeReplaceableCollection</span><span class="token punctuation">,</span> <span class="token class-name">Content</span><span class="token punctuation">:</span> <span class="token class-name">View</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token keyword">where</span> <span class="token class-name">D</span><span class="token punctuation">.</span><span class="token class-name">Element</span><span class="token punctuation">:</span> <span class="token class-name">Identifiable</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@Binding</span> <span class="token keyword">var</span> data<span class="token punctuation">:</span> <span class="token class-name">D</span>
    <span class="token keyword">var</span> content<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">Binding</span><span class="token operator">&lt;</span><span class="token class-name">D</span><span class="token punctuation">.</span><span class="token class-name">Element</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Content</span>
    
    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> data<span class="token punctuation">:</span> <span class="token class-name">Binding</span><span class="token operator">&lt;</span><span class="token class-name">D</span><span class="token operator">></span><span class="token punctuation">,</span> content<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token class-name">Binding</span><span class="token operator">&lt;</span><span class="token class-name">D</span><span class="token punctuation">.</span><span class="token class-name">Element</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Content</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>_data <span class="token operator">=</span> data
        <span class="token keyword">self</span><span class="token punctuation">.</span>content <span class="token operator">=</span> content
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">List</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Section</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">ForEach</span><span class="token punctuation">(</span>$data<span class="token punctuation">,</span> content<span class="token punctuation">:</span> content<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>onMove <span class="token punctuation">&#123;</span> indexSet<span class="token punctuation">,</span> offset <span class="token keyword">in</span>
                        data<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>fromOffsets<span class="token punctuation">:</span> indexSet<span class="token punctuation">,</span> toOffset<span class="token punctuation">:</span> offset<span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span>onDelete <span class="token punctuation">&#123;</span> indexSet <span class="token keyword">in</span>
                        data<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>atOffsets<span class="token punctuation">:</span> indexSet<span class="token punctuation">)</span> <span class="token comment">// macOS æš‚ä¸æ”¯æŒ</span>
                    <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span> header<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬ä¸€æ ï¼Œå…± </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">data<span class="token punctuation">.</span>count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> é¡¹"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> footer<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"The End"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">listStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>plain<span class="token punctuation">)</span> <span class="token comment">// æœ‰.automaticã€.insetã€.plainã€sidebarï¼ŒmacOS æš‚ä¸æ”¯æŒçš„æœ‰.grouped å’Œ .insetGrouped</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - Cell è§†å›¾</span>
<span class="token keyword">struct</span> <span class="token class-name">PRowView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> i<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">ï¼š"</span></span><span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - æ•°æ®æ¨¡å‹è®¾è®¡</span>
<span class="token keyword">struct</span> <span class="token class-name">PLModel</span><span class="token punctuation">:</span> <span class="token class-name">Hashable</span><span class="token punctuation">,</span> <span class="token class-name">Identifiable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token function">UUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> i<span class="token punctuation">:</span> <span class="token class-name">Int</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token constant">PLVM</span><span class="token punctuation">:</span> <span class="token class-name">ObservableObject</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@Published</span> <span class="token keyword">var</span> ls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">PLModel</span><span class="token punctuation">]</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        ls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">PLModel</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token number">0</span><span class="token operator">...</span><span class="token number">20</span> <span class="token punctuation">&#123;</span>
            ls<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">PLModel</span><span class="token punctuation">(</span>s<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">:</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>list æ”¯æŒ Section footerã€‚</p>
<p>list åˆ†éš”ç¬¦å¯ä»¥è‡ªå®šä¹‰ï¼Œä½¿ç”¨  <code>HorizontalEdge.leading</code> å’Œ <code>HorizontalEdge.trailing</code> ã€‚</p>
<p>list ä¸ä½¿ç”¨ UITableView äº†ã€‚</p>
<p>ä»Šå¹´ list è¿˜æ–°å¢äº†ä¸€ä¸ª <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/swiftui/editoperations">EditOperation</a> å¯ä»¥è‡ªåŠ¨ç”Ÿæˆç§»åŠ¨å’Œåˆ é™¤ï¼Œæ–°å¢äº† edits å‚æ•°ï¼Œä¼ å…¥ <code>[.delete, .move]</code> æ•°ç»„å³å¯ã€‚è¿™ä¹Ÿæ˜¯ä¸€ä¸ªæ¼”ç¤ºå¦‚ä½•æ›´å¥½æ‰©å±•å’Œé…ç½®åŠŸèƒ½çš„æ–¹å¼ã€‚</p>
<p><code>.searchable</code> æ”¯æŒ token å’Œ scopeï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PSearchTokensAndScopes</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">enum</span> <span class="token class-name">AttendanceScope</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> inPerson<span class="token punctuation">,</span> online
    <span class="token punctuation">&#125;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> queryText<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> queryTokens<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">InvitationToken</span><span class="token punctuation">]</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> scope<span class="token punctuation">:</span> <span class="token class-name">AttendanceScope</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token function">invitationCountView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">searchable</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> $queryText<span class="token punctuation">,</span> tokens<span class="token punctuation">:</span> $queryTokens<span class="token punctuation">,</span> scope<span class="token punctuation">:</span> $scope<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> token <span class="token keyword">in</span>
                <span class="token class-name">Label</span><span class="token punctuation">(</span>token<span class="token punctuation">.</span>diplayName<span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> token<span class="token punctuation">.</span>systemImage<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> scopes<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"In Person"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">AttendanceScope</span><span class="token punctuation">.</span>inPerson<span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Online"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">AttendanceScope</span><span class="token punctuation">.</span>online<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="LazyVStack-å’Œ-LazyHStack"><a href="#LazyVStack-å’Œ-LazyHStack" class="headerlink" title="LazyVStack å’Œ LazyHStack"></a>LazyVStack å’Œ LazyHStack</h4><p>LazyVStack å’Œ LazyHStack é‡Œçš„è§†å›¾åªæœ‰åœ¨æ»šåˆ°æ—¶æ‰ä¼šè¢«åˆ›å»ºã€‚</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayLazyVStackAndLazyHStackView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ScrollView</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">LazyVStack</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">...</span><span class="token number">300</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                    <span class="token class-name">PLHSRowView</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> i<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">PLHSRowView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> i<span class="token punctuation">:</span> <span class="token class-name">Int</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬ </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> ä¸ª"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">init</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¬¬ </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> ä¸ªåˆå§‹åŒ–äº†"</span></span><span class="token punctuation">)</span> <span class="token comment">// ç”¨æ¥æŸ¥çœ‹ä»€ä¹ˆæ—¶å€™åˆ›å»ºçš„ã€‚</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>i <span class="token operator">=</span> i
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="LazyVGrid-å’Œ-LazyHGrid"><a href="#LazyVGrid-å’Œ-LazyHGrid" class="headerlink" title="LazyVGrid å’Œ LazyHGrid"></a>LazyVGrid å’Œ LazyHGrid</h4><p><img src="https://user-images.githubusercontent.com/251980/155708552-35396dcd-f120-4498-a793-a65abd68c0a6.jpeg"></p>
<p>åˆ—çš„è®¾ç½®æœ‰ä¸‰ç§ï¼Œè¿™ä¸‰ç§ä¹Ÿå¯ä»¥ç»„åˆç”¨ã€‚</p>
<ul>
<li>GridItem(.fixed(10)) ä¼šå›ºå®šè®¾ç½®æœ‰å¤šå°‘åˆ—ã€‚</li>
<li>GridItem(.flexible()) ä¼šå……æ»¡æ²¡æœ‰ä½¿ç”¨çš„ç©ºé—´ã€‚</li>
<li>GridItem(.adaptive(minimum: 10)) è¡¨ç¤ºä¼šæ ¹æ®è®¾ç½®å¤§å°è‡ªåŠ¨è®¾ç½®æœ‰å¤šå°‘åˆ—å±•ç¤ºã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayLazyVGridAndLazyHGridView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span><span class="token class-name">Color</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string-literal"><span class="token string">"red"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>red<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"orange"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>orange<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"yellow"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>yellow<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"green"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>green<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"mint"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>mint<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"teal"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>teal<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"cyan"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>cyan<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"blue"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>blue<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"indigo"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>indigo<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"purple"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>purple<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"pink"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>pink<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"brown"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>brown<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"gray"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>gray<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"black"</span></span> <span class="token punctuation">:</span> <span class="token punctuation">.</span>black
    <span class="token punctuation">]</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ScrollView</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">LazyVGrid</span><span class="token punctuation">(</span>columns<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token class-name">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">adaptive</span><span class="token punctuation">(</span>minimum<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> spacing<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span> pinnedViews<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>sectionHeaders<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Section</span><span class="token punctuation">(</span>header<span class="token punctuation">:</span>
                            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ğŸ¨è°ƒè‰²æ¿"</span></span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> <span class="token punctuation">.</span>infinity<span class="token punctuation">,</span> maxHeight<span class="token punctuation">:</span> <span class="token punctuation">.</span>infinity<span class="token punctuation">)</span>
                                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
                                                <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>keys<span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> k <span class="token keyword">in</span>
                        colors<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span><span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token class-name">Int</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token operator">...</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span>
                                <span class="token class-name">Text</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span>
                            <span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token class-name">LazyVGrid</span><span class="token punctuation">(</span>columns<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token class-name">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">adaptive</span><span class="token punctuation">(</span>minimum<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> spacing<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Section</span><span class="token punctuation">(</span>header<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å›¾æ ‡é›†"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">...</span><span class="token number">30</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                        <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">aspectRatio</span><span class="token punctuation">(</span>contentMode<span class="token punctuation">:</span> <span class="token punctuation">.</span>fit<span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="table"><a href="#table" class="headerlink" title="table"></a>table</h4><p>ä»Šå¹´ iOS å’Œ iPadOS ä¹Ÿå¯ä»¥ä½¿ç”¨å»å¹´åªèƒ½åœ¨ macOS ä¸Šä½¿ç”¨çš„ Tableäº†ï¼Œæ® digital lounges é‡Œè¯´ï¼ŒiOS table çš„æ€§èƒ½å’Œ list å·®ä¸å¤šï¼Œtable é»˜è®¤ä¸º plian listã€‚æˆ‘æƒ³ iOS ä¸ŠåŠ ä¸Š table åªæ˜¯ä¸ºäº†å…¼å®¹ macOS ä»£ç å§ã€‚</p>
<p>table ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token class-name">Table</span><span class="token punctuation">(</span>attendeeStore<span class="token punctuation">.</span>attendees<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">TableColumn</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Name"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> attendee <span class="token keyword">in</span>
        <span class="token class-name">AttendeeRow</span><span class="token punctuation">(</span>attendee<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token class-name">TableColumn</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"City"</span></span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>city<span class="token punctuation">)</span>
    <span class="token class-name">TableColumn</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Status"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> attendee <span class="token keyword">in</span>
        <span class="token class-name">StatusRow</span><span class="token punctuation">(</span>attendee<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">.</span><span class="token function">contextMenu</span><span class="token punctuation">(</span>forSelectionType<span class="token punctuation">:</span> <span class="token class-name">Attendee</span><span class="token punctuation">.</span><span class="token constant">ID</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> selection <span class="token keyword">in</span>
    <span class="token keyword">if</span> selection<span class="token punctuation">.</span>isEmpty <span class="token punctuation">&#123;</span>
        <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"New Invitation"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">addInvitation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> selection<span class="token punctuation">.</span>count <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Mark as VIP"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">markVIPs</span><span class="token punctuation">(</span>selection<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Mark as VIPs"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token function">markVIPs</span><span class="token punctuation">(</span>selection<span class="token punctuation">)</span> <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="ScrollView"><a href="#ScrollView" class="headerlink" title="ScrollView"></a>ScrollView</h4><p>ScrollView ä½¿ç”¨ scrollTo å¯ä»¥ç›´æ¥æ»šåŠ¨åˆ°æŒ‡å®šçš„ä½ç½®ã€‚ScrollView è¿˜å¯ä»¥é€å‡ºåç§»é‡ï¼Œåˆ©ç”¨åç§»é‡å¯ä»¥å®šä¹‰è‡ªå·±çš„åŠ¨æ€è§†å›¾ï¼Œæ¯”å¦‚å‘ä¸‹å‘ä¸Šæ»šåŠ¨è§†å›¾æ—¶æœ‰ä¸åŒæ•ˆæœï¼Œåˆ°é¡¶éƒ¨æ˜¾ç¤ºæ ‡é¢˜è§†å›¾ç­‰ã€‚</p>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayScrollView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> scrollOffset<span class="token punctuation">:</span> <span class="token class-name">CGFloat</span> <span class="token operator">=</span> <span class="token punctuation">.</span>zero
    
    <span class="token keyword">var</span> infoView<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">GeometryReader</span> <span class="token punctuation">&#123;</span> g <span class="token keyword">in</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>"ç§»åŠ¨äº† <span class="token punctuation">\</span><span class="token punctuation">(</span><span class="token class-name">Double</span><span class="token punctuation">(</span>scrollOffset<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span><span class="token punctuation">.</span>number<span class="token punctuation">.</span><span class="token function">precision</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">fractionLength</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rounded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>"<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// æ ‡å‡†ç”¨æ³•</span>
        <span class="token class-name">ScrollViewReader</span> <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
            <span class="token class-name">ScrollView</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è·³åˆ°150"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                withAnimation <span class="token punctuation">&#123;</span>
                    s<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> anchor<span class="token punctuation">:</span> <span class="token punctuation">.</span>top<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span> <span class="token comment">// end Button</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end ScrollViewReader</span>
        
        <span class="token comment">// è‡ªå®šä¹‰çš„ ScrollView é€å‡º offset ä¾›ä½¿ç”¨</span>
        <span class="token class-name">ZStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">PCScrollView</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span> whenMoved<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> d <span class="token keyword">in</span>
                scrollOffset <span class="token operator">=</span> d
            <span class="token punctuation">&#125;</span>
            infoView
            
        <span class="token punctuation">&#125;</span> <span class="token comment">// end ZStack</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end body</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - è‡ªå®šä¹‰ ScrollView</span>
<span class="token keyword">struct</span> <span class="token class-name">PCScrollView</span><span class="token operator">&lt;</span><span class="token class-name">C</span><span class="token punctuation">:</span> <span class="token class-name">View</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> c<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">C</span>
    <span class="token keyword">let</span> whenMoved<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">CGFloat</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span>
    
    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token attribute atrule">@ViewBuilder</span> c<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">C</span><span class="token punctuation">,</span> whenMoved<span class="token punctuation">:</span> <span class="token attribute atrule">@escaping</span> <span class="token punctuation">(</span><span class="token class-name">CGFloat</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Void</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>c <span class="token operator">=</span> c
        <span class="token keyword">self</span><span class="token punctuation">.</span>whenMoved <span class="token operator">=</span> whenMoved
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">var</span> offsetReader<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">GeometryReader</span> <span class="token punctuation">&#123;</span> g <span class="token keyword">in</span>
            <span class="token class-name">Color</span><span class="token punctuation">.</span>clear
                <span class="token punctuation">.</span><span class="token function">preference</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token class-name">OffsetPreferenceKey</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> g<span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">named</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"frameLayer"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>minY<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ScrollView</span> <span class="token punctuation">&#123;</span>
            offsetReader
            <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>top<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">coordinateSpace</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"frameLayer"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">onPreferenceChange</span><span class="token punctuation">(</span><span class="token class-name">OffsetPreferenceKey</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> perform<span class="token punctuation">:</span> whenMoved<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end body</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">private</span> <span class="token keyword">struct</span> <span class="token class-name">OffsetPreferenceKey</span><span class="token punctuation">:</span> <span class="token class-name">PreferenceKey</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">static</span> <span class="token keyword">var</span> defaultValue<span class="token punctuation">:</span> <span class="token class-name">CGFloat</span> <span class="token operator">=</span> <span class="token punctuation">.</span>zero
  <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">reduce</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">CGFloat</span><span class="token punctuation">,</span> nextValue<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">CGFloat</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æ–°å¢ modifier</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token class-name">ScrollView</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">.</span><span class="token function">scrollDisabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">scrollDismissesKeyboard</span><span class="token punctuation">(</span><span class="token punctuation">.</span>interactively<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">scrollIndicators</span><span class="token punctuation">(</span><span class="token punctuation">.</span>visible<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="æµ®å±‚"><a href="#æµ®å±‚" class="headerlink" title="æµ®å±‚"></a>æµ®å±‚</h4><p><img src="https://user-images.githubusercontent.com/251980/156135869-7451bbc9-95b9-445f-8721-66f0aedbed70.png"></p>
<p>æµ®å±‚æœ‰ HUDã€ContextMenuã€Sheetã€Alertã€ConfirmationDialogã€Popoverã€ActionSheet ç­‰å‡ ç§æ–¹å¼ã€‚è¿™äº›æ–¹å¼å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlaySuperposedLayerView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@StateObject</span> <span class="token keyword">var</span> hudVM <span class="token operator">=</span> <span class="token function">PHUDVM</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isShow <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isShowAlert <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isShowConfirmationDialog <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isShowPopover <span class="token operator">=</span> <span class="token boolean">false</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
            
            
            <span class="token class-name">List</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">..&lt;</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span>contextMenu <span class="token punctuation">&#123;</span>
                            <span class="token comment">// åœ¨ macOS ä¸Šå³é”®ä¼šå‡ºç°çš„èœå•</span>
                            <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> is clicked"</span></span><span class="token punctuation">)</span>
                            <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Click </span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
                            <span class="token punctuation">&#125;</span>
                        <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"åˆ—è¡¨"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span>toolbar <span class="token punctuation">&#123;</span>
                <span class="token class-name">ToolbarItemGroup</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>automatic<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æŸ¥çœ‹ Sheet"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        isShow <span class="token operator">=</span> <span class="token boolean">true</span>
                    <span class="token punctuation">&#125;</span>
                    
                    <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æŸ¥çœ‹ Alert"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        isShowAlert <span class="token operator">=</span> <span class="token boolean">true</span>
                    <span class="token punctuation">&#125;</span>
                    
                    <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æŸ¥çœ‹ confirmationDialog"</span></span><span class="token punctuation">,</span> role<span class="token punctuation">:</span> <span class="token punctuation">.</span>destructive<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        isShowConfirmationDialog <span class="token operator">=</span> <span class="token boolean">true</span>
                    <span class="token punctuation">&#125;</span>
                    
                    <span class="token comment">// Popover æ ·å¼é»˜è®¤æ˜¯å¼¹å‡ºçª—å£ç½®äºæŒ‰é’®ä¸Šæ–¹ï¼ŒæŒ‡å‘åº•éƒ¨ã€‚</span>
                    <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æŸ¥çœ‹ Popover"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        isShowPopover <span class="token operator">=</span> <span class="token boolean">true</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">popover</span><span class="token punctuation">(</span>isPresented<span class="token punctuation">:</span> $isShowPopover<span class="token punctuation">,</span> attachmentAnchor<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">point</span><span class="token punctuation">(</span><span class="token punctuation">.</span>trailing<span class="token punctuation">)</span><span class="token punctuation">,</span> arrowEdge<span class="token punctuation">:</span> <span class="token punctuation">.</span>trailing<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Popover çš„å†…å®¹"</span></span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                    
                <span class="token punctuation">&#125;</span> <span class="token comment">// end ToolbarItemGroup</span>
            <span class="token punctuation">&#125;</span> <span class="token comment">// end toolbar</span>
            <span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span>isPresented<span class="token punctuation">:</span> $isShowAlert<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Alert</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å¼¹æ¡†æ ‡é¢˜"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å¼¹æ¡†å†…å®¹"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">sheet</span><span class="token punctuation">(</span>isPresented<span class="token punctuation">:</span> $isShow<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"dismiss"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> content<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Sheet"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"brain.head.profile"</span></span><span class="token punctuation">)</span>
                    <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å…³é—­"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        isShow <span class="token operator">=</span> <span class="token boolean">false</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">confirmationDialog</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¡®å®šåˆ é™¤ï¼Ÿ"</span></span><span class="token punctuation">,</span> isPresented<span class="token punctuation">:</span> $isShowConfirmationDialog<span class="token punctuation">,</span> titleVisibility<span class="token punctuation">:</span> <span class="token punctuation">.</span>hidden<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç¡®å®š"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token comment">// do good thing</span>
                <span class="token punctuation">&#125;</span>
                <span class="token punctuation">.</span><span class="token function">keyboardShortcut</span><span class="token punctuation">(</span><span class="token punctuation">.</span>defaultAction<span class="token punctuation">)</span> <span class="token comment">// ä½¿ç”¨ keyboardShortcut å¯ä»¥è®¾ç½®æˆä¸ºé»˜è®¤é€‰é¡¹æ ·å¼</span>
                
                <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸ä¸"</span></span><span class="token punctuation">,</span> role<span class="token punctuation">:</span> <span class="token punctuation">.</span>cancel<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token comment">// good choice</span>
                <span class="token punctuation">&#125;</span>
                
            <span class="token punctuation">&#125;</span> message<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¿™ä¸ªä¸œè¥¿è¿˜æœ‰ç‚¹é‡è¦å“¦"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            
            <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                hudVM<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"æ‚¨æœ‰ä¸€æ¡æ–°çš„çŸ­æ¶ˆæ¯"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"ellipsis.bubble"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æŸ¥çœ‹ HUD"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"switch.2"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">environmentObject</span><span class="token punctuation">(</span>hudVM<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">hud</span><span class="token punctuation">(</span>isShow<span class="token punctuation">:</span> $hudVM<span class="token punctuation">.</span>isShow<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Label</span><span class="token punctuation">(</span>hudVM<span class="token punctuation">.</span>title<span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> hudVM<span class="token punctuation">.</span>systemImage<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - ä¾›å…¨å±€ä½¿ç”¨çš„ HUD</span>
<span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token constant">PHUDVM</span><span class="token punctuation">:</span> <span class="token class-name">ObservableObject</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@Published</span> <span class="token keyword">var</span> isShow<span class="token punctuation">:</span> <span class="token class-name">Bool</span> <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">var</span> title<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
    <span class="token keyword">var</span> systemImage<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">show</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span>title <span class="token operator">=</span> title
        <span class="token keyword">self</span><span class="token punctuation">.</span>systemImage <span class="token operator">=</span> systemImage
        withAnimation <span class="token punctuation">&#123;</span>
            isShow <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - æ‰©å±• View ä½¿å…¶èƒ½å¤Ÿæœ‰ HUD çš„èƒ½åŠ›</span>
<span class="token keyword">extension</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">hud</span><span class="token operator">&lt;</span><span class="token class-name">V</span><span class="token punctuation">:</span> <span class="token class-name">View</span><span class="token operator">></span><span class="token punctuation">(</span>
        isShow<span class="token punctuation">:</span> <span class="token class-name">Binding</span><span class="token operator">&lt;</span><span class="token class-name">Bool</span><span class="token operator">></span><span class="token punctuation">,</span>
        <span class="token attribute atrule">@ViewBuilder</span> v<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">V</span>
    <span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ZStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>top<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">self</span>
            
            <span class="token keyword">if</span> isShow<span class="token punctuation">.</span>wrappedValue <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token punctuation">&#123;</span>
                <span class="token function">PHUD</span><span class="token punctuation">(</span>v<span class="token punctuation">:</span> v<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token class-name">AnyTransition</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>edge<span class="token punctuation">:</span> <span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">combined</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> <span class="token punctuation">.</span>opacity<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>onAppear <span class="token punctuation">&#123;</span>
                        <span class="token class-name">DispatchQueue</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">asyncAfter</span><span class="token punctuation">(</span>deadline<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                            withAnimation <span class="token punctuation">&#123;</span>
                                isShow<span class="token punctuation">.</span>wrappedValue <span class="token operator">=</span> <span class="token boolean">false</span>
                            <span class="token punctuation">&#125;</span>
                        <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">zIndex</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - è‡ªå®šä¹‰ HUD</span>
<span class="token keyword">struct</span> <span class="token constant">PHUD</span><span class="token operator">&lt;</span><span class="token class-name">V</span><span class="token punctuation">:</span> <span class="token class-name">View</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@ViewBuilder</span> <span class="token keyword">let</span> v<span class="token punctuation">:</span> <span class="token class-name">V</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        v
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>
                <span class="token class-name">Capsule</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>SwiftUI æ–°æ¨å‡ºçš„ <code>presentationDetents()</code> modifier å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯ä»¥å®šåˆ¶çš„ bottom sheetã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PSheet</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isShow <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ˜¾ç¤º Sheet"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            isShow<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">sheet</span><span class="token punctuation">(</span>isPresented<span class="token punctuation">:</span> $isShow<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¿™é‡Œæ˜¯ Sheet çš„å†…å®¹"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">presentationDetents</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">.</span>medium<span class="token punctuation">,</span> <span class="token punctuation">.</span>large<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>detent é»˜è®¤å€¼æ˜¯ <code>.large</code>ã€‚ä¹Ÿå¯ä»¥æä¾›ä¸€ä¸ªç™¾åˆ†æ¯”ï¼Œæ¯”å¦‚ <code>.presentationDetents([.fraction(0.7)])</code>ï¼Œæˆ–è€…ç›´æ¥æŒ‡å®šé«˜åº¦ <code>.presentationDetents([.height(100)])</code>ã€‚</p>
<p>presentationDragIndicator modifier å¯ä»¥ç”¨æ¥æ˜¾ç¤ºéšè—æ‹–åŠ¨æ ‡è¯†ã€‚</p>
<h4 id="TabView"><a href="#TabView" class="headerlink" title="TabView"></a>TabView</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayTabView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> selection <span class="token operator">=</span> <span class="token number">0</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ZStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottom<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">TabView</span><span class="token punctuation">(</span>selection<span class="token punctuation">:</span> $selection<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>tabItem <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é¦–é¡µ"</span></span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">hidden</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>tabItem <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"äºŒæ "</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"three"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>tabItem <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸‰æ "</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"four"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"five"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"six"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"seven"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"eight"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"nine"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ten"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> <span class="token comment">// end TabView</span>
            
            
            <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸Šä¸€é¡µ"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token keyword">if</span> selection <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">&#123;</span>
                        selection <span class="token operator">-=</span> <span class="token number">1</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token punctuation">.</span><span class="token function">keyboardShortcut</span><span class="token punctuation">(</span><span class="token punctuation">.</span>cancelAction<span class="token punctuation">)</span>
                <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ä¸‹ä¸€é¡µ"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token keyword">if</span> selection <span class="token operator">&lt;</span> <span class="token number">9</span> <span class="token punctuation">&#123;</span>
                        selection <span class="token operator">+=</span> <span class="token number">1</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token punctuation">.</span><span class="token function">keyboardShortcut</span><span class="token punctuation">(</span><span class="token punctuation">.</span>defaultAction<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> <span class="token comment">// end HStack</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>.tabViewStyle(PageTabViewStyle(indexDisplayMode: .never)) å¯ä»¥å®ç° UIPageViewController çš„æ•ˆæœï¼Œå¦‚æœè¦ç»™å°ç™½ç‚¹åŠ ä¸ŠèƒŒæ™¯ï¼Œå¯ä»¥å¤šæ·»åŠ ä¸€ä¸ª .indexViewStyle(PageIndexViewStyle(backgroundDisplayMode: .always)) ä¿®æ”¹å™¨ã€‚</p>
<h4 id="Swift-Charts"><a href="#Swift-Charts" class="headerlink" title="Swift Charts"></a>Swift Charts</h4><p>å¯è§†åŒ–æ•°æ®ï¼Œä½¿ç”¨ SwiftUI è¯­æ³•æ¥åˆ›å»ºã€‚è¿˜å¯ä»¥ä½¿ç”¨ ChartRenderer æ¥å£å°†å›¾æ ‡æ¸²æŸ“æˆå›¾ã€‚</p>
<p>å®˜æ–¹æ–‡æ¡£ <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/Charts">Swift Charts</a></p>
<p>å…¥é—¨å‚çœ‹ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/10136/">Hello Swift Charts</a></p>
<p>Apple æ–‡ç«  <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/Charts/Creating-a-chart-using-Swift-Charts">Creating a chart using Swift Charts</a></p>
<p>é«˜çº§å®šåˆ¶å’Œåˆ›å»ºæ›´ç²¾ç»†å›¾è¡¨ï¼Œå¯ä»¥çœ‹è¿™ä¸ª session <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022/10137">Swift Charts: Raise the bar</a> è¿™ä¸ª session ä¹Ÿä¼šæåˆ°å¦‚ä½•åœ¨å›¾è¡¨ä¸­è¿›è¡Œäº¤äº’ã€‚è¿™é‡Œæ˜¯ session å¯¹åº”çš„ä»£ç ç¤ºä¾‹ <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/charts/visualizing_your_app_s_data">Visualizing your appâ€™s data</a> ã€‚</p>
<p>å›¾è¡¨è®¾è®¡çš„ sessionï¼Œ<a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-110340">Design an effective chart</a> å’Œ <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-110342">Design app experiences with charts</a> ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä»£ç ç¤ºä¾‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">Charts</span>

<span class="token keyword">struct</span> <span class="token class-name">PChartModel</span><span class="token punctuation">:</span> <span class="token class-name">Hashable</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> day<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">var</span> amount<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token operator">..&lt;</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">extension</span> <span class="token class-name">PChartModel</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">var</span> data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">PChartModel</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> calendar <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token punctuation">.</span>gregorian<span class="token punctuation">)</span>
        <span class="token keyword">let</span> days <span class="token operator">=</span> calendar<span class="token punctuation">.</span>shortWeekdaySymbols
        <span class="token keyword">return</span> days<span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> day <span class="token keyword">in</span>
            <span class="token class-name">PChartModel</span><span class="token punctuation">(</span>day<span class="token punctuation">:</span> day<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">PlayCharts</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Chart</span><span class="token punctuation">(</span><span class="token class-name">PChartModel</span><span class="token punctuation">.</span>data<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> v <span class="token keyword">in</span>
            <span class="token class-name">BarMark</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å¤©"</span></span><span class="token punctuation">,</span> v<span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ•°é‡"</span></span><span class="token punctuation">,</span> v<span class="token punctuation">.</span>amount<span class="token punctuation">)</span><span class="token punctuation">)</span>
            
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">struct</span> <span class="token class-name">PSwiftCharts</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">struct</span> <span class="token class-name">CData</span><span class="token punctuation">:</span> <span class="token class-name">Identifiable</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token function">UUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> i<span class="token punctuation">:</span> <span class="token class-name">Int</span>
        <span class="token keyword">let</span> v<span class="token punctuation">:</span> <span class="token class-name">Double</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> a<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">CData</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> v<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> v<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> v<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> v<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> v<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> v<span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Chart</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
            <span class="token class-name">LineMark</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Index"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Value"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token class-name">BarMark</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Index"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> yStart<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å¼€å§‹"</span></span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> yEnd<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ç»“æŸ"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">foregroundStyle</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Value"</span></span><span class="token punctuation">,</span> i<span class="token punctuation">.</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end Chart</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end body</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>BarMark ç”¨äºåˆ›å»ºæ¡å½¢å›¾ï¼ŒLineMark ç”¨äºåˆ›å»ºæŠ˜çº¿å›¾ã€‚SwiftUI Charts æ¡†æ¶è¿˜æä¾› PointMarkã€AxisMarksã€AreaMarkã€RectangularMark å’Œ RuleMark ç”¨äºåˆ›å»ºä¸åŒç±»å‹çš„å›¾è¡¨ã€‚æ³¨é‡Šä½¿ç”¨ <code>.annotation</code> modifierï¼Œä¿®æ”¹é¢œè‰²å¯ä»¥ä½¿ç”¨ <code>.foregroundStyle</code> modifierã€‚<code>.lineStyle</code> modifier å¯ä»¥ä¿®æ”¹çº¿å®½ã€‚</p>
<p>AxisMarks çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">MonthlySalesChart</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Chart</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>month<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">BarMark</span><span class="token punctuation">(</span>
                x<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Month"</span></span><span class="token punctuation">,</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>month<span class="token punctuation">,</span> unit<span class="token punctuation">:</span> <span class="token punctuation">.</span>month<span class="token punctuation">)</span><span class="token punctuation">,</span>
                y<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Sales"</span></span><span class="token punctuation">,</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>sales<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span>chartXAxis <span class="token punctuation">&#123;</span>
            <span class="token class-name">AxisMarks</span><span class="token punctuation">(</span>values<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">stride</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token punctuation">.</span>month<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> value <span class="token keyword">in</span>
                <span class="token keyword">if</span> value<span class="token punctuation">.</span><span class="token keyword">as</span><span class="token punctuation">(</span><span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">.</span>isFirstMonthOfQuarter <span class="token punctuation">&#123;</span>
                    <span class="token class-name">AxisGridLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span>
                    <span class="token class-name">AxisTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span>
                    <span class="token class-name">AxisValueLabel</span><span class="token punctuation">(</span>
                        format<span class="token punctuation">:</span> <span class="token punctuation">.</span>dateTime<span class="token punctuation">.</span><span class="token function">month</span><span class="token punctuation">(</span><span class="token punctuation">.</span>narrow<span class="token punctuation">)</span>
                    <span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">AxisGridLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>å¯äº¤äº’å›¾è¡¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">InteractiveBrushingChart</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> range<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">Date</span><span class="token punctuation">,</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token nil constant">nil</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Chart</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">ForEach</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span>day<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">LineMark</span><span class="token punctuation">(</span>
                    x<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Month"</span></span><span class="token punctuation">,</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>day<span class="token punctuation">,</span> unit<span class="token punctuation">:</span> <span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    y<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Sales"</span></span><span class="token punctuation">,</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>sales<span class="token punctuation">)</span>
                <span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">interpolationMethod</span><span class="token punctuation">(</span><span class="token punctuation">.</span>catmullRom<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">symbol</span><span class="token punctuation">(</span><span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">strokeBorder</span><span class="token punctuation">(</span>lineWidth<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token keyword">if</span> <span class="token keyword">let</span> <span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span> <span class="token operator">=</span> range <span class="token punctuation">&#123;</span>
                <span class="token class-name">RectangleMark</span><span class="token punctuation">(</span>
                    xStart<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Selection Start"</span></span><span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    xEnd<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Selection End"</span></span><span class="token punctuation">,</span> end<span class="token punctuation">)</span>
                <span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">foregroundStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>gray<span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span>chartOverlay <span class="token punctuation">&#123;</span> proxy <span class="token keyword">in</span>
            <span class="token class-name">GeometryReader</span> <span class="token punctuation">&#123;</span> nthGeoItem <span class="token keyword">in</span>
                <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>clear<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contentShape</span><span class="token punctuation">(</span><span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">gesture</span><span class="token punctuation">(</span><span class="token class-name">DragGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span>onChanged <span class="token punctuation">&#123;</span> value <span class="token keyword">in</span>
                            <span class="token comment">// Find the x-coordinates in the chartâ€™s plot area.</span>
                            <span class="token keyword">let</span> xStart <span class="token operator">=</span> value<span class="token punctuation">.</span>startLocation<span class="token punctuation">.</span>x <span class="token operator">-</span> nthGeoItem<span class="token punctuation">[</span>proxy<span class="token punctuation">.</span>plotAreaFrame<span class="token punctuation">]</span><span class="token punctuation">.</span>origin<span class="token punctuation">.</span>x
                            <span class="token keyword">let</span> xCurrent <span class="token operator">=</span> value<span class="token punctuation">.</span>location<span class="token punctuation">.</span>x <span class="token operator">-</span> nthGeoItem<span class="token punctuation">[</span>proxy<span class="token punctuation">.</span>plotAreaFrame<span class="token punctuation">]</span><span class="token punctuation">.</span>origin<span class="token punctuation">.</span>x
                            <span class="token comment">// Find the date values at the x-coordinates.</span>
                            <span class="token keyword">if</span> <span class="token keyword">let</span> dateStart<span class="token punctuation">:</span> <span class="token class-name">Date</span> <span class="token operator">=</span> proxy<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span>atX<span class="token punctuation">:</span> xStart<span class="token punctuation">)</span><span class="token punctuation">,</span>
                               <span class="token keyword">let</span> dateCurrent<span class="token punctuation">:</span> <span class="token class-name">Date</span> <span class="token operator">=</span> proxy<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span>atX<span class="token punctuation">:</span> xCurrent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                                range <span class="token operator">=</span> <span class="token punctuation">(</span>dateStart<span class="token punctuation">,</span> dateCurrent<span class="token punctuation">)</span>
                            <span class="token punctuation">&#125;</span>
                        <span class="token punctuation">&#125;</span>
                        <span class="token punctuation">.</span>onEnded <span class="token punctuation">&#123;</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span> range <span class="token operator">=</span> <span class="token nil constant">nil</span> <span class="token punctuation">&#125;</span> <span class="token comment">// Clear the state on gesture end.</span>
                    <span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ç¤¾åŒºåšçš„æ›´å¤š Swift Charts èŒƒä¾‹ <a target="_blank" rel="noopener" href="https://github.com/jordibruin/Swift-Charts-Examples">Swift Charts Examples</a> ã€‚</p>
<h4 id="Toggle"><a href="#Toggle" class="headerlink" title="Toggle"></a>Toggle</h4><p><img src="https://user-images.githubusercontent.com/251980/156289124-bde3c73e-2a81-4043-8682-ae55a820f1aa.png"></p>
<p>Toggle å¯ä»¥è®¾ç½® toggleStyleï¼Œå¯ä»¥è‡ªå®šä¹‰æ ·å¼ã€‚ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayToggleView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isEnable <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// æ™®é€šæ ·å¼</span>
        <span class="token class-name">Toggle</span><span class="token punctuation">(</span>isOn<span class="token punctuation">:</span> $isEnable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">isEnable <span class="token operator">?</span> <span class="token string-literal"><span class="token string">"å¼€äº†"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"å…³äº†"</span></span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment">// æŒ‰é’®æ ·å¼</span>
        <span class="token class-name">Toggle</span><span class="token punctuation">(</span>isOn<span class="token punctuation">:</span> $isEnable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">isEnable <span class="token operator">?</span> <span class="token string-literal"><span class="token string">"æ‰“å¼€äº†"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"å…³é—­äº†"</span></span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"cloud.moon"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">tint</span><span class="token punctuation">(</span><span class="token punctuation">.</span>pink<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">controlSize</span><span class="token punctuation">(</span><span class="token punctuation">.</span>large<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">toggleStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>button<span class="token punctuation">)</span>
        
        <span class="token comment">// Switch æ ·å¼</span>
        <span class="token class-name">Toggle</span><span class="token punctuation">(</span>isOn<span class="token punctuation">:</span> $isEnable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">isEnable <span class="token operator">?</span> <span class="token string-literal"><span class="token string">"å¼€äº†"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"å…³äº†"</span></span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">toggleStyle</span><span class="token punctuation">(</span><span class="token class-name">SwitchToggleStyle</span><span class="token punctuation">(</span>tint<span class="token punctuation">:</span> <span class="token punctuation">.</span>orange<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment">// è‡ªå®šä¹‰æ ·å¼</span>
        <span class="token class-name">Toggle</span><span class="token punctuation">(</span>isOn<span class="token punctuation">:</span> $isEnable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span>isEnable <span class="token operator">?</span> <span class="token string-literal"><span class="token string">"å½•éŸ³ä¸­"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"å·²é™éŸ³"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">toggleStyle</span><span class="token punctuation">(</span><span class="token class-name">PCToggleStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - è‡ªå®šä¹‰æ ·å¼</span>
<span class="token keyword">struct</span> <span class="token class-name">PCToggleStyle</span><span class="token punctuation">:</span> <span class="token class-name">ToggleStyle</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">makeBody</span><span class="token punctuation">(</span>configuration<span class="token punctuation">:</span> <span class="token class-name">Configuration</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
            configuration<span class="token punctuation">.</span>label
            <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> configuration<span class="token punctuation">.</span>isOn <span class="token operator">?</span> <span class="token string-literal"><span class="token string">"mic.square.fill"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"mic.slash.circle.fill"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">renderingMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>original<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span>onTapGesture <span class="token punctuation">&#123;</span>
                    configuration<span class="token punctuation">.</span>isOn<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Picker"><a href="#Picker" class="headerlink" title="Picker"></a>Picker</h4><p><img src="https://user-images.githubusercontent.com/251980/156298284-2fb37b3e-55f0-4918-ba8e-74f747bf3171.jpeg"></p>
<p>æœ‰ Picker è§†å›¾ï¼Œè¿˜æœ‰é¢œè‰²å’Œæ—¶é—´é€‰æ‹©çš„ ColorPicker å’Œ DatePickerã€‚</p>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayPickerView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> select <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token class-name">Color</span><span class="token punctuation">.</span>red<span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span>
    
    <span class="token keyword">var</span> dateFt<span class="token punctuation">:</span> <span class="token class-name">DateFormatter</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> ft <span class="token operator">=</span> <span class="token class-name">DateFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        ft<span class="token punctuation">.</span>dateStyle <span class="token operator">=</span> <span class="token punctuation">.</span>long
        <span class="token keyword">return</span> ft
    <span class="token punctuation">&#125;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        
        <span class="token comment">// é»˜è®¤æ˜¯ä¸‹æ‹‰çš„é£æ ¼</span>
        <span class="token class-name">Form</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Section</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é€‰åŒº"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Picker</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é€‰ä¸€ä¸ª"</span></span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $select<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                    <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"2"</span></span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment">// Segment é£æ ¼ï¼Œ</span>
        <span class="token class-name">Picker</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é€‰ä¸€ä¸ª"</span></span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $select<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"one"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"two"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">pickerStyle</span><span class="token punctuation">(</span><span class="token class-name">SegmentedPickerStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment">// é¢œè‰²é€‰æ‹©å™¨</span>
        <span class="token class-name">ColorPicker</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é€‰ä¸€ä¸ªé¢œè‰²"</span></span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $color<span class="token punctuation">,</span> supportsOpacity<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span>
        
        <span class="token comment">// æ—¶é—´é€‰æ‹©å™¨</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">DatePicker</span><span class="token punctuation">(</span>selection<span class="token punctuation">:</span> $date<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token operator">...</span><span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> displayedComponents<span class="token punctuation">:</span> <span class="token punctuation">.</span>date<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é€‰æ—¶é—´"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            
            <span class="token class-name">DatePicker</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é€‰æ—¶é—´"</span></span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $date<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">datePickerStyle</span><span class="token punctuation">(</span><span class="token class-name">GraphicalDatePickerStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxHeight<span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">)</span>
            
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ—¶é—´ï¼š</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">date<span class="token punctuation">,</span> formatter<span class="token punctuation">:</span> dateFt</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é€‰æ‹©å¤šä¸ªæ—¥æœŸ</p>
<p>MultiDatePicker è§†å›¾ä¼šæ˜¾ç¤ºä¸€ä¸ªæ—¥å†ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©å¤šä¸ªæ—¥æœŸï¼Œå¯ä»¥è®¾ç½®é€‰æ‹©èŒƒå›´ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PMultiDatePicker</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@Environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>calendar<span class="token punctuation">)</span> <span class="token keyword">var</span> cal
    <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> dates<span class="token punctuation">:</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">DateComponents</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">MultiDatePicker</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"é€‰æ‹©ä¸ªæ—¥å­"</span></span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $dates<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token class-name">Date</span><span class="token punctuation">.</span>now<span class="token operator">...</span><span class="token punctuation">)</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">var</span> s<span class="token punctuation">:</span> <span class="token class-name">String</span> <span class="token punctuation">&#123;</span>
        dates<span class="token punctuation">.</span>compactMap <span class="token punctuation">&#123;</span> c <span class="token keyword">in</span>
            cal<span class="token punctuation">.</span><span class="token function">date</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span>c<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span>date<span class="token punctuation">:</span> <span class="token punctuation">.</span>long<span class="token punctuation">,</span> time<span class="token punctuation">:</span> <span class="token punctuation">.</span>omitted<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">formatted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>PhotosPick</p>
<p>æ”¯æŒå›¾ç‰‡é€‰æ‹©ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token class-name">PhotosUI</span>
<span class="token keyword">import</span> <span class="token class-name">CoreTransferable</span>

<span class="token keyword">struct</span> <span class="token class-name">ContentView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@ObservedObject</span> <span class="token keyword">var</span> viewModel<span class="token punctuation">:</span> <span class="token class-name">FilterModel</span> <span class="token operator">=</span> <span class="token punctuation">.</span>shared
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">NavigationStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Gallery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Birthday Filter"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span>toolbar <span class="token punctuation">&#123;</span>
                    <span class="token class-name">PhotosPicker</span><span class="token punctuation">(</span>
                        selection<span class="token punctuation">:</span> $viewModel<span class="token punctuation">.</span>imageSelection<span class="token punctuation">,</span>
                        matching<span class="token punctuation">:</span> <span class="token punctuation">.</span>images
                    <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Pick a photo"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"plus.app"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
                        viewModel<span class="token punctuation">.</span><span class="token function">applyFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Apply Filter"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"camera.filters"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Slider"><a href="#Slider" class="headerlink" title="Slider"></a>Slider</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlaySliderView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">var</span> count<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Slider</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> $count<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token operator">...</span><span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">Int</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Stepper"><a href="#Stepper" class="headerlink" title="Stepper"></a>Stepper</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayStepperView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> count<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Stepper</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> $count<span class="token punctuation">,</span> step<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å…±</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> onEditingChanged<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> b <span class="token keyword">in</span>
            <span class="token function">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end Stepper</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Form"><a href="#Form" class="headerlink" title="Form"></a>Form</h4><p>Form ä»Šå¹´ä¹Ÿå¾—åˆ°äº†å¢å¼ºï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token class-name">Form</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">Section</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">LabeledContent</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Location"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">AddressView</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token class-name">DatePicker</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Date"</span></span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $date<span class="token punctuation">)</span>
        <span class="token class-name">TextField</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Description"</span></span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $eventDescription<span class="token punctuation">,</span> axis<span class="token punctuation">:</span> <span class="token punctuation">.</span>vertical<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">lineLimit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> reservesSpace<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token class-name">Section</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Vibe"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Picker</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Accent color"</span></span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $accent<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token class-name">Theme</span><span class="token punctuation">.</span>allCases<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> accent <span class="token keyword">in</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span>accent<span class="token punctuation">.</span>rawValue<span class="token punctuation">.</span>capitalized<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span>accent<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token class-name">Picker</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Color scheme"</span></span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $scheme<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Light"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">ColorScheme</span><span class="token punctuation">.</span>light<span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Dark"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">ColorScheme</span><span class="token punctuation">.</span>dark<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
<span class="token directive property"><span class="token directive-name">#if</span> os<span class="token punctuation">(</span>macOS<span class="token punctuation">)</span></span>
        <span class="token punctuation">.</span><span class="token function">pickerStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>inline<span class="token punctuation">)</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span>
        <span class="token class-name">Toggle</span><span class="token punctuation">(</span>isOn<span class="token punctuation">:</span> $extraGuests<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Allow extra guests"</span></span><span class="token punctuation">)</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"The more the merrier!"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span> extraGuests <span class="token punctuation">&#123;</span>
            <span class="token class-name">Stepper</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Guests limit"</span></span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> $spacesCount<span class="token punctuation">,</span> format<span class="token punctuation">:</span> <span class="token punctuation">.</span>number<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token class-name">Section</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Decorations"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Section</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">List</span><span class="token punctuation">(</span>selection<span class="token punctuation">:</span> $selectedDecorations<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">DisclosureGroup</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Toggle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Balloons ğŸˆ"</span></span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $includeBalloons<span class="token punctuation">)</span>
                        <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        decorationThemes<span class="token punctuation">[</span><span class="token punctuation">.</span>balloon<span class="token punctuation">]</span><span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>swatch <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">Decoration</span><span class="token punctuation">.</span>balloon<span class="token punctuation">)</span>
                    
                    <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Toggle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Confetti ğŸŠ"</span></span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $includeConfetti<span class="token punctuation">)</span>
                        <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        decorationThemes<span class="token punctuation">[</span><span class="token punctuation">.</span>confetti<span class="token punctuation">]</span><span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>swatch <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">Decoration</span><span class="token punctuation">.</span>confetti<span class="token punctuation">)</span>
                    
                    <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Toggle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Inflatables ğŸª…"</span></span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $includeInflatables<span class="token punctuation">)</span>
                        <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        decorationThemes<span class="token punctuation">[</span><span class="token punctuation">.</span>inflatables<span class="token punctuation">]</span><span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>swatch <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">Decoration</span><span class="token punctuation">.</span>inflatables<span class="token punctuation">)</span>
                    
                    <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Toggle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Party Horns ğŸ¥³"</span></span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $includeBlowers<span class="token punctuation">)</span>
                        <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        decorationThemes<span class="token punctuation">[</span><span class="token punctuation">.</span>noisemakers<span class="token punctuation">]</span><span class="token punctuation">.</span>map <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span><span class="token punctuation">.</span>swatch <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">Decoration</span><span class="token punctuation">.</span>noisemakers<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Toggle</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"All Decorations"</span></span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                        $includeBalloons<span class="token punctuation">,</span> $includeConfetti<span class="token punctuation">,</span>
                        $includeInflatables<span class="token punctuation">,</span> $includeBlowers
                    <span class="token punctuation">]</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">Decoration</span><span class="token punctuation">.</span>all<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
<span class="token directive property"><span class="token directive-name">#if</span> os<span class="token punctuation">(</span>macOS<span class="token punctuation">)</span></span>
                <span class="token punctuation">.</span><span class="token function">toggleStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>checkbox<span class="token punctuation">)</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span>
            <span class="token punctuation">&#125;</span>
            
            <span class="token class-name">Picker</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Decoration theme"</span></span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> themes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Blue"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">Theme</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Black"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">Theme</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Gold"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">Theme</span><span class="token punctuation">.</span>gold<span class="token punctuation">)</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"White"</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token class-name">Theme</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
<span class="token directive property"><span class="token directive-name">#if</span> os<span class="token punctuation">(</span>macOS<span class="token punctuation">)</span></span>
            <span class="token punctuation">.</span><span class="token function">pickerStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>radioGroup<span class="token punctuation">)</span>
<span class="token directive property"><span class="token directive-name">#endif</span></span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    
<span class="token punctuation">&#125;</span>
<span class="token punctuation">.</span><span class="token function">formStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>grouped<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Keyboard"><a href="#Keyboard" class="headerlink" title="Keyboard"></a>Keyboard</h4><p>é”®ç›˜å¿«æ·é”®çš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayKeyboard</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Button</span><span class="token punctuation">(</span>systemIconName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"camera.shutter.button"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æŒ‰äº†å›è½¦é”®"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">keyboardShortcut</span><span class="token punctuation">(</span><span class="token punctuation">.</span>defaultAction<span class="token punctuation">)</span> <span class="token comment">// å›è½¦</span>
        
        <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"ESC"</span></span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æŒ‰äº† ESC"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">keyboardShortcut</span><span class="token punctuation">(</span><span class="token punctuation">.</span>cancelAction<span class="token punctuation">)</span> <span class="token comment">// ESC é”®</span>
        
        <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"CMD + p"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æŒ‰äº† CMD + p"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">keyboardShortcut</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p"</span></span><span class="token punctuation">)</span>
        
        <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"SHIFT + p"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æŒ‰äº† SHIFT + p"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">keyboardShortcut</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p"</span></span><span class="token punctuation">,</span> modifiers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>shift<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Transferable"><a href="#Transferable" class="headerlink" title="Transferable"></a>Transferable</h4><p>Transferable åè®®ä½¿æ•°æ®å¯ä»¥ç”¨äºå‰ªåˆ‡æ¿ã€æ‹–æ”¾å’Œ Share Sheetã€‚</p>
<p>å¯ä»¥åœ¨è‡ªå·±åº”ç”¨ç¨‹åºä¹‹é—´æˆ–ä½ çš„åº”ç”¨å’Œå…¶ä»–åº”ç”¨ä¹‹é—´å‘é€æˆ–æ¥å—å¯ä¼ è¾“é¡¹ç›®ã€‚</p>
<p>æ”¯æŒ SwiftUI æ¥ä½¿ç”¨ã€‚</p>
<p>å®˜æ–¹æ–‡æ¡£ <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/CoreTransferable">Core Transferable</a></p>
<p>session <a target="_blank" rel="noopener" href="https://developer.apple.com/videos/play/wwdc2022-10062">Meet Transferable</a></p>
<p>æ–°å¢ä¸€ä¸ªä¸“é—¨ç”¨æ¥æ¥å— Transferable çš„æŒ‰é’®è§†å›¾ PasteButtonï¼Œä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PPasteButton</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"æˆ´é“­"</span></span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">TextField</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¾“å…¥"</span></span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $s<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">textFieldStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>roundedBorder<span class="token punctuation">)</span>
        <span class="token class-name">PasteButton</span><span class="token punctuation">(</span>payloadType<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> str <span class="token keyword">in</span>
            <span class="token keyword">guard</span> <span class="token keyword">let</span> first <span class="token operator">=</span> str<span class="token punctuation">.</span>first <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token punctuation">&#125;</span>
            s <span class="token operator">=</span> first
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="ShareLink"><a href="#ShareLink" class="headerlink" title="ShareLink"></a>ShareLink</h4><p>ShareLink è§†å›¾å¯ä»¥è®©ä½ è½»æ¾å…±äº«æ•°æ®ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PShareLink</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"https://ming1016.github.io/"</span></span><span class="token punctuation">)</span><span class="token operator">!</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ShareLink</span><span class="token punctuation">(</span>item<span class="token punctuation">:</span> url<span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æˆ´é“­çš„åšå®¢"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token class-name">ShareLink</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æˆ´é“­çš„åšå®¢"</span></span><span class="token punctuation">,</span> item<span class="token punctuation">:</span> url<span class="token punctuation">)</span>
        <span class="token class-name">ShareLink</span><span class="token punctuation">(</span>item<span class="token punctuation">:</span> url<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æˆ´é“­çš„åšå®¢"</span></span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"swift"</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="è§†è§‰"><a href="#è§†è§‰" class="headerlink" title="è§†è§‰"></a>è§†è§‰</h3><h4 id="Color"><a href="#Color" class="headerlink" title="Color"></a>Color</h4><pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayColor</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ZStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Color</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span><span class="token function">edgesIgnoringSafeArea</span><span class="token punctuation">(</span><span class="token punctuation">.</span>all<span class="token punctuation">)</span> <span class="token comment">// Color ä¹Ÿæ˜¯ä¸€ä¸ª View</span>
            
            <span class="token class-name">VStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è¿™æ˜¯ä¸€ä¸ªé€‚é…äº†æš—é»‘çš„æ–‡å­—é¢œè‰²"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span>light<span class="token punctuation">:</span> <span class="token punctuation">.</span>purple<span class="token punctuation">,</span> dark<span class="token punctuation">:</span> <span class="token punctuation">.</span>pink<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">(</span>nsColor<span class="token punctuation">:</span> <span class="token punctuation">.</span>quaternaryLabelColor<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ä½¿ç”¨ä»¥å‰ NSColor</span>
                
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è‡ªå®šä¹‰é¢œè‰²"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">(</span>red<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> green<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> blue<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - æš—é»‘é€‚é…é¢œè‰²</span>
<span class="token keyword">struct</span> <span class="token class-name">PCColorModifier</span><span class="token punctuation">:</span> <span class="token class-name">ViewModifier</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@Environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>colorScheme<span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token keyword">var</span> colorScheme
    <span class="token keyword">var</span> light<span class="token punctuation">:</span> <span class="token class-name">Color</span>
    <span class="token keyword">var</span> dark<span class="token punctuation">:</span> <span class="token class-name">Color</span>
    
    <span class="token keyword">private</span> <span class="token keyword">var</span> adaptColor<span class="token punctuation">:</span> <span class="token class-name">Color</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">switch</span> colorScheme <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>light<span class="token punctuation">:</span>
            <span class="token keyword">return</span> light
        <span class="token keyword">case</span> <span class="token punctuation">.</span>dark<span class="token punctuation">:</span>
            <span class="token keyword">return</span> dark
        <span class="token attribute atrule">@unknown</span> <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> light
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">body</span><span class="token punctuation">(</span>content<span class="token punctuation">:</span> <span class="token class-name">Content</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        content<span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span>adaptColor<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">extension</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">func</span> <span class="token function-definition function">foregroundColor</span><span class="token punctuation">(</span>light<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">,</span> dark<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token function">modifier</span><span class="token punctuation">(</span><span class="token class-name">PCColorModifier</span><span class="token punctuation">(</span>light<span class="token punctuation">:</span> light<span class="token punctuation">,</span> dark<span class="token punctuation">:</span> dark<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Effect"><a href="#Effect" class="headerlink" title="Effect"></a>Effect</h4><p><img src="https://user-images.githubusercontent.com/251980/156332122-66813e4e-851c-4207-8cb9-b41ea0365008.jpeg"></p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayEffect</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isHover <span class="token operator">=</span> <span class="token boolean">false</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ZStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">LinearGradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>purple<span class="token punctuation">,</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> <span class="token punctuation">.</span>pink<span class="token punctuation">]</span><span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>top<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottom<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ignoresSafeArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            
            <span class="token class-name">VStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                
                <span class="token comment">// æè´¨</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æè´¨æ•ˆæœ"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>isHover <span class="token operator">?</span> <span class="token number">40</span> <span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>regularMaterial<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">.</span>continuous<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>onHover <span class="token punctuation">&#123;</span> b <span class="token keyword">in</span>
                        withAnimation <span class="token punctuation">&#123;</span>
                            isHover <span class="token operator">=</span> b
                        <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">&#125;</span>
                
                <span class="token comment">// æ¨¡ç³Š</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"æ¨¡ç³Šæ•ˆæœ"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>background <span class="token punctuation">&#123;</span>
                        <span class="token class-name">Color</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span> opaque<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                
                <span class="token comment">// é€‰æ‹©</span>
                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"3D æ—‹è½¬"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">rotation3DEffect</span><span class="token punctuation">(</span><span class="token class-name">Angle</span><span class="token punctuation">(</span>degrees<span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> z<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">scaleEffect</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">blendMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>hardLight<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>
                
            <span class="token punctuation">&#125;</span>
                
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>æè´¨åšåº¦ä»ä½åˆ°é«˜æœ‰ï¼š</p>
<ul>
<li>.regularMaterial</li>
<li>.thinMaterial</li>
<li>.ultraThinMaterial</li>
<li>.thickMaterial</li>
<li>.ultraThickMaterial</li>
</ul>
<p>Gradient å’Œ Shadow çš„ 2022 çš„æ›´æ–°</p>
<p>ä¸‹é¢æ˜¯ä¸ªç®€å•ç¤ºä¾‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PGradientAndShadow</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"bird"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">150</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">150</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">backgroundStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>cyan<span class="token punctuation">.</span>gradient<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">foregroundStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">drop</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">3.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Paul Hudson ä½¿ç”¨ Core Motion åšäº†ä¸€ä¸ªé˜´å½±éšè®¾å¤‡å€¾æ–œè€Œå˜åŒ–çš„æ•ˆæœï¼Œéå¸¸æ£’ï¼Œ<a target="_blank" rel="noopener" href="https://www.hackingwithswift.com/articles/253/how-to-use-inner-shadows-to-simulate-depth-with-swiftui-and-core-motion">How to use inner shadows to simulate depth with SwiftUI and Core Motion</a> ã€‚</p>
<h4 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h4><p>SwiftUI é‡Œå®ç°åŠ¨ç”»çš„æ–¹å¼åŒ…æ‹¬æœ‰ .animation éšå¼åŠ¨ç”»ã€withAnimation å’Œ withTransaction æ˜¾ç¤ºåŠ¨ç”»ã€matchedGeometryEffect Hero åŠ¨ç”»å’Œ TimelineView ç­‰ã€‚</p>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayAnimation</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isChange <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">private</span> <span class="token keyword">var</span> anis<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span> <span class="token class-name">Animation</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string-literal"><span class="token string">"p1"</span></span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"p2"</span></span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">linear</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"p3"</span></span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">interpolatingSpring</span><span class="token punctuation">(</span>stiffness<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> damping<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"p4"</span></span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">easeInOut</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"p5"</span></span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">easeIn</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"p6"</span></span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">easeOut</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"p7"</span></span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">interactiveSpring</span><span class="token punctuation">(</span>response<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> dampingFraction<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> blendDuration<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"p8"</span></span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">spring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">"p9"</span></span><span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span><span class="token function">repeatCount</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> selection <span class="token operator">=</span> <span class="token number">1</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// animation éšå¼åŠ¨ç”»å’Œ withAnimation æ˜¾ç¤ºåŠ¨ç”»</span>
        <span class="token class-name">Text</span><span class="token punctuation">(</span>isChange <span class="token operator">?</span> <span class="token string-literal"><span class="token string">"å¦ä¸€ç§çŠ¶æ€"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"ä¸€ç§çŠ¶æ€"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">animation</span><span class="token punctuation">(</span><span class="token punctuation">.</span>easeInOut<span class="token punctuation">,</span> value<span class="token punctuation">:</span> isChange<span class="token punctuation">)</span> <span class="token comment">// å—é™çš„éšå¼åŠ¨ç”»ï¼Œåªç»‘å®šæŸä¸ªå€¼ã€‚</span>
            <span class="token punctuation">.</span>onTapGesture <span class="token punctuation">&#123;</span>
                <span class="token comment">// ä½¿ç”¨ withAnimation å°±æ˜¯æ˜¾å¼åŠ¨ç”»ï¼Œæ•ˆæœç­‰åŒ withTransaction(Transaction(animation: .default))</span>
                withAnimation <span class="token punctuation">&#123;</span>
                    isChange<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>

                <span class="token comment">// è®¾ç½® Transactionã€‚å’Œéšå¼åŠ¨ç”»å…±å­˜æ—¶ï¼Œä¼˜å…ˆæ‰§è¡Œ withAnimation æˆ– Transactionã€‚</span>
                <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token class-name">Transaction</span><span class="token punctuation">(</span>animation<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">linear</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                t<span class="token punctuation">.</span>disablesAnimations <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// ç”¨æ¥ç¦ç”¨éšå¼åŠ¨ç”»</span>
                <span class="token function">withTransaction</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    isChange<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span> <span class="token comment">// end onHover</span>
        
        <span class="token class-name">LazyVGrid</span><span class="token punctuation">(</span>columns<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">adaptive</span><span class="token punctuation">(</span>minimum<span class="token punctuation">:</span> isChange <span class="token operator">?</span> <span class="token number">60</span> <span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span> spacing<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">(</span>anis<span class="token punctuation">.</span>keys<span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">animation</span><span class="token punctuation">(</span>anis<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> isChange<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">scaleEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token class-name">Button</span> <span class="token punctuation">&#123;</span>
            isChange<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> label<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> isChange <span class="token operator">?</span> <span class="token string-literal"><span class="token string">"pause.fill"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"play.fill"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">renderingMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>original<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        
        <span class="token comment">// matchedGeometryEffect çš„ä½¿ç”¨</span>
        <span class="token class-name">VStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"åå°"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span>
            placeStayView
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"å‰å°"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span>
            placeShowView
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
        
        <span class="token comment">// é€šè¿‡ä½¿ç”¨ç›¸åŒ matchedGeometryEffect çš„ idï¼Œç»‘å®šä¸¤ä¸ªå…ƒç´ å˜åŒ–ã€‚</span>
        <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">if</span> isChange <span class="token punctuation">&#123;</span>
                <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>pink<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"g1"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> mgeStore<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"è½¬æ¢"</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token function">withAnimation</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">linear</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    isChange<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token operator">!</span>isChange <span class="token punctuation">&#123;</span>
                <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>orange<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"g1"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> mgeStore<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">70</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">70</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
            <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p1"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> <span class="token operator">!</span>isChange <span class="token punctuation">&#123;</span>
                    <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p19"</span></span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"g1"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> mgeStore<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p1"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token comment">// ä½¿ç”¨ isSourceï¼Œä½œä¸ºç§»åŠ¨åˆ°ç›¸åŒ matchedGeometryEffect id çš„æ–¹æ³•ã€‚</span>
        <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p19"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> isChange <span class="token operator">?</span> <span class="token number">100</span> <span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> isChange <span class="token operator">?</span> <span class="token number">100</span> <span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> isChange <span class="token operator">?</span> <span class="token string-literal"><span class="token string">"g2"</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> mgeStore<span class="token punctuation">,</span> isSource<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
            
            <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p19"</span></span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"g2"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> mgeStore<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        
        
        
        <span class="token comment">// ç‚¹å‡»è·Ÿéšçš„æ•ˆæœ</span>
        <span class="token class-name">HStack</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">...</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i <span class="token keyword">in</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> i <span class="token operator">==</span> selection <span class="token operator">?</span> <span class="token number">200</span> <span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"h</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">i</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> mgeStore<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>onTapGesture <span class="token punctuation">&#123;</span>
                        withAnimation <span class="token punctuation">&#123;</span>
                            selection <span class="token operator">=</span> i
                        <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>
            <span class="token class-name">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>pink<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"h</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">selection</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> mgeStore<span class="token punctuation">,</span> isSource<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        
        <span class="token comment">// matchedGeometryEffect è¿˜å¯ä»¥åº”ç”¨åˆ° List ä¸­ï¼Œé€šè¿‡ Array enumerated è·å¾— index ä½œä¸º matchedGeometryEffect çš„ idã€‚å³ä¾§å›ºå®šæŒ‰é’®å¯ä»¥ç›´æ¥è®©å¯¹åº” id çš„è§†å›¾æ»šåŠ¨åˆ°å›ºå®šæŒ‰é’®çš„ä½ç½®</span>
        
        
        <span class="token comment">// TimelineView</span>
        <span class="token class-name">TimelineView</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">periodic</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token punctuation">.</span>now<span class="token punctuation">,</span> by<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> t <span class="token keyword">in</span>
            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">t<span class="token punctuation">.</span>date</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
            <span class="token class-name">HStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"p</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">Int</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">30</span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">animation</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">default</span><span class="token punctuation">.</span><span class="token function">repeatCount</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> e<span class="token punctuation">)</span>
                
                <span class="token class-name">TimelineSubView</span><span class="token punctuation">(</span>date<span class="token punctuation">:</span> t<span class="token punctuation">.</span>date<span class="token punctuation">)</span> <span class="token comment">// éœ€è¦ä¼ å…¥ timeline çš„æ—¶é—´ç»™å­è§†å›¾æ‰èƒ½å¤Ÿèµ·ä½œç”¨ã€‚</span>
                    
            <span class="token punctuation">&#125;</span>
            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        
        <span class="token comment">// matchedGeometryEffect</span>

        <span class="token comment">/// TimelineScheduler çš„ä½¿ç”¨ï¼ŒTimelineScheduler æœ‰ä»¥ä¸‹ç±»å‹</span>
        <span class="token comment">/// .animationï¼šåˆ¶å®šæ›´æ–°çš„é¢‘ç‡ï¼Œå¯ä»¥æ§åˆ¶æš‚åœ</span>
        <span class="token comment">/// .everyMinuteï¼šæ¯åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡</span>
        <span class="token comment">/// .explicitï¼šæ‰€æœ‰è¦æ›´æ–°çš„æ”¾åˆ°ä¸€ä¸ªæ•°ç»„é‡Œ</span>
        <span class="token comment">/// .periodicï¼šè®¾ç½®å¼€å§‹æ—¶é—´å’Œæ›´æ–°é¢‘ç‡</span>
        <span class="token comment">/// ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ TimelineScheduler</span>
        <span class="token class-name">TimelineView</span><span class="token punctuation">(</span><span class="token punctuation">.</span>everySecond<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> t <span class="token keyword">in</span>
            <span class="token keyword">let</span> e <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"p</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation"><span class="token class-name">Int</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token operator">...</span><span class="token number">30</span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
            <span class="token class-name">Image</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        
        <span class="token comment">// è‡ªå®šä¹‰çš„ TimelineScheduler</span>
        <span class="token class-name">TimelineView</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">everyLoop</span><span class="token punctuation">(</span>timeOffsets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> t <span class="token keyword">in</span>
            <span class="token class-name">TimelineSubView</span><span class="token punctuation">(</span>date<span class="token punctuation">:</span> t<span class="token punctuation">.</span>date<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// MARK: - TimelineSubView</span>
    <span class="token keyword">struct</span> <span class="token class-name">TimelineSubView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> date <span class="token punctuation">:</span> <span class="token class-name">Date</span>
        <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"let's go"</span></span>
        <span class="token comment">// é¡ºåºä»æ•°ç»„ä¸­å–å€¼ï¼Œå–å®Œå†é‡å¤´å¼€å§‹</span>
        <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> idx<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">func</span> <span class="token function-definition function">advanceIndex</span><span class="token punctuation">(</span>count<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            idx <span class="token operator">=</span> <span class="token punctuation">(</span>idx <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> count
            <span class="token keyword">if</span> idx <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">&#123;</span> idx <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        
        <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">HStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"p</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">idx</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">animation</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">easeIn</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> date<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> date<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> newValue <span class="token keyword">in</span>
                        <span class="token function">advanceIndex</span><span class="token punctuation">(</span>count<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span>
                        s <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">date<span class="token punctuation">.</span>hour</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">date<span class="token punctuation">.</span>minute</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">:</span><span class="token interpolation-punctuation punctuation">\(</span><span class="token interpolation">date<span class="token punctuation">.</span>second</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">"</span></span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span>onAppear <span class="token punctuation">&#123;</span>
                        <span class="token function">advanceIndex</span><span class="token punctuation">(</span>count<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span>
                    <span class="token punctuation">&#125;</span>
                    
                <span class="token class-name">Text</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token comment">// MARK: - ç”¨ matchedGeometryEffect åšåŠ¨ç”»</span>
    <span class="token comment">/// matchedGeometryEffect å¯ä»¥æ— ç¼çš„å°†ä¸€ä¸ªå›¾åƒå˜æˆå¦å¤–ä¸€ä¸ªå›¾åƒã€‚</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> placeStayItems <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"p1"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"p2"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"p3"</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"p4"</span></span><span class="token punctuation">]</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> placeShowItems<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    
    <span class="token attribute atrule">@Namespace</span> <span class="token keyword">private</span> <span class="token keyword">var</span> mgeStore
    
    <span class="token keyword">private</span> <span class="token keyword">var</span> placeStayView<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">LazyVGrid</span><span class="token punctuation">(</span>columns<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">adaptive</span><span class="token punctuation">(</span>minimum<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span> spacing<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">ForEach</span><span class="token punctuation">(</span>placeStayItems<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> s<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> mgeStore<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>onTapGesture <span class="token punctuation">&#123;</span>
                        withAnimation <span class="token punctuation">&#123;</span>
                            placeStayItems<span class="token punctuation">.</span>removeAll <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span> <span class="token operator">==</span> s <span class="token punctuation">&#125;</span>
                            placeShowItems<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
                        <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> <span class="token comment">// end ForEach</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end LazyVGrid</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// private var placeStayView</span>
    
    <span class="token keyword">private</span> <span class="token keyword">var</span> placeShowView<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">LazyVGrid</span><span class="token punctuation">(</span>columns<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">adaptive</span><span class="token punctuation">(</span>minimum<span class="token punctuation">:</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">,</span> spacing<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">ForEach</span><span class="token punctuation">(</span>placeShowItems<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> s <span class="token keyword">in</span>
                <span class="token class-name">Image</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> s<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> mgeStore<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span>onTapGesture <span class="token punctuation">&#123;</span>
                        withAnimation <span class="token punctuation">&#123;</span>
                            placeShowItems<span class="token punctuation">.</span>removeAll <span class="token punctuation">&#123;</span> <span class="token short-argument">$0</span> <span class="token operator">==</span> s <span class="token punctuation">&#125;</span>
                            placeStayItems<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
                        <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>white<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span> <span class="token comment">// end ForEach</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end LazyVGrid</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end private var placeShowView</span>
    
<span class="token punctuation">&#125;</span> <span class="token comment">// end struct PlayAnimation</span>

<span class="token comment">// MARK: - æ‰©å±• TimelineSchedule</span>
<span class="token keyword">extension</span> <span class="token class-name">TimelineSchedule</span> <span class="token keyword">where</span> <span class="token keyword">Self</span> <span class="token operator">==</span> <span class="token class-name">PeriodicTimelineSchedule</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">var</span> everySecond<span class="token punctuation">:</span> <span class="token class-name">PeriodicTimelineSchedule</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">get</span> <span class="token punctuation">&#123;</span>
            <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token punctuation">.</span>now<span class="token punctuation">,</span> by<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - è‡ªå®šä¹‰ä¸€ä¸ª TimelineSchedule</span>
<span class="token comment">// timeOffsets ç”¨å®Œï¼Œå°±ä¼šå†é‡å¤´é‡æ–°å†æ¥ä¸€é</span>
<span class="token keyword">struct</span> <span class="token class-name">PCLoopTimelineSchedule</span><span class="token punctuation">:</span> <span class="token class-name">TimelineSchedule</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> timeOffsets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">TimeInterval</span><span class="token punctuation">]</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">entries</span><span class="token punctuation">(</span>from startDate<span class="token punctuation">:</span> <span class="token class-name">Date</span><span class="token punctuation">,</span> mode<span class="token punctuation">:</span> <span class="token class-name">TimelineScheduleMode</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Entries</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Entries</span><span class="token punctuation">(</span>last<span class="token punctuation">:</span> startDate<span class="token punctuation">,</span> offsets<span class="token punctuation">:</span> timeOffsets<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">struct</span> <span class="token class-name">Entries</span><span class="token punctuation">:</span> <span class="token class-name">Sequence</span><span class="token punctuation">,</span> <span class="token class-name">IteratorProtocol</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> last<span class="token punctuation">:</span> <span class="token class-name">Date</span>
        <span class="token keyword">let</span> offsets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">TimeInterval</span><span class="token punctuation">]</span>
        <span class="token keyword">var</span> idx<span class="token punctuation">:</span> <span class="token class-name">Int</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
        <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function-definition function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Date</span><span class="token operator">?</span> <span class="token punctuation">&#123;</span>
            idx <span class="token operator">=</span> <span class="token punctuation">(</span>idx <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> offsets<span class="token punctuation">.</span>count
            last <span class="token operator">=</span> last<span class="token punctuation">.</span><span class="token function">addingTimeInterval</span><span class="token punctuation">(</span>offsets<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> last
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end Struct Entries</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä¸ºè‡ªå®šä¹‰çš„ PCLoopTimelineSchedule åšä¸€ä¸ª TimelineSchedule çš„æ‰©å±•å‡½æ•°ï¼Œæ–¹ä¾¿ä½¿ç”¨</span>
<span class="token keyword">extension</span> <span class="token class-name">TimelineSchedule</span> <span class="token keyword">where</span> <span class="token keyword">Self</span> <span class="token operator">==</span> <span class="token class-name">PCLoopTimelineSchedule</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">func</span> <span class="token function-definition function">everyLoop</span><span class="token punctuation">(</span>timeOffsets<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">TimeInterval</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">PCLoopTimelineSchedule</span> <span class="token punctuation">&#123;</span>
        <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>timeOffsets<span class="token punctuation">:</span> timeOffsets<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h4><p>Canvas å¯ä»¥ç”»è·¯å¾„ã€å›¾ç‰‡å’Œæ–‡å­—ã€Symbolsã€å¯å˜çš„å›¾å½¢ä¸Šä¸‹æ–‡ã€ä½¿ç”¨ CoreGraphics ä»£ç å’ŒåšåŠ¨ç”»ã€‚</p>
<p>å›¾å½¢ä¸Šä¸‹æ–‡å¯ä»¥è¢« addFilterã€clipã€clipToLayerã€concatenateã€rotateã€scaleByã€translateBy è¿™äº›æ–¹æ³•æ¥è¿›è¡Œæ”¹å˜ã€‚</p>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-swift" data-language="swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token class-name">PlayCanvas</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Color</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>purple<span class="token punctuation">,</span> <span class="token punctuation">.</span>blue<span class="token punctuation">,</span> <span class="token punctuation">.</span>yellow<span class="token punctuation">,</span> <span class="token punctuation">.</span>pink<span class="token punctuation">]</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        
        <span class="token comment">// ç”»è·¯å¾„</span>
        <span class="token class-name">PCCanvasPathView</span><span class="token punctuation">(</span>t<span class="token punctuation">:</span> <span class="token punctuation">.</span>rounded<span class="token punctuation">)</span>
        <span class="token class-name">PCCanvasPathView</span><span class="token punctuation">(</span>t<span class="token punctuation">:</span> <span class="token punctuation">.</span>ellipse<span class="token punctuation">)</span>
        <span class="token class-name">PCCanvasPathView</span><span class="token punctuation">(</span>t<span class="token punctuation">:</span> <span class="token punctuation">.</span>circle<span class="token punctuation">)</span>

        <span class="token comment">// å›¾ç‰‡å’Œæ–‡å­—</span>
        <span class="token class-name">PCCanvasImageAndText</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Starming"</span></span><span class="token punctuation">,</span> colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>purple<span class="token punctuation">,</span> <span class="token punctuation">.</span>pink<span class="token punctuation">]</span><span class="token punctuation">)</span>

        <span class="token comment">// Symbolï¼Œåœ¨ Canvas é‡Œå¼•ç”¨ SwiftUI è§†å›¾</span>
        <span class="token class-name">Canvas</span> <span class="token punctuation">&#123;</span> c<span class="token punctuation">,</span> s <span class="token keyword">in</span>
            <span class="token keyword">let</span> c0 <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">resolveSymbol</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">!</span>
            <span class="token keyword">let</span> c1 <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">resolveSymbol</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">!</span>
            <span class="token keyword">let</span> c2 <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">resolveSymbol</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">!</span>
            <span class="token keyword">let</span> c3 <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">resolveSymbol</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">!</span>

            c<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>c0<span class="token punctuation">,</span> at<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> anchor<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">)</span>
            c<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>c1<span class="token punctuation">,</span> at<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> anchor<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">)</span>
            c<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>c2<span class="token punctuation">,</span> at<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span> anchor<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">)</span>
            c<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>c3<span class="token punctuation">,</span> at<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">70</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span> anchor<span class="token punctuation">:</span> <span class="token punctuation">.</span>topLeading<span class="token punctuation">)</span>

        <span class="token punctuation">&#125;</span> symbols<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">ForEach</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span><span class="token function">enumerated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\</span><span class="token punctuation">.</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> i<span class="token punctuation">,</span> c <span class="token keyword">in</span>
                <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token comment">// Symbol åŠ¨ç”»å’Œ SwiftUI è§†å›¾ä¸€æ ·ï¼Œä¸ä¼šå—å½±å“</span>
        <span class="token class-name">Canvas</span> <span class="token punctuation">&#123;</span> c<span class="token punctuation">,</span> s <span class="token keyword">in</span>
            <span class="token keyword">let</span> sb <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">resolveSymbol</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">!</span>
            c<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>sb<span class="token punctuation">,</span> at<span class="token punctuation">:</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> s<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> s<span class="token punctuation">.</span>height <span class="token operator">/</span>  <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> anchor<span class="token punctuation">:</span> <span class="token punctuation">.</span>center<span class="token punctuation">)</span>

        <span class="token punctuation">&#125;</span> symbols<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">PCForSymbolView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span> <span class="token comment">// end var body</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - ç»™ Symbol ç”¨çš„è§†å›¾</span>
<span class="token keyword">struct</span> <span class="token class-name">PCForSymbolView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> change <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"star.fill"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">renderingMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>original<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">rotationEffect</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">degrees</span><span class="token punctuation">(</span>change <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">72</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span>onAppear <span class="token punctuation">&#123;</span>
                <span class="token function">withAnimation</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">linear</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">repeatForever</span><span class="token punctuation">(</span>autoreverses<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    change<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - å›¾ç‰‡å’Œæ–‡å­—</span>
<span class="token keyword">struct</span> <span class="token class-name">PCCanvasImageAndText</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> text<span class="token punctuation">:</span> <span class="token class-name">String</span>
    <span class="token keyword">let</span> colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Color</span><span class="token punctuation">]</span>
    <span class="token keyword">var</span> fontSize<span class="token punctuation">:</span> <span class="token class-name">Double</span> <span class="token operator">=</span> <span class="token number">42</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Canvas</span> <span class="token punctuation">&#123;</span> context<span class="token punctuation">,</span> size <span class="token keyword">in</span>
            <span class="token keyword">let</span> midPoint <span class="token operator">=</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> size<span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> font <span class="token operator">=</span> <span class="token class-name">Font</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> fontSize<span class="token punctuation">)</span>
            <span class="token keyword">var</span> resolved <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token class-name">Text</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">)</span>
            
            <span class="token keyword">let</span> start <span class="token operator">=</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token punctuation">(</span>size<span class="token punctuation">.</span>width <span class="token operator">-</span> resolved<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> size<span class="token punctuation">)</span><span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">let</span> end <span class="token operator">=</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> size<span class="token punctuation">.</span>width <span class="token operator">-</span> start<span class="token punctuation">.</span>x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
            
            resolved<span class="token punctuation">.</span>shading <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token function">linearGradient</span><span class="token punctuation">(</span><span class="token class-name">Gradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> colors<span class="token punctuation">)</span><span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> start<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> end<span class="token punctuation">)</span>
            context<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>resolved<span class="token punctuation">,</span> at<span class="token punctuation">:</span> midPoint<span class="token punctuation">,</span> anchor<span class="token punctuation">:</span> <span class="token punctuation">.</span>center<span class="token punctuation">)</span>
            
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MARK: - Path</span>
<span class="token keyword">struct</span> <span class="token class-name">PCCanvasPathView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">enum</span> <span class="token class-name">PathType</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> rounded<span class="token punctuation">,</span> ellipse<span class="token punctuation">,</span> casual<span class="token punctuation">,</span> circle
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">let</span> t<span class="token punctuation">:</span> <span class="token class-name">PathType</span>
    
    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Canvas</span> <span class="token punctuation">&#123;</span> context<span class="token punctuation">,</span> size <span class="token keyword">in</span>
            
            <span class="token function">conf</span><span class="token punctuation">(</span>context<span class="token punctuation">:</span> <span class="token operator">&amp;</span>context<span class="token punctuation">,</span> size<span class="token punctuation">:</span> size<span class="token punctuation">,</span> type<span class="token punctuation">:</span> t<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span> <span class="token comment">// end Canvas</span>
    <span class="token punctuation">&#125;</span>
    
    <span class="token keyword">func</span> <span class="token function-definition function">conf</span><span class="token punctuation">(</span> context<span class="token punctuation">:</span> <span class="token keyword">inout</span> <span class="token class-name">GraphicsContext</span><span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token class-name">CGSize</span><span class="token punctuation">,</span> type<span class="token punctuation">:</span> <span class="token class-name">PathType</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> rect <span class="token operator">=</span> <span class="token class-name">CGRect</span><span class="token punctuation">(</span>origin<span class="token punctuation">:</span> <span class="token punctuation">.</span>zero<span class="token punctuation">,</span> size<span class="token punctuation">:</span> size<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">insetBy</span><span class="token punctuation">(</span>dx<span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span> dy<span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">)</span>
        <span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">switch</span> type <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>rounded<span class="token punctuation">:</span>
            path <span class="token operator">=</span> <span class="token class-name">Path</span><span class="token punctuation">(</span>roundedRect<span class="token punctuation">:</span> rect<span class="token punctuation">,</span> cornerRadius<span class="token punctuation">:</span> <span class="token number">35.0</span><span class="token punctuation">)</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>ellipse<span class="token punctuation">:</span>
            <span class="token keyword">let</span> cgPath <span class="token operator">=</span> <span class="token class-name">CGPath</span><span class="token punctuation">(</span>ellipseIn<span class="token punctuation">:</span> rect<span class="token punctuation">,</span> transform<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span>
            path <span class="token operator">=</span> <span class="token class-name">Path</span><span class="token punctuation">(</span>cgPath<span class="token punctuation">)</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>casual<span class="token punctuation">:</span>
            path <span class="token operator">=</span> <span class="token class-name">Path</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">let</span> points<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">CGPoint</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span>
                <span class="token short-argument">$0</span><span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token punctuation">.</span>zero<span class="token punctuation">)</span>
                <span class="token short-argument">$0</span><span class="token punctuation">.</span><span class="token function">addLines</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token keyword">case</span> <span class="token punctuation">.</span>circle<span class="token punctuation">:</span>
            path <span class="token operator">=</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> rect<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
        
        
        <span class="token keyword">let</span> gradient <span class="token operator">=</span> <span class="token class-name">Gradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>purple<span class="token punctuation">,</span> <span class="token punctuation">.</span>pink<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> from <span class="token operator">=</span> rect<span class="token punctuation">.</span>origin
        <span class="token keyword">let</span> to <span class="token operator">=</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> rect<span class="token punctuation">.</span>width<span class="token punctuation">,</span> y<span class="token punctuation">:</span> rect<span class="token punctuation">.</span>height <span class="token operator">+</span> from<span class="token punctuation">.</span>y<span class="token punctuation">)</span>
        
        <span class="token comment">// Stroke path</span>
        context<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> with<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">color</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span> lineWidth<span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">)</span>
        context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> with<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">linearGradient</span><span class="token punctuation">(</span>gradient<span class="token punctuation">,</span> startPoint<span class="token punctuation">:</span> from<span class="token punctuation">,</span> endPoint<span class="token punctuation">:</span> to<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h4 id="SF-Symbol"><a href="#SF-Symbol" class="headerlink" title="SF Symbol"></a>SF Symbol</h4><p>SF Symbol æ”¯æŒå˜é‡å€¼ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® variableValue æ¥å¡«å……ä¸åŒéƒ¨åˆ†ï¼Œæ¯”å¦‚ wifi å›¾æ ‡ï¼Œä¸åŒå€¼ä¼šäº®ä¸åŒéƒ¨åˆ†ï¼Œ<code>Image(systemName: &quot;wifi&quot;, variableValue: 0.5)</code> ã€‚</p>
<h2 id="å¼€å‘è€…"><a href="#å¼€å‘è€…" class="headerlink" title="å¼€å‘è€…"></a>å¼€å‘è€…</h2><h3 id="Swiftå®˜æ–¹"><a href="#Swiftå®˜æ–¹" class="headerlink" title="Swiftå®˜æ–¹"></a>Swiftå®˜æ–¹</h3><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/tkremenek">tkremenek</a>ï¼šSwift director</li>
<li><a target="_blank" rel="noopener" href="https://github.com/DougGregor">DougGregor</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/mikeash">mikeash</a>ï¼šFriday Q&amp;A</li>
</ul>
<h3 id="ç¤¾åŒº"><a href="#ç¤¾åŒº" class="headerlink" title="ç¤¾åŒº"></a>ç¤¾åŒº</h3><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/onevcat">onevcat</a>ï¼šå–µç¥</li>
<li><a target="_blank" rel="noopener" href="https://github.com/DianQK">DianQK</a>ï¼šé›é’ - SwiftGGç¿»è¯‘ç»„</li>
<li><a target="_blank" rel="noopener" href="https://github.com/kean">kean</a>ï¼šNukeã€Pulse</li>
<li><a target="_blank" rel="noopener" href="https://github.com/stephencelis">stephencelis</a>ï¼šPoint-Free &amp; SQLite.swift</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ibireme">ibireme</a>ï¼šYYDS</li>
<li><a target="_blank" rel="noopener" href="https://github.com/mattt">mattt</a>ï¼šNSHipster</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ethanhuang13">ethanhuang13</a>ï¼š13 - [weak self]æ’­å®¢</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Kyle-Ye">Kyle-Ye</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/ming1016">ming1016</a>ï¼šæˆ´é“­</li>
<li><a target="_blank" rel="noopener" href="https://github.com/mxcl">mxcl</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/lkzhao">lkzhao</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/insidegui">insidegui</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/johnno1962">johnno1962</a>ï¼šInjectionIII</li>
<li><a target="_blank" rel="noopener" href="https://github.com/wigging">wigging</a>ï¼šBack to the Mac</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Dimillian">Dimillian</a>ï¼šMovieSwiftUI</li>
<li><a target="_blank" rel="noopener" href="https://github.com/krzysztofzablocki">krzysztofzablocki</a>ï¼šå…ƒç¼–ç¨‹ Sourcery</li>
<li><a target="_blank" rel="noopener" href="https://github.com/onmyway133">onmyway133</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/pofat">pofat</a>ï¼šPofat - [weak self]æ’­å®¢</li>
<li><a target="_blank" rel="noopener" href="https://github.com/mecid">mecid</a>ï¼šSwift with Majid</li>
<li><a target="_blank" rel="noopener" href="https://github.com/hebertialmeida">hebertialmeida</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/kylef">kylef</a>ï¼šCommander</li>
<li><a target="_blank" rel="noopener" href="https://github.com/joshaber">joshaber</a>ï¼šat GitHub</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ashfurrow">ashfurrow</a>ï¼šMoya</li>
<li><a target="_blank" rel="noopener" href="https://github.com/jessesquires">jessesquires</a></li>
</ul>
<h2 id="æ¢ç´¢åº“"><a href="#æ¢ç´¢åº“" class="headerlink" title="æ¢ç´¢åº“"></a>æ¢ç´¢åº“</h2><h3 id="æ–°é²œäº‹"><a href="#æ–°é²œäº‹" class="headerlink" title="æ–°é²œäº‹"></a>æ–°é²œäº‹</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/SwiftOldDriver/iOS-Weekly">SwiftOldDriver&#x2F;iOS-Weekly</a></em><br>è€å¸æœº iOS å‘¨æŠ¥<br>Starï¼š4222 Issueï¼š19 å¼€å‘è¯­è¨€ï¼š<br>ğŸ‡¨ğŸ‡³ è€å¸æœºæŠ€æœ¯ iOS å‘¨æŠ¥</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/matteocrippa/awesome-swift">matteocrippa&#x2F;awesome-swift</a></em><br>Starï¼š22100 Issueï¼š1 å¼€å‘è¯­è¨€ï¼šRuby<br>A collaborative list of awesome Swift libraries and resources. Feel free to contribute!</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/ruanyf/weekly">ruanyf&#x2F;weekly</a></em><br>ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠ<br>Starï¼š24124 Issueï¼š1902 å¼€å‘è¯­è¨€ï¼š<br>ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠï¼Œæ¯å‘¨äº”å‘å¸ƒ</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/KwaiAppTeam/SwiftPamphletApp">KwaiAppTeam&#x2F;SwiftPamphletApp</a></em><br>æˆ´é“­çš„å¼€å‘å°å†Œå­<br>Starï¼š0 Issueï¼š0 å¼€å‘è¯­è¨€ï¼š</p>
<h3 id="å°è£…æ˜“ç”¨åŠŸèƒ½"><a href="#å°è£…æ˜“ç”¨åŠŸèƒ½" class="headerlink" title="å°è£…æ˜“ç”¨åŠŸèƒ½"></a>å°è£…æ˜“ç”¨åŠŸèƒ½</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/SwifterSwift/SwifterSwift">SwifterSwift&#x2F;SwifterSwift</a></em><br>Handy Swift extensions<br>Starï¼š11409 Issueï¼š17 å¼€å‘è¯­è¨€ï¼šSwift<br>A handy collection of more than 500 native Swift extensions to boost your productivity.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/JoanKing/JKSwiftExtension">JoanKing&#x2F;JKSwiftExtension</a></em><br>Swiftå¸¸ç”¨æ‰©å±•ã€ç»„ä»¶ã€åè®®<br>Starï¼š359 Issueï¼š1 å¼€å‘è¯­è¨€ï¼šSwift<br>Swiftå¸¸ç”¨æ‰©å±•ã€ç»„ä»¶ã€åè®®ï¼Œæ–¹ä¾¿é¡¹ç›®å¿«é€Ÿæ­å»ºï¼Œæä¾›å®Œæ•´æ¸…æ™°çš„Demoç¤ºä¾‹ï¼Œä¸æ–­çš„å®Œå–„ä¸­â€¦â€¦ </p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/infinum/iOS-Nuts-And-Bolts">infinum&#x2F;iOS-Nuts-And-Bolts</a></em><br>Starï¼š178 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>iOS bits and pieces that you can include in your project to make your life a bit easier.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/gtokman/ExtensionKit">gtokman&#x2F;ExtensionKit</a></em><br>Starï¼š101 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>Helpful extensions for iOS app development ğŸš€ </p>
<h3 id="SwiftUI-æ‰©å±•"><a href="#SwiftUI-æ‰©å±•" class="headerlink" title="SwiftUI æ‰©å±•"></a>SwiftUI æ‰©å±•</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/SwiftUIX/SwiftUIX">SwiftUIX&#x2F;SwiftUIX</a></em><br>æ‰©å±• SwiftUI<br>Starï¼š4777 Issueï¼š8 å¼€å‘è¯­è¨€ï¼šSwift<br>Extensions and additions to the standard SwiftUI library.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/SDWebImage/SDWebImageSwiftUI">SDWebImage&#x2F;SDWebImageSwiftUI</a></em><br>Starï¼š1403 Issueï¼š45 å¼€å‘è¯­è¨€ï¼šSwift<br>SwiftUI Image loading and Animation framework powered by SDWebImage</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apptekstudios/ASCollectionView">apptekstudios&#x2F;ASCollectionView</a></em><br>SwiftUI collection<br>Starï¼š1208 Issueï¼š32 å¼€å‘è¯­è¨€ï¼šSwift<br>A SwiftUI collection view with support for custom layouts, preloading, and more.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/siteline/SwiftUI-Introspect">siteline&#x2F;SwiftUI-Introspect</a></em><br>SwiftUI å¼•å…¥ UIKit<br>Starï¼š3262 Issueï¼š53 å¼€å‘è¯­è¨€ï¼šSwift<br>Introspect underlying UIKit components from SwiftUI</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/AvdLee/SwiftUIKitView">AvdLee&#x2F;SwiftUIKitView</a></em><br>åœ¨ SwiftUI ä¸­ ä½¿ç”¨ UIKit<br>Starï¼š506 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šSwift<br>Easily use UIKit views in your SwiftUI applications. Create Xcode Previews for UIView elements</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/danielsaidi/SwiftUIKit">danielsaidi&#x2F;SwiftUIKit</a></em><br>ç»™ SwiftUI æ·»åŠ æ›´å¤šåŠŸèƒ½<br>Starï¼š666 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šSwift<br>SwiftUIKit contains additional functionality for SwiftUI.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Toni77777/awesome-swiftui-libraries">Toni77777&#x2F;awesome-swiftui-libraries</a></em><br>SwiftUI å¯ä½¿ç”¨çš„åº“<br>Starï¼š199 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>:rocket: Awesome SwiftUI Libraries </p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/rakutentech/AltSwiftUI">rakutentech&#x2F;AltSwiftUI</a></em><br>ç±» SwiftUI<br>Starï¼š269 Issueï¼š6 å¼€å‘è¯­è¨€ï¼šSwift<br>Open Source UI framework based on SwiftUI syntax and features, adding backwards compatibility.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/gymshark/ios-stack-kit">gymshark&#x2F;ios-stack-kit</a></em><br>ç±» SwiftUI<br>Starï¼š118 Issueï¼š2 å¼€å‘è¯­è¨€ï¼šSwift<br>The power of SwiftUI with UIKit</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/jordibruin/Swift-Charts-Examples">jordibruin&#x2F;Swift-Charts-Examples</a></em><br>Swift Charts åˆ¶ä½œçš„ä¸åŒç±»å‹å›¾è¡¨ç¤ºä¾‹<br>Starï¼š0 Issueï¼š0 å¼€å‘è¯­è¨€ï¼š</p>
<h3 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/onevcat/Kingfisher">onevcat&#x2F;Kingfisher</a></em><br>Starï¼š20267 Issueï¼š76 å¼€å‘è¯­è¨€ï¼šSwift<br>A lightweight, pure-Swift library for downloading and caching images from the web.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/kean/Nuke">kean&#x2F;Nuke</a></em><br>Starï¼š6721 Issueï¼š6 å¼€å‘è¯­è¨€ï¼šSwift<br>Image loading system</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/suzuki-0000/SKPhotoBrowser">suzuki-0000&#x2F;SKPhotoBrowser</a></em><br>å›¾ç‰‡æµè§ˆ<br>Starï¼š2358 Issueï¼š94 å¼€å‘è¯­è¨€ï¼šSwift<br>Simple PhotoBrowser&#x2F;Viewer inspired by facebook, twitter photo browsers written by swift</p>
<h3 id="æ–‡å­—å¤„ç†"><a href="#æ–‡å­—å¤„ç†" class="headerlink" title="æ–‡å­—å¤„ç†"></a>æ–‡å­—å¤„ç†</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/gonzalezreal/MarkdownUI">gonzalezreal&#x2F;MarkdownUI</a></em><br>Starï¼š730 Issueï¼š14 å¼€å‘è¯­è¨€ï¼šSwift<br>Render Markdown text in SwiftUI</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/tophat/RichTextView">tophat&#x2F;RichTextView</a></em><br>Starï¼š1073 Issueï¼š31 å¼€å‘è¯­è¨€ï¼šSwift<br>iOS Text View (UIView) that Properly Displays LaTeX, HTML, Markdown, and YouTube&#x2F;Vimeo Links</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/keitaoouchi/MarkdownView">keitaoouchi&#x2F;MarkdownView</a></em><br>Starï¼š1778 Issueï¼š32 å¼€å‘è¯­è¨€ï¼šSwift<br>Markdown View for iOS.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/johnxnguyen/Down">johnxnguyen&#x2F;Down</a></em><br>fast Markdown<br>Starï¼š1963 Issueï¼š25 å¼€å‘è¯­è¨€ï¼šC<br>Blazing fast Markdown &#x2F; CommonMark rendering in Swift, built upon cmark.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/qeude/SwiftDown">qeude&#x2F;SwiftDown</a></em><br>Swift å†™çš„å¯æ¢ä¸»é¢˜çš„ Markdown ç¼–è¾‘å™¨ç»„ä»¶<br>Starï¼š115 Issueï¼š2 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸ“¦ A themable markdown editor component for your SwiftUI apps.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/JohnSundell/Ink">JohnSundell&#x2F;Ink</a></em><br>Markdown è§£æå™¨<br>Starï¼š2117 Issueï¼š22 å¼€å‘è¯­è¨€ï¼šSwift<br>A fast and flexible Markdown parser written in Swift.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/tnantoka/edhita">tnantoka&#x2F;edhita</a></em><br>Starï¼š1194 Issueï¼š15 å¼€å‘è¯­è¨€ï¼šSwift<br>Fully open source text editor for iOS written in Swift.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/glushchenko/fsnotes">glushchenko&#x2F;fsnotes</a></em><br>Starï¼š5025 Issueï¼š222 å¼€å‘è¯­è¨€ï¼šSwift<br>Notes manager for macOS&#x2F;iOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/coteditor/CotEditor">coteditor&#x2F;CotEditor</a></em><br>Starï¼š4602 Issueï¼š96 å¼€å‘è¯­è¨€ï¼šSwift<br>Lightweight Plain-Text Editor for macOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/mchakravarty/CodeEditorView">mchakravarty&#x2F;CodeEditorView</a></em><br>SwiftUI å†™çš„ä»£ç ç¼–è¾‘å™¨<br>Starï¼š400 Issueï¼š30 å¼€å‘è¯­è¨€ï¼šSwift<br>SwiftUI code editor view for iOS and macOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/CodeEditApp/CodeEdit">CodeEditApp&#x2F;CodeEdit</a></em><br>åŸç”Ÿï¼Œæ€§èƒ½å¥½çš„ä»£ç ç¼–è¾‘å™¨<br>Starï¼š10816 Issueï¼š93 å¼€å‘è¯­è¨€ï¼šSwift<br>CodeEdit App for macOS â€“ Elevate your code editing experience. Open source, free forever.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/ZeeZide/CodeEditor">ZeeZide&#x2F;CodeEditor</a></em><br>ä½¿ç”¨ Highlight.js çš„æ¥åšè¯­æ³•é«˜äº®çš„ SwiftUI ç¼–è¾‘å™¨<br>Starï¼š202 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šSwift<br>A SwiftUI TextEditor with syntax highlighting using Highlight.js</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/tw93/MiaoYan">tw93&#x2F;MiaoYan</a></em><br>è½»çµçš„ Markdown ç¬”è®°æœ¬ä¼´ä½ å†™å‡ºå¦™è¨€<br>Starï¼š0 Issueï¼š0 å¼€å‘è¯­è¨€ï¼š</p>
<h3 id="åŠ¨ç”»-2"><a href="#åŠ¨ç”»-2" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/recherst/kavsoft-swiftui-animations">recherst&#x2F;kavsoft-swiftui-animations</a></em><br>Starï¼š132 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>SwiftUI animation tutorials, all of demos are consisted of youtube videos at website of kavsoft. ğŸ”— <a target="_blank" rel="noopener" href="https://kavsoft.dev/">https://kavsoft.dev</a></p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/timdonnelly/Advance">timdonnelly&#x2F;Advance</a></em><br>Physics-based animations<br>Starï¼š4463 Issueï¼š4 å¼€å‘è¯­è¨€ï¼šSwift<br>Physics-based animations for iOS, tvOS, and macOS.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/MengTo/Spring">MengTo&#x2F;Spring</a></em><br>åŠ¨ç”»<br>Starï¼š13987 Issueï¼š167 å¼€å‘è¯­è¨€ï¼šSwift<br>A library to simplify iOS animations in Swift.</p>
<h3 id="æŒä¹…åŒ–å­˜å‚¨"><a href="#æŒä¹…åŒ–å­˜å‚¨" class="headerlink" title="æŒä¹…åŒ–å­˜å‚¨"></a>æŒä¹…åŒ–å­˜å‚¨</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/stephencelis/SQLite.swift">stephencelis&#x2F;SQLite.swift</a></em><br>Starï¼š8349 Issueï¼š88 å¼€å‘è¯­è¨€ï¼šSwift<br>A type-safe, Swift-language layer over SQLite3.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/groue/GRDB.swift">groue&#x2F;GRDB.swift</a></em><br>Starï¼š5185 Issueï¼š2 å¼€å‘è¯­è¨€ï¼šSwift<br>A toolkit for SQLite databases, with a focus on application development</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/caiyue1993/IceCream">caiyue1993&#x2F;IceCream</a></em><br>CloudKit åŒæ­¥ Realm æ•°æ®åº“<br>Starï¼š1732 Issueï¼š46 å¼€å‘è¯­è¨€ï¼šSwift<br>Sync Realm Database with CloudKit</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/realm/realm-cocoa">realm&#x2F;realm-cocoa</a></em><br>Starï¼š15375 Issueï¼š367 å¼€å‘è¯­è¨€ï¼šObjective-C<br>Realm is a mobile database: a replacement for Core Data &amp; SQLite</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/PostgresApp/PostgresApp">PostgresApp&#x2F;PostgresApp</a></em><br>PostgreSQL macOS åº”ç”¨<br>Starï¼š6332 Issueï¼š125 å¼€å‘è¯­è¨€ï¼šMakefile<br>The easiest way to get started with PostgreSQL on the Mac</p>
<h3 id="ç¼–ç¨‹èŒƒå¼"><a href="#ç¼–ç¨‹èŒƒå¼" class="headerlink" title="ç¼–ç¨‹èŒƒå¼"></a>ç¼–ç¨‹èŒƒå¼</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/ReactiveX/RxSwift">ReactiveX&#x2F;RxSwift</a></em><br>å‡½æ•°å“åº”å¼ç¼–ç¨‹<br>Starï¼š22278 Issueï¼š10 å¼€å‘è¯­è¨€ï¼šSwift<br>Reactive Programming in Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/pointfreeco/swift-composable-architecture">pointfreeco&#x2F;swift-composable-architecture</a></em><br>Starï¼š6377 Issueï¼š20 å¼€å‘è¯­è¨€ï¼šSwift<br>A library for building applications in a consistent and understandable way, with composition, testing, and ergonomics in mind.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/onmyway133/awesome-ios-architecture">onmyway133&#x2F;awesome-ios-architecture</a></em><br>Starï¼š4628 Issueï¼š0 å¼€å‘è¯­è¨€ï¼š<br>:japanese_castle: Better ways to structure iOS apps</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/ReSwift/ReSwift">ReSwift&#x2F;ReSwift</a></em><br>å•é¡µé¢çŠ¶æ€å’Œæ•°æ®ç®¡ç†<br>Starï¼š7206 Issueï¼š39 å¼€å‘è¯­è¨€ï¼šSwift<br>Unidirectional Data Flow in Swift - Inspired by Redux</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/gre4ixin/ReduxUI">gre4ixin&#x2F;ReduxUI</a></em><br>SwiftUI Redux æ¶æ„<br>Starï¼š29 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸ’ Redux like architecture for SwiftUI</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/BohdanOrlov/iOS-Developer-Roadmap">BohdanOrlov&#x2F;iOS-Developer-Roadmap</a></em><br>Starï¼š5834 Issueï¼š7 å¼€å‘è¯­è¨€ï¼šSwift<br>Roadmap to becoming an iOS developer in 2018.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/ReactiveCocoa/ReactiveCocoa">ReactiveCocoa&#x2F;ReactiveCocoa</a></em><br>Starï¼š19983 Issueï¼š4 å¼€å‘è¯­è¨€ï¼šSwift<br>Cocoa framework and Obj-C dynamism bindings for ReactiveSwift.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/mehdihadeli/awesome-software-architecture">mehdihadeli&#x2F;awesome-software-architecture</a></em><br>è½¯ä»¶æ¶æ„<br>Starï¼š291 Issueï¼š2 å¼€å‘è¯­è¨€ï¼š<br>A curated list of awesome articles, videos, and other resources to learn and practice software architecture, patterns, and principles.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/nalexn/clean-architecture-swiftui">nalexn&#x2F;clean-architecture-swiftui</a></em><br>å¹²å‡€å®Œæ•´çš„SwiftUI+Combineä¾‹å­ï¼ŒåŒ…å«ç½‘ç»œå’Œå•å…ƒæµ‹è¯•ç­‰<br>Starï¼š3517 Issueï¼š17 å¼€å‘è¯­è¨€ï¼šSwift<br>SwiftUI sample app using Clean Architecture. Examples of working with CoreData persistence, networking, dependency injection, unit testing, and more.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/krzysztofzablocki/Sourcery">krzysztofzablocki&#x2F;Sourcery</a></em><br>Swift å…ƒç¼–ç¨‹<br>Starï¼š6644 Issueï¼š55 å¼€å‘è¯­è¨€ï¼šSwift<br>Meta-programming for Swift, stop writing boilerplate code.</p>
<h3 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/pointfreeco/swiftui-navigation">pointfreeco&#x2F;swiftui-navigation</a></em><br>Starï¼š866 Issueï¼š2 å¼€å‘è¯­è¨€ï¼šSwift<br>Tools for making SwiftUI navigation simpler, more ergonomic and more precise.</p>
<h3 id="é™æ€æ£€æŸ¥"><a href="#é™æ€æ£€æŸ¥" class="headerlink" title="é™æ€æ£€æŸ¥"></a>é™æ€æ£€æŸ¥</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/realm/SwiftLint">realm&#x2F;SwiftLint</a></em><br>Starï¼š16224 Issueï¼š312 å¼€å‘è¯­è¨€ï¼šSwift<br>A tool to enforce Swift style and conventions.</p>
<h3 id="ç³»ç»Ÿèƒ½åŠ›"><a href="#ç³»ç»Ÿèƒ½åŠ›" class="headerlink" title="ç³»ç»Ÿèƒ½åŠ›"></a>ç³»ç»Ÿèƒ½åŠ›</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/devicekit/DeviceKit">devicekit&#x2F;DeviceKit</a></em><br>UIDevice æ˜“ç”¨å°è£…<br>Starï¼š3700 Issueï¼š46 å¼€å‘è¯­è¨€ï¼šSwift<br>DeviceKit is a value-type replacement of UIDevice.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/kishikawakatsumi/KeychainAccess">kishikawakatsumi&#x2F;KeychainAccess</a></em><br>Starï¼š6935 Issueï¼š39 å¼€å‘è¯­è¨€ï¼šSwift<br>Simple Swift wrapper for Keychain that works on iOS, watchOS, tvOS and macOS.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/nvzqz/FileKit">nvzqz&#x2F;FileKit</a></em><br>æ–‡ä»¶æ“ä½œ<br>Starï¼š2217 Issueï¼š11 å¼€å‘è¯­è¨€ï¼šSwift<br>Simple and expressive file management in Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/JohnSundell/Files">JohnSundell&#x2F;Files</a></em><br>æ–‡ä»¶æ“ä½œ<br>Starï¼š2298 Issueï¼š23 å¼€å‘è¯­è¨€ï¼šSwift<br>A nicer way to handle files &amp; folders in Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/kylef/PathKit">kylef&#x2F;PathKit</a></em><br>æ–‡ä»¶æ“ä½œ<br>Starï¼š1348 Issueï¼š12 å¼€å‘è¯­è¨€ï¼šSwift<br>Effortless path operations in Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/rushisangani/BiometricAuthentication">rushisangani&#x2F;BiometricAuthentication</a></em><br>FaceID or TouchID authentication<br>Starï¼š798 Issueï¼š14 å¼€å‘è¯­è¨€ï¼šSwift<br>Use Apple FaceID or TouchID authentication in your app using BiometricAuthentication.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/sunshinejr/SwiftyUserDefaults">sunshinejr&#x2F;SwiftyUserDefaults</a></em><br>Starï¼š4653 Issueï¼š48 å¼€å‘è¯­è¨€ï¼šSwift<br>Modern Swift API for NSUserDefaults</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/MonitorControl/MonitorControl">MonitorControl&#x2F;MonitorControl</a></em><br>äº®åº¦å’Œå£°éŸ³æ§åˆ¶<br>Starï¼š16608 Issueï¼š65 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸ–¥ Control your displayâ€™s brightness &amp; volume on your Mac as if it was a native Apple Display. Use Apple Keyboard keys or custom shortcuts. Shows the native macOS OSDs.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/carekit-apple/CareKit">carekit-apple&#x2F;CareKit</a></em><br>ä½¿ç”¨ SwiftUI å¼€å‘å¥åº·ç›¸å…³çš„åº“<br>Starï¼š2224 Issueï¼š71 å¼€å‘è¯­è¨€ï¼šSwift<br>CareKit is an open source software framework for creating apps that help people better understand and manage their health.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Cay-Zhang/SwiftSpeech">Cay-Zhang&#x2F;SwiftSpeech</a></em><br>è‹¹æœè¯­è¨€è¯†åˆ«å°è£…åº“ï¼Œå·²é€‚é… SwiftUI<br>Starï¼š269 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>A speech recognition framework designed for SwiftUI.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/malcommac/SwiftDate">malcommac&#x2F;SwiftDate</a></em><br>Swiftç¼–å†™çš„æ—¶é—´æ—¶åŒºï¼Œæ—¶é—´æ¯”è¾ƒç­‰å¤æ‚å¤„ç†çš„åŒ…è£…<br>Starï¼š6943 Issueï¼š68 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸ” Toolkit to parse, validate, manipulate, compare and display dates, time &amp; timezones in Swift.</p>
<h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/OAuthSwift/OAuthSwift">OAuthSwift&#x2F;OAuthSwift</a></em><br>Starï¼š3017 Issueï¼š42 å¼€å‘è¯­è¨€ï¼šSwift<br>Swift based OAuth library for iOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/p2/OAuth2">p2&#x2F;OAuth2</a></em><br>Starï¼š1067 Issueï¼š74 å¼€å‘è¯­è¨€ï¼šSwift<br>OAuth2 framework for macOS and iOS, written in Swift.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/public-apis/public-apis">public-apis&#x2F;public-apis</a></em><br>Starï¼š197421 Issueï¼š19 å¼€å‘è¯­è¨€ï¼šPython<br>A collective list of free APIs</p>
<h3 id="æ¥å£åº”ç”¨"><a href="#æ¥å£åº”ç”¨" class="headerlink" title="æ¥å£åº”ç”¨"></a>æ¥å£åº”ç”¨</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/bpisano/Weather">bpisano&#x2F;Weather</a></em><br>å¤©æ°”åº”ç”¨<br>Starï¼š282 Issueï¼š2 å¼€å‘è¯­è¨€ï¼šSwift<br>A Weather app in SwiftUI.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Dimillian/MovieSwiftUI">Dimillian&#x2F;MovieSwiftUI</a></em><br>ç”µå½± MovieDB åº”ç”¨<br>Starï¼š6063 Issueï¼š8 å¼€å‘è¯­è¨€ï¼šSwift<br>SwiftUI &amp; Combine app using MovieDB API. With a custom Flux (Redux) implementation.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/chojnac/NotionSwift">chojnac&#x2F;NotionSwift</a></em><br>Starï¼š29 Issueï¼š4 å¼€å‘è¯­è¨€ï¼šSwift<br>Unofficial Notion API SDK for iOS &amp; macOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Dimillian/RedditOS">Dimillian&#x2F;RedditOS</a></em><br>SwiftUI å†™çš„ Redditå®¢æˆ·ç«¯<br>Starï¼š3605 Issueï¼š16 å¼€å‘è¯­è¨€ï¼šSwift<br>The product name is Curiosity, a SwiftUI Reddit client for macOS Big Sur</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/carson-katri/reddit-swiftui">carson-katri&#x2F;reddit-swiftui</a></em><br>SwiftUI å†™çš„ Redditå®¢æˆ·ç«¯<br>Starï¼š1127 Issueï¼š7 å¼€å‘è¯­è¨€ï¼šSwift<br>A cross-platform Reddit client built in SwiftUI</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Dimillian/SwiftHN">Dimillian&#x2F;SwiftHN</a></em><br>Hacker News é˜…è¯»<br>Starï¼š1685 Issueï¼š20 å¼€å‘è¯­è¨€ï¼šSwift<br>A Hacker News reader in Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/tatsuz0u/EhPanda">tatsuz0u&#x2F;EhPanda</a></em><br>Starï¼š1507 Issueï¼š24 å¼€å‘è¯­è¨€ï¼šSwift<br>An unofficial E-Hentai App for iOS built with SwiftUI &amp; TCA.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Dimillian/MortyUI">Dimillian&#x2F;MortyUI</a></em><br>GraphQL + SwiftUI å¼€å‘çš„ç‘å…‹å’Œè«è’‚åº”ç”¨<br>Starï¼š431 Issueï¼š4 å¼€å‘è¯­è¨€ï¼šSwift<br>A very simple Rick &amp; Morty app to demo GraphQL + SwiftUI</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Finb/V2ex-Swift">Finb&#x2F;V2ex-Swift</a></em><br>V2EX å®¢æˆ·ç«¯<br>Starï¼š1513 Issueï¼š11 å¼€å‘è¯­è¨€ï¼šSwift<br>An iOS client written in Swift for V2EX</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/v2er-app/iOS">v2er-app&#x2F;iOS</a></em><br>V2EX å®¢æˆ·ç«¯<br>Starï¼š194 Issueï¼š4 å¼€å‘è¯­è¨€ï¼šSwift<br>The source of V2er.iOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/sinaweibosdk/weibo_ios_sdk">sinaweibosdk&#x2F;weibo_ios_sdk</a></em><br>Starï¼š1423 Issueï¼š66 å¼€å‘è¯­è¨€ï¼šObjective-C<br>æ–°æµªå¾®åš IOS SDK</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/miniLV/MNWeibo">miniLV&#x2F;MNWeibo</a></em><br>Swift5 + MVVM å¾®åšå®¢æˆ·ç«¯<br>Starï¼š251 Issueï¼š4 å¼€å‘è¯­è¨€ï¼šSwift<br>Swift5 + MVVM + æ–‡è‰ºå¤å…´å¾®åš(çº¯ä»£ç  + çº¯Swift)ï¼Œå¯ä½œä¸ºç¬¬ä¸€ä¸ªä¸Šæ‰‹çš„Swifté¡¹ç›®.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/nerdishbynature/octokit.swift">nerdishbynature&#x2F;octokit.swift</a></em><br>Swift API Client for GitHub<br>Starï¼š400 Issueï¼š10 å¼€å‘è¯­è¨€ï¼šSwift<br>A Swift API Client for GitHub and GitHub Enterprise</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/GitHawkApp/GitHawk">GitHawkApp&#x2F;GitHawk</a></em><br>iOS app for GitHub<br>Starï¼š2838 Issueï¼š460 å¼€å‘è¯­è¨€ï¼šSwift<br>The (second) best iOS app for GitHub.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/fangzesheng/free-api">fangzesheng&#x2F;free-api</a></em><br>Starï¼š12335 Issueï¼š28 å¼€å‘è¯­è¨€ï¼š<br>æ”¶é›†å…è´¹çš„æ¥å£æœåŠ¡,åšä¸€ä¸ªapiçš„æ¬è¿å·¥</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/nerdsupremacist/Graphaello">nerdsupremacist&#x2F;Graphaello</a></em><br>SwiftUI ä¸­ä½¿ç”¨ GraphQL çš„å·¥å…·<br>Starï¼š454 Issueï¼š22 å¼€å‘è¯­è¨€ï¼šSwift<br>A Tool for Writing Declarative, Type-Safe and Data-Driven Applications in SwiftUI using GraphQL</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/nerdsupremacist/tmdb">nerdsupremacist&#x2F;tmdb</a></em><br>GraphQL åŒ…è£…ç”µå½±æ•°æ®æ¥å£<br>Starï¼š16 Issueï¼š1 å¼€å‘è¯­è¨€ï¼šSwift<br>A GraphQL Wrapper for The Movie Database</p>
<h3 id="macOS-1"><a href="#macOS-1" class="headerlink" title="macOS"></a>macOS</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/serhii-londar/open-source-mac-os-apps">serhii-londar&#x2F;open-source-mac-os-apps</a></em><br>å¼€æº macOS ç¨‹åºåˆé›†<br>Starï¼š30760 Issueï¼š65 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸš€ Awesome list of open source applications for macOS. <a target="_blank" rel="noopener" href="https://t.me/s/opensourcemacosapps">https://t.me/s/opensourcemacosapps</a></p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Ranchero-Software/NetNewsWire">Ranchero-Software&#x2F;NetNewsWire</a></em><br>Starï¼š5773 Issueï¼š551 å¼€å‘è¯­è¨€ï¼šSwift<br>RSS reader for macOS and iOS.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/overtake/TelegramSwift">overtake&#x2F;TelegramSwift</a></em><br>Starï¼š3876 Issueï¼š485 å¼€å‘è¯­è¨€ï¼šSwift<br>Source code of Telegram for macos on Swift 5.0</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/eonist/FileWatcher">eonist&#x2F;FileWatcher</a></em><br>macOS ä¸Šç›‘å¬æ–‡ä»¶å˜åŒ–<br>Starï¼š159 Issueï¼š5 å¼€å‘è¯­è¨€ï¼šSwift<br>Monitoring file system changes in macOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/waylybaye/XcodeCleaner-SwiftUI">waylybaye&#x2F;XcodeCleaner-SwiftUI</a></em><br>æ¸…ç† Xcode<br>Starï¼š1204 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šSwift<br>Make Xcode Clean Again</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/gao-sun/eul">gao-sun&#x2F;eul</a></em><br>SwiftUI å†™çš„ macOS çŠ¶æ€ç›‘æ§å·¥å…·<br>Starï¼š7658 Issueï¼š55 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸ–¥ï¸ macOS status monitoring app written in SwiftUI.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Dimillian/ACHNBrowserUI">Dimillian&#x2F;ACHNBrowserUI</a></em><br>SwiftUI å†™çš„åŠ¨ç‰©ä¹‹æ£®å°åŠ©æ‰‹ç¨‹åº<br>Starï¼š1528 Issueï¼š32 å¼€å‘è¯­è¨€ï¼šSwift<br>Animal Crossing New Horizon companion app in SwiftUI</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/lexrus/RegExPlus">lexrus&#x2F;RegExPlus</a></em><br>æ­£åˆ™è¡¨è¾¾å¼<br>Starï¼š186 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>A nifty RegEx test tool built with SwiftUI</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/v2ex/launcher">v2ex&#x2F;launcher</a></em><br>ç”¨æ¥å¯åŠ¨é‚£äº›æœ¬åœ°å¼€å‘æ—¶éœ€è¦çš„å„ç§è¿›ç¨‹ï¼ŒåŠæŸ¥çœ‹å…¶è¾“å‡º<br>Starï¼š212 Issueï¼š5 å¼€å‘è¯­è¨€ï¼šSwift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/lukakerr/Pine">lukakerr&#x2F;Pine</a></em><br>Markdown ç¼–è¾‘å™¨<br>Starï¼š2988 Issueï¼š45 å¼€å‘è¯­è¨€ï¼šSwift<br>A modern, native macOS markdown editor</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/root3nl/SupportApp">root3nl&#x2F;SupportApp</a></em><br>ä¼ä¸šæ”¯æŒ macOS è½¯ä»¶<br>Starï¼š283 Issueï¼š20 å¼€å‘è¯­è¨€ï¼šSwift<br>The Support App is developed by Root3, specialized in managing Apple devices. Root3 offers consultancy and support for organizations to get the most out of their Apple devices and is based in The Netherlands (Haarlem).</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/jaywcjlove/awesome-mac">jaywcjlove&#x2F;awesome-mac</a></em><br>macOS è½¯ä»¶å¤§å…¨<br>Starï¼š49993 Issueï¼š126 å¼€å‘è¯­è¨€ï¼šJavaScript<br>ï£¿ Now we have become very big, Different from the original idea. Collect premium software in various categories.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/insidegui/WWDC">insidegui&#x2F;WWDC</a></em><br>Starï¼š8216 Issueï¼š33 å¼€å‘è¯­è¨€ï¼šSwift<br>The unofficial WWDC app for macOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/sindresorhus/Actions">sindresorhus&#x2F;Actions</a></em><br>Starï¼š904 Issueï¼š11 å¼€å‘è¯­è¨€ï¼šSwift<br>âš™ï¸ Supercharge your shortcuts</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/ObuchiYuki/DevToysMac">ObuchiYuki&#x2F;DevToysMac</a></em><br>å¼€å‘è€…å·¥å…·åˆé›†<br>Starï¼š5552 Issueï¼š40 å¼€å‘è¯­è¨€ï¼šSwift<br>DevToys For mac</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/jacklandrin/OnlySwitch">jacklandrin&#x2F;OnlySwitch</a></em><br>macOS çŠ¶æ€æ ä¸€é”®è®¾ç½®å·¥å…·ï¼Œéšè—æ¡Œé¢å›¾æ ‡ã€æ¸…ç† Xcode ç¼“å­˜ã€ä¸€é”®éšè—åˆ˜æµ·å„¿ã€è¿›å…¥å¤œè§ˆæ¨¡å¼ç­‰æ•°åç§åŠŸèƒ½<br>Starï¼š1389 Issueï¼š10 å¼€å‘è¯­è¨€ï¼šSwift<br>âš™ï¸ All-in-One menu bar app, hide ğŸ’»MacBook Proâ€™s notch, dark mode, AirPods, Shortcuts</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/exelban/stats">exelban&#x2F;stats</a></em><br>macOS ç³»ç»Ÿèµ„æºç›‘æ§<br>Starï¼š11296 Issueï¼š14 å¼€å‘è¯­è¨€ï¼šSwift<br>macOS system monitor in your menu bar</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/brunophilipe/Cakebrew">brunophilipe&#x2F;Cakebrew</a></em><br>å¯è§†åŒ–ç®¡ç† Homebrew è½¯ä»¶åŒ…<br>Starï¼š4234 Issueï¼š57 å¼€å‘è¯­è¨€ï¼šObjective-C<br>Manage your Homebrew formulas with style using Cakebrew.</p>
<h3 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/vinhnx/Clendar">vinhnx&#x2F;Clendar</a></em><br>SwiftUI å†™çš„æ—¥å†åº”ç”¨<br>Starï¼š361 Issueï¼š58 å¼€å‘è¯­è¨€ï¼šSwift<br>Clendar - universal Apple-platform calendar app. Written in SwiftUI. Available on App Store. MIT License.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/SvenTiigi/WhatsNewKit">SvenTiigi&#x2F;WhatsNewKit</a></em><br>æ¬¢è¿å±<br>Starï¼š2560 Issueï¼š1 å¼€å‘è¯­è¨€ï¼šSwift<br>Showcase your awesome new app features ğŸ“±</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/kickstarter/ios-oss">kickstarter&#x2F;ios-oss</a></em><br>Kickstarter çš„ iOS ç‰ˆæœ¬<br>Starï¼š7968 Issueï¼š1 å¼€å‘è¯­è¨€ï¼šSwift<br>Kickstarter for iOS. Bring new ideas to life, anywhere.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/CoreOffice/CryptoOffice">CoreOffice&#x2F;CryptoOffice</a></em><br>Swift è§£æ Office Open XMLï¼ˆOOXMLï¼‰åŒ…æ‹¬ xlsx, docx, pptx<br>Starï¼š27 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>Office Open XML (OOXML) formats (.xlsx, .docx, .pptx) decryption for Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/CoreOffice/CoreXLSX">CoreOffice&#x2F;CoreXLSX</a></em><br>Swiftç¼–å†™çš„Excelç”µå­è¡¨æ ¼ï¼ˆXLSXï¼‰æ ¼å¼è§£æå™¨<br>Starï¼š643 Issueï¼š13 å¼€å‘è¯­è¨€ï¼šSwift<br>Excel spreadsheet (XLSX) format parser written in pure Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/analogcode/Swift-Radio-Pro">analogcode&#x2F;Swift-Radio-Pro</a></em><br>ç”µå°åº”ç”¨<br>Starï¼š2679 Issueï¼š13 å¼€å‘è¯­è¨€ï¼šSwift<br>Professional Radio Station App for iOS!</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/bizz84/SwiftyStoreKit">bizz84&#x2F;SwiftyStoreKit</a></em><br>åº”ç”¨å†…è´­æ¡†æ¶<br>Starï¼š6000 Issueï¼š163 å¼€å‘è¯­è¨€ï¼šSwift<br>Lightweight In App Purchases Swift framework for iOS 8.0+, tvOS 9.0+ and macOS 10.10+ â›º</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/wikimedia/wikipedia-ios">wikimedia&#x2F;wikipedia-ios</a></em><br>Starï¼š2462 Issueï¼š6 å¼€å‘è¯­è¨€ï¼šSwift<br> ğŸ“±The official Wikipedia iOS app.</p>
<h3 id="æ¸¸æˆ"><a href="#æ¸¸æˆ" class="headerlink" title="æ¸¸æˆ"></a>æ¸¸æˆ</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/pointfreeco/isowords">pointfreeco&#x2F;isowords</a></em><br>å•è¯æœç´¢æ¸¸æˆ<br>Starï¼š1792 Issueï¼š2 å¼€å‘è¯­è¨€ï¼šSwift<br>Open source game built in SwiftUI and the Composable Architecture.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/michelpereira/awesome-games-of-coding">michelpereira&#x2F;awesome-games-of-coding</a></em><br>æ•™ä½ å­¦ç¼–ç¨‹çš„æ¸¸æˆæ”¶é›†<br>Starï¼š1459 Issueï¼š1 å¼€å‘è¯­è¨€ï¼š<br>A curated list of games that can teach you how to learn a programming language.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/OpenEmu/OpenEmu">OpenEmu&#x2F;OpenEmu</a></em><br>è§†é¢‘æ¸¸æˆæ¨¡æ‹Ÿå™¨<br>Starï¼š13964 Issueï¼š201 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸ•¹ Retro video game emulation for macOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/jVirus/swiftui-2048">jVirus&#x2F;swiftui-2048</a></em><br>Starï¼š162 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸ² 100% SwiftUI 3.0, classic 2048 game [iOS 15.0+, iPadOS 15.0+, macOS 12.0+, Swift 5.5].</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/schellingb/dosbox-pure">schellingb&#x2F;dosbox-pure</a></em><br>DOS æ¸¸æˆæ¨¡æ‹Ÿå™¨<br>Starï¼š452 Issueï¼š112 å¼€å‘è¯­è¨€ï¼šC++<br>DOSBox Pure is a new fork of DOSBox built for RetroArch&#x2F;Libretro aiming for simplicity and ease of use.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/chrismaltby/gb-studio">chrismaltby&#x2F;gb-studio</a></em><br>æ‹–æ”¾å¼å¤å¤æ¸¸æˆåˆ›å»ºå™¨<br>Starï¼š6089 Issueï¼š513 å¼€å‘è¯­è¨€ï¼šC<br>A quick and easy to use drag and drop retro game creator for your favourite handheld video game system</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/darrellroot/Netrek-SwiftUI">darrellroot&#x2F;Netrek-SwiftUI</a></em><br>SwiftUI å¼€å‘çš„1989å¹´çš„ Netrek æ¸¸æˆ<br>Starï¼š10 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/freeCodeCamp/LearnToCodeRPG">freeCodeCamp&#x2F;LearnToCodeRPG</a></em><br>å­¦ä¹ ç¼–ç çš„æ¸¸æˆ<br>Starï¼š828 Issueï¼š10 å¼€å‘è¯­è¨€ï¼šRenâ€™Py<br>A visual novel video game where you learn to code and get a dev job ğŸ¯</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/pmgl/microstudio">pmgl&#x2F;microstudio</a></em><br>æ¸¸æˆå¼€å‘å¹³å°é›†æœç´¢ã€å¼€å‘ã€å­¦ä¹ ã€ä½“éªŒã€äº¤æµç­‰åŠŸèƒ½äºä¸€èº«<br>Starï¼š634 Issueï¼š37 å¼€å‘è¯­è¨€ï¼šJavaScript<br>Free, open source game engine online</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/InvadingOctopus/octopuskit">InvadingOctopus&#x2F;octopuskit</a></em><br>2Dæ¸¸æˆå¼•æ“ï¼Œç”¨çš„ GameplayKit + SpriteKit + SwiftUI<br>Starï¼š310 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>2D ECS game engine in 100% Swift + SwiftUI for iOS, macOS, tvOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/a-little-org-called-mario/a-little-game-called-mario">a-little-org-called-mario&#x2F;a-little-game-called-mario</a></em><br>ç”¨ Godot å¼•æ“åšçš„é©¬é‡Œå¥¥æ¸¸æˆ<br>Starï¼š1046 Issueï¼š5 å¼€å‘è¯­è¨€ï¼šGDScript<br>open source collective hell game</p>
<h3 id="æ–°æŠ€æœ¯å±•ç¤º"><a href="#æ–°æŠ€æœ¯å±•ç¤º" class="headerlink" title="æ–°æŠ€æœ¯å±•ç¤º"></a>æ–°æŠ€æœ¯å±•ç¤º</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/JakeLin/Moments-SwiftUI">JakeLin&#x2F;Moments-SwiftUI</a></em><br>SwiftUIã€Asyncã€Actor<br>Starï¼š42 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>WeChat-like Moments App implemented using Swift 5.5 and SwiftUI</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/twostraws/HackingWithSwift">twostraws&#x2F;HackingWithSwift</a></em><br>ç¤ºä¾‹ä»£ç <br>Starï¼š4529 Issueï¼š10 å¼€å‘è¯­è¨€ï¼šSwift<br>The project source code for hackingwithswift.com</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/carson-katri/awesome-result-builders">carson-katri&#x2F;awesome-result-builders</a></em><br>Result Builders awesome<br>Starï¼š798 Issueï¼š2 å¼€å‘è¯­è¨€ï¼š<br>A list of cool DSLs made with Swift 5.4â€™s @resultBuilder</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/pointfreeco/episode-code-samples">pointfreeco&#x2F;episode-code-samples</a></em><br>Starï¼š684 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸ’¾ Point-Free episode code.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/SwiftGGTeam/the-swift-programming-language-in-chinese">SwiftGGTeam&#x2F;the-swift-programming-language-in-chinese</a></em><br>ä¸­æ–‡ç‰ˆ Apple å®˜æ–¹ Swift æ•™ç¨‹<br>Starï¼š20535 Issueï¼š5 å¼€å‘è¯­è¨€ï¼šCSS<br>ä¸­æ–‡ç‰ˆ Apple å®˜æ–¹ Swift æ•™ç¨‹ã€ŠThe Swift Programming Languageã€‹</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/jessesquires/TIL">jessesquires&#x2F;TIL</a></em><br>å­¦ä¹ ç¬”è®°<br>Starï¼š258 Issueï¼š1 å¼€å‘è¯­è¨€ï¼š<br>Things Iâ€™ve learned and&#x2F;or things I want to remember. Notes, links, advice, example code, etc.</p>
<h3 id="Combine-æ‰©å±•"><a href="#Combine-æ‰©å±•" class="headerlink" title="Combine æ‰©å±•"></a>Combine æ‰©å±•</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/OpenCombine/OpenCombine">OpenCombine&#x2F;OpenCombine</a></em><br>Combine çš„å¼€æºå®ç°<br>Starï¼š2228 Issueï¼š13 å¼€å‘è¯­è¨€ï¼šSwift<br>Open source implementation of Appleâ€™s Combine framework for processing values over time.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/CombineCommunity/CombineExt">CombineCommunity&#x2F;CombineExt</a></em><br>å¯¹ Combine çš„è¡¥å……<br>Starï¼š1198 Issueï¼š23 å¼€å‘è¯­è¨€ï¼šSwift<br>CombineExt provides a collection of operators, publishers and utilities for Combine, that are not provided by Apple themselves, but are common in other Reactive Frameworks and standards.</p>
<h3 id="èšåˆ"><a href="#èšåˆ" class="headerlink" title="èšåˆ"></a>èšåˆ</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/dkhamsing/open-source-ios-apps">dkhamsing&#x2F;open-source-ios-apps</a></em><br>å¼€æºçš„å®Œæ•´ App ä¾‹å­<br>Starï¼š30612 Issueï¼š0 å¼€å‘è¯­è¨€ï¼š<br>:iphone: Collaborative List of Open-Source iOS Apps</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/vlondon/awesome-swiftui">vlondon&#x2F;awesome-swiftui</a></em><br>Starï¼š1246 Issueï¼š5 å¼€å‘è¯­è¨€ï¼š<br>A collaborative list of awesome articles, talks, books, videos and code examples about SwiftUI.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/ivanvorobei/SwiftUI">ivanvorobei&#x2F;SwiftUI</a></em><br>Starï¼š3896 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šSwift<br>Examples projects using SwiftUI released by WWDC2019. Include Layout, UI, Animations, Gestures, Draw and Data.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/kon9chunkit/GitHub-Chinese-Top-Charts">kon9chunkit&#x2F;GitHub-Chinese-Top-Charts</a></em><br>GitHubä¸­æ–‡æ’è¡Œæ¦œ<br>Starï¼š46675 Issueï¼š88 å¼€å‘è¯­è¨€ï¼šJava<br>:cn: GitHubä¸­æ–‡æ’è¡Œæ¦œï¼Œå„è¯­è¨€åˆ†è®¾ã€Œè½¯ä»¶ | èµ„æ–™ã€æ¦œå•ï¼Œç²¾å‡†å®šä½ä¸­æ–‡å¥½é¡¹ç›®ã€‚å„å–æ‰€éœ€ï¼Œé«˜æ•ˆå­¦ä¹ ã€‚</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/onmyway133/awesome-swiftui">onmyway133&#x2F;awesome-swiftui</a></em><br>Starï¼š402 Issueï¼š4 å¼€å‘è¯­è¨€ï¼š<br>ğŸŒ® Awesome resources, articles, libraries about SwiftUI</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Juanpe/About-SwiftUI">Juanpe&#x2F;About-SwiftUI</a></em><br>æ±‡æ€» SwiftUI çš„èµ„æ–™<br>Starï¼š6225 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>Gathering all info published, both by Apple and by others, about new framework SwiftUI. </p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/sindresorhus/awesome">sindresorhus&#x2F;awesome</a></em><br>å†…å®¹å¹¿<br>Starï¼š206308 Issueï¼š37 å¼€å‘è¯­è¨€ï¼š<br>ğŸ˜ Awesome lists about all kinds of interesting topics</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/SwiftPackageIndex/PackageList">SwiftPackageIndex&#x2F;PackageList</a></em><br>Swift å¼€æºåº“ç´¢å¼•<br>Starï¼š627 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>The master list of repositories for the Swift Package Index.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/matteocrippa/awesome-swift">matteocrippa&#x2F;awesome-swift</a></em><br>Starï¼š22100 Issueï¼š1 å¼€å‘è¯­è¨€ï¼šRuby<br>A collaborative list of awesome Swift libraries and resources. Feel free to contribute!</p>
<h3 id="æ€§èƒ½ã€å·¥ç¨‹æ„å»ºåŠè‡ªåŠ¨åŒ–"><a href="#æ€§èƒ½ã€å·¥ç¨‹æ„å»ºåŠè‡ªåŠ¨åŒ–" class="headerlink" title="æ€§èƒ½ã€å·¥ç¨‹æ„å»ºåŠè‡ªåŠ¨åŒ–"></a>æ€§èƒ½ã€å·¥ç¨‹æ„å»ºåŠè‡ªåŠ¨åŒ–</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/tuist/tuist">tuist&#x2F;tuist</a></em><br>åˆ›å»ºå’Œç»´æŠ¤ Xcode projects æ–‡ä»¶<br>Starï¼š2782 Issueï¼š131 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸš€ Create, maintain, and interact with Xcode projects at scale</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/swift-server/vscode-swift">swift-server&#x2F;vscode-swift</a></em><br>VSCode çš„ Swift æ‰©å±•<br>Starï¼š316 Issueï¼š33 å¼€å‘è¯­è¨€ï¼šTypeScript<br>Visual Studio Code Extension for Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/peripheryapp/periphery">peripheryapp&#x2F;periphery</a></em><br>æ£€æµ‹ Swift æ— ç”¨ä»£ç <br>Starï¼š3438 Issueï¼š31 å¼€å‘è¯­è¨€ï¼šSwift<br>A tool to identify unused code in Swift projects.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/nalexn/ViewInspector">nalexn&#x2F;ViewInspector</a></em><br>SwiftUI Runtime introspection å’Œ å•å…ƒæµ‹è¯•<br>Starï¼š1251 Issueï¼š24 å¼€å‘è¯­è¨€ï¼šSwift<br>Runtime introspection and unit testing of SwiftUI views</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/shibapm/Komondor">shibapm&#x2F;Komondor</a></em><br>Git Hooks for Swift projects<br>Starï¼š513 Issueï¼š20 å¼€å‘è¯­è¨€ï¼šSwift<br>Git Hooks for Swift projects ğŸ©</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/SwiftGen/SwiftGen">SwiftGen&#x2F;SwiftGen</a></em><br>ä»£ç ç”Ÿæˆ<br>Starï¼š7987 Issueï¼š91 å¼€å‘è¯­è¨€ï¼šSwift<br>The Swift code generator for your assets, storyboards, Localizable.strings, â€¦ â€” Get rid of all String-based APIs!</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/hyperoslo/Cache">hyperoslo&#x2F;Cache</a></em><br>Starï¼š2602 Issueï¼š23 å¼€å‘è¯­è¨€ï¼šSwift<br>:package: Nothing but Cache.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/kylef/Commander">kylef&#x2F;Commander</a></em><br>å‘½ä»¤è¡Œ<br>Starï¼š1492 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šSwift<br>Compose beautiful command line interfaces in Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Carthage/Carthage">Carthage&#x2F;Carthage</a></em><br>Starï¼š14605 Issueï¼š169 å¼€å‘è¯­è¨€ï¼šSwift<br>A simple, decentralized dependency manager for Cocoa</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/NARKOZ/hacker-scripts">NARKOZ&#x2F;hacker-scripts</a></em><br>ç¨‹åºå‘˜çš„æ´»éƒ½è®©æœºå™¨å¹²çš„è„šæœ¬ï¼ˆçœŸå®æ•…äº‹ï¼‰<br>Starï¼š44591 Issueï¼š67 å¼€å‘è¯­è¨€ï¼šJavaScript<br>Based on a true story</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/RobotsAndPencils/XcodesApp">RobotsAndPencils&#x2F;XcodesApp</a></em><br>Xcode å¤šç‰ˆæœ¬å®‰è£…<br>Starï¼š3276 Issueï¼š51 å¼€å‘è¯­è¨€ï¼šSwift<br>The easiest way to install and switch between multiple versions of Xcode - with a mouse click. </p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/ZeeZide/5GUIs">ZeeZide&#x2F;5GUIs</a></em><br>å¯ä»¥åˆ†æç¨‹åºç”¨äº†å“ªäº›åº“ï¼Œç”¨äº†LLVM objdump<br>Starï¼š189 Issueï¼š11 å¼€å‘è¯­è¨€ï¼šSwift<br>A tiny macOS app that can detect the GUI technologies used in other apps.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/faisalmemon/ios-crash-dump-analysis-book">faisalmemon&#x2F;ios-crash-dump-analysis-book</a></em><br>iOS Crash Dump Analysis Book<br>Starï¼š474 Issueï¼š1 å¼€å‘è¯­è¨€ï¼šObjective-C<br>iOS Crash Dump Analysis Book</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/majd/ipatool">majd&#x2F;ipatool</a></em><br>ä¸‹è½½ ipa<br>Starï¼š2303 Issueï¼š12 å¼€å‘è¯­è¨€ï¼šSwift<br>Command-line tool that allows searching and downloading app packages (known as ipa files) from the iOS App Store</p>
<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/Quick/Quick">Quick&#x2F;Quick</a></em><br>æµ‹è¯•æ¡†æ¶<br>Starï¼š9456 Issueï¼š31 å¼€å‘è¯­è¨€ï¼šSwift<br>The Swift (and Objective-C) testing framework.</p>
<h3 id="ç½‘ç»œ-2"><a href="#ç½‘ç»œ-2" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/Alamofire/Alamofire">Alamofire&#x2F;Alamofire</a></em><br>Starï¼š37835 Issueï¼š29 å¼€å‘è¯­è¨€ï¼šSwift<br>Elegant HTTP Networking in Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/socketio/socket.io-client-swift">socketio&#x2F;socket.io-client-swift</a></em><br>Starï¼š4814 Issueï¼š189 å¼€å‘è¯­è¨€ï¼šSwift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Lojii/Knot">Lojii&#x2F;Knot</a></em><br>ä½¿ç”¨ SwiftNIO å®ç° HTTPS æŠ“åŒ…<br>Starï¼š1239 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šC<br>ä¸€æ¬¾iOSç«¯åŸºäºMITM(ä¸­é—´äººæ”»å‡»æŠ€æœ¯)å®ç°çš„HTTPSæŠ“åŒ…å·¥å…·ï¼Œå®Œæ•´çš„Appï¼Œæ ¸å¿ƒä»£ç ä½¿ç”¨SwiftNIOå®ç°</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/swift-server/async-http-client">swift-server&#x2F;async-http-client</a></em><br>ä½¿ç”¨ SwiftNIO å¼€å‘çš„ HTTP å®¢æˆ·ç«¯<br>Starï¼š609 Issueï¼š83 å¼€å‘è¯­è¨€ï¼šSwift<br>HTTP client library built on SwiftNIO</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/kean/Get">kean&#x2F;Get</a></em><br>Starï¼š406 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>Web API client built using async&#x2F;await</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/awesome-selfhosted/awesome-selfhosted">awesome-selfhosted&#x2F;awesome-selfhosted</a></em><br>ç½‘ç»œæœåŠ¡åŠä¸Šé¢çš„åº”ç”¨<br>Starï¼š92737 Issueï¼š151 å¼€å‘è¯­è¨€ï¼šJavaScript<br>A list of Free Software network services and web applications which can be hosted on your own servers</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/daltoniam/Starscream">daltoniam&#x2F;Starscream</a></em><br>WebSocket<br>Starï¼š7348 Issueï¼š149 å¼€å‘è¯­è¨€ï¼šSwift<br>Websockets in swift for iOS and OSX</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/shadowsocks/ShadowsocksX-NG">shadowsocks&#x2F;ShadowsocksX-NG</a></em><br>Starï¼š30440 Issueï¼š257 å¼€å‘è¯­è¨€ï¼šSwift<br>Next Generation of ShadowsocksX</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/carson-katri/swift-request">carson-katri&#x2F;swift-request</a></em><br>å£°æ˜å¼çš„ç½‘ç»œè¯·æ±‚<br>Starï¼š648 Issueï¼š7 å¼€å‘è¯­è¨€ï¼šSwift<br>Declarative HTTP networking, designed for SwiftUI</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/alibaba/xquic">alibaba&#x2F;xquic</a></em><br>é˜¿é‡Œå·´å·´å‘å¸ƒçš„ XQUIC åº“<br>Starï¼š1132 Issueï¼š21 å¼€å‘è¯­è¨€ï¼šC<br>XQUIC Library released by Alibaba is a cross-platform implementation of QUIC and HTTP&#x2F;3 protocol.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/kasketis/netfox">kasketis&#x2F;netfox</a></em><br>è·å–æ‰€æœ‰ç½‘ç»œè¯·æ±‚<br>Starï¼š3269 Issueï¼š18 å¼€å‘è¯­è¨€ï¼šSwift<br>A lightweight, one line setup, iOS &#x2F; OSX network debugging library! ğŸ¦Š</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Moya/Moya">Moya&#x2F;Moya</a></em><br>Swift ç¼–å†™çš„ç½‘ç»œæŠ½è±¡å±‚<br>Starï¼š14012 Issueï¼š125 å¼€å‘è¯­è¨€ï¼šSwift<br>Network abstraction layer written in Swift.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Kitura/BlueSocket">Kitura&#x2F;BlueSocket</a></em><br>Starï¼š1301 Issueï¼š31 å¼€å‘è¯­è¨€ï¼šSwift<br>Socket framework for Swift using the Swift Package Manager. Works on iOS, macOS, and Linux.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/rhummelmose/BluetoothKit">rhummelmose&#x2F;BluetoothKit</a></em><br>è“ç‰™<br>Starï¼š2086 Issueï¼š35 å¼€å‘è¯­è¨€ï¼šSwift<br>Easily communicate between iOS&#x2F;OSX devices using BLE</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/WeTransfer/Mocker">WeTransfer&#x2F;Mocker</a></em><br>Mock Alamofire and URLSession<br>Starï¼š817 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šSwift<br>Mock Alamofire and URLSession requests without touching your code implementation</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/bagder/everything-curl">bagder&#x2F;everything-curl</a></em><br>è®°å½•äº† curl çš„ä¸€åˆ‡<br>Starï¼š1488 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šPerl<br>The book documenting the curl project, the curl tool, libcurl and more. Simply put: everything curl.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/LANDrop/LANDrop">LANDrop&#x2F;LANDrop</a></em><br>å…¨å¹³å°å±€åŸŸç½‘æ–‡ä»¶ä¼ è¾“<br>Starï¼š2787 Issueï¼š90 å¼€å‘è¯­è¨€ï¼šC++<br>Drop any files to any devices on your LAN.</p>
<h3 id="å›¾å½¢"><a href="#å›¾å½¢" class="headerlink" title="å›¾å½¢"></a>å›¾å½¢</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/willdale/SwiftUICharts">willdale&#x2F;SwiftUICharts</a></em><br>ç”¨äºSwiftUIçš„å›¾è¡¨ç»˜å›¾åº“<br>Starï¼š560 Issueï¼š30 å¼€å‘è¯­è¨€ï¼šSwift<br>A charts &#x2F; plotting library for SwiftUI. Works on macOS, iOS, watchOS, and tvOS and has accessibility features built in.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/lludo/SwiftSunburstDiagram">lludo&#x2F;SwiftSunburstDiagram</a></em><br>SwiftUI å›¾è¡¨<br>Starï¼š479 Issueï¼š12 å¼€å‘è¯­è¨€ï¼šSwift<br>SwiftUI library to easily render diagrams given a tree of objects. Similar to ring chart, sunburst chart, multilevel pie chart.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/ivanschuetz/SwiftCharts">ivanschuetz&#x2F;SwiftCharts</a></em><br>Starï¼š2399 Issueï¼š49 å¼€å‘è¯­è¨€ï¼šSwift<br>Easy to use and highly customizable charts library for iOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/danielgindi/Charts">danielgindi&#x2F;Charts</a></em><br>Starï¼š25565 Issueï¼š832 å¼€å‘è¯­è¨€ï¼šSwift<br>Beautiful charts for iOS&#x2F;tvOS&#x2F;OSX! The Apple side of the crossplatform MPAndroidChart.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/imxieyi/waifu2x-ios">imxieyi&#x2F;waifu2x-ios</a></em><br>waifu2x Core ML åŠ¨æ¼«é£æ ¼å›¾ç‰‡çš„é«˜æ¸…æ¸²æŸ“<br>Starï¼š430 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šSwift<br>iOS Core ML implementation of waifu2x</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/mecid/SwiftUICharts">mecid&#x2F;SwiftUICharts</a></em><br>æ”¯æŒ SwiftUI çš„ç®€å•çš„çº¿å›¾å’ŒæŸ±çŠ¶å›¾åº“<br>Starï¼š1306 Issueï¼š2 å¼€å‘è¯­è¨€ï¼šSwift<br>A simple line and bar charting library that supports accessibility written using SwiftUI. </p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Tencent/libpag">Tencent&#x2F;libpag</a></em><br>PAGï¼ˆPortable Animated Graphicsï¼‰å®æ—¶æ¸²æŸ“åº“ï¼Œå¤šä¸ªå¹³å°æ¸²æŸ“AEåŠ¨ç”»ã€‚<br>Starï¼š1809 Issueï¼š2 å¼€å‘è¯­è¨€ï¼šC++<br>The official rendering library for PAG (Portable Animated Graphics) files that renders After Effects animations natively across multiple platforms.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/jathu/UIImageColors">jathu&#x2F;UIImageColors</a></em><br>è·å–å›¾ç‰‡ä¸»æ¬¡é¢œè‰²<br>Starï¼š3100 Issueï¼š10 å¼€å‘è¯­è¨€ï¼šSwift<br>Fetches the most dominant and prominent colors from an image.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/BradLarson/GPUImage3">BradLarson&#x2F;GPUImage3</a></em><br>Metal å®ç°<br>Starï¼š2362 Issueï¼š74 å¼€å‘è¯­è¨€ï¼šSwift<br>GPUImage 3 is a BSD-licensed Swift framework for GPU-accelerated video and image processing using Metal.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/exyte/Macaw">exyte&#x2F;Macaw</a></em><br>SVG<br>Starï¼š5845 Issueï¼š129 å¼€å‘è¯­è¨€ï¼šSwift<br>Powerful and easy-to-use vector graphics Swift library with SVG support</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/exyte/SVGView">exyte&#x2F;SVGView</a></em><br>æ”¯æŒ SwiftUI çš„ SVG è§£ææ¸²æŸ“è§†å›¾<br>Starï¼š173 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šSwift<br>SVG parser and renderer written in SwiftUI</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/efremidze/Magnetic">efremidze&#x2F;Magnetic</a></em><br>SpriteKitæ°”æ³¡æ”¯æŒSwiftUI<br>Starï¼š1398 Issueï¼š23 å¼€å‘è¯­è¨€ï¼šSwift<br>SpriteKit Floating Bubble Picker (inspired by Apple Music) ğŸ§²</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/NextLevel/NextLevel">NextLevel&#x2F;NextLevel</a></em><br>ç›¸æœº<br>Starï¼š1994 Issueï¼š69 å¼€å‘è¯­è¨€ï¼šSwift<br>â¬†ï¸ Rad Media Capture in Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Harley-xk/MaLiang">Harley-xk&#x2F;MaLiang</a></em><br>åŸºäº Metal çš„æ¶‚é¸¦ç»˜å›¾åº“<br>Starï¼š1271 Issueï¼š43 å¼€å‘è¯­è¨€ï¼šSwift<br>iOS painting and drawing library based on Metal. ç¥ç¬”é©¬è‰¯æœ‰ä¸€æ”¯ç¥ç¬”ï¼ˆåŸºäº Metal çš„æ¶‚é¸¦ç»˜å›¾åº“ï¼‰</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/frzi/Model3DView">frzi&#x2F;Model3DView</a></em><br>æ¯«ä¸è´¹åŠ›çš„ä½¿ç”¨ SwiftUI æ¸²æŸ“ 3d models<br>Starï¼š49 Issueï¼š0 å¼€å‘è¯­è¨€ï¼šSwift<br>Render 3d models with SwiftUI effortlessly</p>
<h3 id="éŸ³è§†é¢‘"><a href="#éŸ³è§†é¢‘" class="headerlink" title="éŸ³è§†é¢‘"></a>éŸ³è§†é¢‘</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/iina/iina">iina&#x2F;iina</a></em><br>Starï¼š30443 Issueï¼š1348 å¼€å‘è¯­è¨€ï¼šSwift<br>The modern video player for macOS.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/shogo4405/HaishinKit.swift">shogo4405&#x2F;HaishinKit.swift</a></em><br>RTMP, HLS<br>Starï¼š2319 Issueï¼š12 å¼€å‘è¯­è¨€ï¼šSwift<br>Camera and Microphone streaming library via RTMP, HLS for iOS, macOS and tvOS.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/AudioKit/AudioKit">AudioKit&#x2F;AudioKit</a></em><br>Starï¼š9194 Issueï¼š2 å¼€å‘è¯­è¨€ï¼šSwift<br>Swift audio synthesis, processing, &amp; analysis platform for iOS, macOS and tvOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/josejuanqm/VersaPlayer">josejuanqm&#x2F;VersaPlayer</a></em><br>Starï¼š698 Issueï¼š3 å¼€å‘è¯­è¨€ï¼šSwift<br>Versatile Video Player implementation for iOS, macOS, and tvOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/bilibili/ijkplayer">bilibili&#x2F;ijkplayer</a></em><br>bilibili æ’­æ”¾å™¨<br>Starï¼š30489 Issueï¼š2748 å¼€å‘è¯­è¨€ï¼šC<br>Android&#x2F;iOS video player based on FFmpeg n3.4, with MediaCodec, VideoToolbox support.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/mpv-player/mpv">mpv-player&#x2F;mpv</a></em><br>å‘½ä»¤è¡Œè§†é¢‘æ’­æ”¾å™¨<br>Starï¼š19139 Issueï¼š867 å¼€å‘è¯­è¨€ï¼šC<br>ğŸ¥ Command line video player</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/analogcode/Swift-Radio-Pro">analogcode&#x2F;Swift-Radio-Pro</a></em><br>å¹¿æ’­ç”µå°<br>Starï¼š2679 Issueï¼š13 å¼€å‘è¯­è¨€ï¼šSwift<br>Professional Radio Station App for iOS!</p>
<h3 id="å®‰å…¨-2"><a href="#å®‰å…¨-2" class="headerlink" title="å®‰å…¨"></a>å®‰å…¨</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/krzyzanowskim/CryptoSwift">krzyzanowskim&#x2F;CryptoSwift</a></em><br>Starï¼š9121 Issueï¼š40 å¼€å‘è¯­è¨€ï¼šSwift<br>CryptoSwift is a growing collection of standard and secure cryptographic algorithms implemented in Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/rockbruno/SwiftInfo">rockbruno&#x2F;SwiftInfo</a></em><br>æå–å’Œåˆ†æä¸€ä¸ªiOSåº”ç”¨<br>Starï¼š1094 Issueï¼š20 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸ“Š Extract and analyze the evolution of an iOS appâ€™s code.</p>
<h3 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/Kitura/swift-html-entities">Kitura&#x2F;swift-html-entities</a></em><br>HTML5 è§„èŒƒå­—ç¬¦ç¼–ç &#x2F;è§£ç å™¨<br>Starï¼š145 Issueï¼š5 å¼€å‘è¯­è¨€ï¼šSwift<br>HTML5 spec-compliant character encoder&#x2F;decoder for Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/TokamakUI/Tokamak">TokamakUI&#x2F;Tokamak</a></em><br>SwiftUI å…¼å®¹ï¼ŒWebAssembly æ„å»º HTML<br>Starï¼š1732 Issueï¼š99 å¼€å‘è¯­è¨€ï¼šSwift<br>SwiftUI-compatible framework for building browser apps with WebAssembly and native apps for other platforms</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/johnsundell/publish">johnsundell&#x2F;publish</a></em><br>ç”¨ swift æ¥å†™ç½‘ç«™<br>Starï¼š4050 Issueï¼š29 å¼€å‘è¯­è¨€ï¼šSwift<br>A static site generator for Swift developers</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/highlightjs/highlight.js">highlightjs&#x2F;highlight.js</a></em><br>è¯­æ³•é«˜äº®<br>Starï¼š20128 Issueï¼š64 å¼€å‘è¯­è¨€ï¼šJavaScript<br>JavaScript syntax highlighter with language auto-detection and zero dependencies.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/sivan/heti">sivan&#x2F;heti</a></em><br>èµ«è¹ï¼ˆhÃ¨tÃ­ï¼‰ä¸­æ–‡æ’ç‰ˆ<br>Starï¼š4864 Issueï¼š17 å¼€å‘è¯­è¨€ï¼šSCSS<br>èµ«è¹ï¼ˆhÃ¨tÃ­ï¼‰æ˜¯ä¸“ä¸ºä¸­æ–‡å†…å®¹å±•ç¤ºè®¾è®¡çš„æ’ç‰ˆæ ·å¼å¢å¼ºã€‚å®ƒåŸºäºé€šè¡Œçš„ä¸­æ–‡æ’ç‰ˆè§„èŒƒè€Œæ¥ï¼Œå¯ä»¥ä¸ºç½‘ç«™çš„è¯»è€…å¸¦æ¥æ›´å¥½çš„æ–‡ç« é˜…è¯»ä½“éªŒã€‚</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/kevquirk/simple.css">kevquirk&#x2F;simple.css</a></em><br>ç®€å•å¤§æ–¹åŸºç¡€ CSS æ ·å¼<br>Starï¼š2619 Issueï¼š5 å¼€å‘è¯­è¨€ï¼šCSS<br>Simple.css is a classless CSS template that allows you to make a good looking website really quickly.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/mozilla-mobile/firefox-ios">mozilla-mobile&#x2F;firefox-ios</a></em><br>Starï¼š10907 Issueï¼š1062 å¼€å‘è¯­è¨€ï¼šSwift<br>Firefox for iOS</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/liviuschera/noctis">liviuschera&#x2F;noctis</a></em><br>å¥½çœ‹çš„ä»£ç ç¼–è¾‘å™¨é…è‰²ä¸»é¢˜<br>Starï¼š388 Issueï¼š19 å¼€å‘è¯­è¨€ï¼šJavaScript<br>Noctis is a collection of light &amp; dark themes with a well balanced blend of warm and cold colors</p>
<h3 id="æœåŠ¡å™¨"><a href="#æœåŠ¡å™¨" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/vapor/vapor">vapor&#x2F;vapor</a></em><br>Starï¼š21853 Issueï¼š86 å¼€å‘è¯­è¨€ï¼šSwift<br>ğŸ’§ A server-side Swift HTTP web framework.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Lakr233/Rayon">Lakr233&#x2F;Rayon</a></em><br>SSH æœºå™¨ç®¡ç†ï¼ŒSwift ç¼–å†™<br>Starï¼š2190 Issueï¼š21 å¼€å‘è¯­è¨€ï¼šSwift<br>yet another SSH machine manager</p>
<h3 id="ç³»ç»Ÿ"><a href="#ç³»ç»Ÿ" class="headerlink" title="ç³»ç»Ÿ"></a>ç³»ç»Ÿ</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/spevans/swift-project1">spevans&#x2F;swift-project1</a></em><br>Swiftç¼–å†™å†…æ ¸ï¼Œå¯åœ¨ Mac å’Œ PC å¯åŠ¨<br>Starï¼š243 Issueï¼š1 å¼€å‘è¯­è¨€ï¼šSwift<br>A minimal bare metal kernel in Swift</p>
<h3 id="Web-3-0"><a href="#Web-3-0" class="headerlink" title="Web 3.0"></a>Web 3.0</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/chaozh/awesome-blockchain-cn">chaozh&#x2F;awesome-blockchain-cn</a></em><br>åŒºå—é“¾ awesome<br>Starï¼š16629 Issueï¼š15 å¼€å‘è¯­è¨€ï¼šJavaScript<br>æ”¶é›†æ‰€æœ‰åŒºå—é“¾(BlockChain)æŠ€æœ¯å¼€å‘ç›¸å…³èµ„æ–™ï¼ŒåŒ…æ‹¬Fabricå’ŒEthereumå¼€å‘èµ„æ–™</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/argentlabs/web3.swift">argentlabs&#x2F;web3.swift</a></em><br>ä»¥å¤ªåŠ Swift APIï¼Œæ”¯æŒæ™ºèƒ½åˆçº¦ã€ENS å’Œ ERC20<br>Starï¼š439 Issueï¼š14 å¼€å‘è¯­è¨€ï¼šSwift<br>Ethereum Swift API with support for smart contracts, ENS &amp; ERC20</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/chainfeeds/RSSAggregatorforWeb3">chainfeeds&#x2F;RSSAggregatorforWeb3</a></em><br>web3 çš„ rss feed è®¢é˜…æº<br>Starï¼š1502 Issueï¼š4 å¼€å‘è¯­è¨€ï¼šPython<br>Bootstrapping your personal Web3 info hub from more than 500 RSS Feeds.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/Planetable/Planet">Planetable&#x2F;Planet</a></em><br>ç”± IPFS å’Œä»¥å¤ªåŠåç§°ç³»ç»Ÿæä¾›æ”¯æŒçš„å»ä¸­å¿ƒåŒ–åšå®¢å’Œç½‘ç«™<br>Starï¼š531 Issueï¼š13 å¼€å‘è¯­è¨€ï¼šSwift<br>Decentralized blogs and websites powered by IPFS and Ethereum Name System</p>
<h3 id="Apple"><a href="#Apple" class="headerlink" title="Apple"></a>Apple</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift">apple&#x2F;swift</a></em><br>Starï¼š59937 Issueï¼š6020 å¼€å‘è¯­è¨€ï¼šC++<br>The Swift Programming Language</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift-evolution">apple&#x2F;swift-evolution</a></em><br>ææ¡ˆ<br>Starï¼š13440 Issueï¼š42 å¼€å‘è¯­è¨€ï¼šMarkdown<br>This maintains proposals for changes and user-visible enhancements to the Swift Programming Language.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift-corelibs-foundation">apple&#x2F;swift-corelibs-foundation</a></em><br>Starï¼š4624 Issueï¼š607 å¼€å‘è¯­è¨€ï¼šSwift<br>The Foundation Project, providing core utilities, internationalization, and OS independence</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift-package-manager">apple&#x2F;swift-package-manager</a></em><br>Starï¼š8819 Issueï¼š513 å¼€å‘è¯­è¨€ï¼šSwift<br>The Package Manager for the Swift Programming Language</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift-markdown">apple&#x2F;swift-markdown</a></em><br>Starï¼š1840 Issueï¼š17 å¼€å‘è¯­è¨€ï¼šSwift<br>A Swift package for parsing, building, editing, and analyzing Markdown documents.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/sourcekit-lsp">apple&#x2F;sourcekit-lsp</a></em><br>Starï¼š2599 Issueï¼š32 å¼€å‘è¯­è¨€ï¼šSwift<br>Language Server Protocol implementation for Swift and C-based languages</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift-nio">apple&#x2F;swift-nio</a></em><br>Starï¼š7023 Issueï¼š170 å¼€å‘è¯­è¨€ï¼šSwift<br>Event-driven network application framework for high performance protocol servers &amp; clients, non-blocking.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift-syntax">apple&#x2F;swift-syntax</a></em><br>è§£æã€ç”Ÿæˆã€è½¬æ¢ Swift ä»£ç <br>Starï¼š1842 Issueï¼š24 å¼€å‘è¯­è¨€ï¼šSwift<br>SwiftPM package for SwiftSyntax library.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift-crypto">apple&#x2F;swift-crypto</a></em><br>CryptoKit çš„å¼€æºå®ç°<br>Starï¼š1208 Issueï¼š10 å¼€å‘è¯­è¨€ï¼šC<br>Open-source implementation of a substantial portion of the API of Apple CryptoKit suitable for use on Linux platforms.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift-driver">apple&#x2F;swift-driver</a></em><br>ç”¨ Swift è¯­è¨€é‡æ–°å®ç°çš„ç¼–è¯‘å™¨çš„é©±åŠ¨ç¨‹åºåº“<br>Starï¼š629 Issueï¼š25 å¼€å‘è¯­è¨€ï¼šSwift<br>Swift compiler driver reimplementation in Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift-numerics">apple&#x2F;swift-numerics</a></em><br>ç”¨ç®€å•çš„æ–¹å¼ç”¨æµ®ç‚¹å‹è¿›è¡Œæ•°å€¼è®¡ç®—<br>Starï¼š1405 Issueï¼š45 å¼€å‘è¯­è¨€ï¼šSwift<br>Advanced mathematical types and functions for Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift-atomics">apple&#x2F;swift-atomics</a></em><br>Swift çš„ä½çº§åŸå­æ“ä½œ<br>Starï¼š763 Issueï¼š11 å¼€å‘è¯­è¨€ï¼šSwift<br>Low-level atomic operations for Swift</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/apple/swift-async-algorithms">apple&#x2F;swift-async-algorithms</a></em><br>Combine çš„å®˜æ–¹å¼€æºæ›¿ä»£<br>Starï¼š1546 Issueï¼š21 å¼€å‘è¯­è¨€ï¼šSwift<br>Async Algorithms for Swift</p>
<h3 id="è®¡ç®—æœºç§‘å­¦"><a href="#è®¡ç®—æœºç§‘å­¦" class="headerlink" title="è®¡ç®—æœºç§‘å­¦"></a>è®¡ç®—æœºç§‘å­¦</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/raywenderlich/swift-algorithm-club">raywenderlich&#x2F;swift-algorithm-club</a></em><br>Starï¼š26593 Issueï¼š55 å¼€å‘è¯­è¨€ï¼šSwift<br>Algorithms and data structures in Swift, with explanations!</p>
<h3 id="æ‰©å±•çŸ¥è¯†"><a href="#æ‰©å±•çŸ¥è¯†" class="headerlink" title="æ‰©å±•çŸ¥è¯†"></a>æ‰©å±•çŸ¥è¯†</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/trimstray/the-book-of-secret-knowledge">trimstray&#x2F;the-book-of-secret-knowledge</a></em><br>Starï¼š71271 Issueï¼š19 å¼€å‘è¯­è¨€ï¼š<br>A collection of inspiring lists, manuals, cheatsheets, blogs, hacks, one-liners, cli&#x2F;web tools and more.</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/rossant/awesome-math">rossant&#x2F;awesome-math</a></em><br>Starï¼š6046 Issueï¼š7 å¼€å‘è¯­è¨€ï¼šPython<br>A curated list of awesome mathematics resources</p>
<h3 id="å¾…åˆ†ç±»"><a href="#å¾…åˆ†ç±»" class="headerlink" title="å¾…åˆ†ç±»"></a>å¾…åˆ†ç±»</h3><p><em><a target="_blank" rel="noopener" href="https://github.com/krzysztofzablocki/KZFileWatchers">krzysztofzablocki&#x2F;KZFileWatchers</a></em><br>Swiftç¼–å†™çš„è§‚å¯Ÿæœ¬åœ°æˆ–è€…ç½‘ç»œä¸Šï¼Œæ¯”å¦‚ç½‘ç›˜å’ŒFTPçš„æ–‡ä»¶å˜åŒ–<br>Starï¼š1029 Issueï¼š2 å¼€å‘è¯­è¨€ï¼šSwift<br>A micro-framework for observing file changes, both local and remote. Helpful in building developer tools.</p>
<h2 id="åšå®¢å’Œèµ„è®¯"><a href="#åšå®¢å’Œèµ„è®¯" class="headerlink" title="åšå®¢å’Œèµ„è®¯"></a>åšå®¢å’Œèµ„è®¯</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.swift.org/">Swift.org</a>ï¼šSwift å®˜æ–¹åšå®¢</li>
<li><a target="_blank" rel="noopener" href="https://github.com/SwiftOldDriver/iOS-Weekly/releases">Release notes from iOS-Weekly</a>ï¼šè€å¸æœº iOS å‘¨æŠ¥</li>
<li><a target="_blank" rel="noopener" href="https://zhangferry.com/">iOSæ‘¸é±¼å‘¨æŠ¥</a>ï¼šiOS æ‘¸é±¼å‘¨æŠ¥</li>
<li><a target="_blank" rel="noopener" href="https://mjtsai.com/blog">Michael Tsai</a>ï¼šä¸€å macOS å¼€å‘è€…çš„åšå®¢</li>
<li><a target="_blank" rel="noopener" href="https://sspai.com/">å°‘æ•°æ´¾</a>ï¼šå°‘æ•°æ´¾è‡´åŠ›äºæ›´å¥½åœ°è¿ç”¨æ•°å­—äº§å“æˆ–ç§‘å­¦æ–¹æ³•ï¼Œå¸®åŠ©ç”¨æˆ·æå‡å·¥ä½œæ•ˆç‡å’Œç”Ÿæ´»å“è´¨</li>
<li><a target="_blank" rel="noopener" href="https://onevcat.com/">OneVâ€™s Den</a>ï¼šä¸Šå–„è‹¥æ°´ï¼Œäººæ·¡å¦‚èŠã€‚è¿™é‡Œæ˜¯ç‹å· (onevcat) çš„åšå®¢ï¼Œç”¨æ¥è®°å½•ä¸€äº›æŠ€æœ¯å’Œæƒ³æ³•ï¼Œä¸»è¦ä¸“æ³¨äº Swift å’Œ iOS å¼€å‘ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://www.avanderlee.com/">SwiftLee</a>ï¼šA weekly blog about Swift, iOS and Xcode Tips and Tricks</li>
<li><a target="_blank" rel="noopener" href="https://swiftwithmajid.com/">Swift with Majid</a>ï¼šMajidâ€™s blog about Swift development</li>
<li><a target="_blank" rel="noopener" href="https://www.fatbobman.com/">è‚˜å­çš„Swiftè®°äº‹æœ¬</a></li>
<li><a href="https://ming1016.github.io/">æˆ´é“­çš„åšå®¢ - æ˜Ÿå…‰ç¤¾</a>ï¼šä¸€ä¸ªäººèµ°å¾—å¿«ï¼Œä¸€ç¾¤äººèµ°çš„è¿œ</li>
<li><a target="_blank" rel="noopener" href="https://www.swiftbysundell.com/">Swift by Sundell</a>ï¼šWeekly Swift articles, podcasts and tips by John Sundell</li>
<li><a target="_blank" rel="noopener" href="https://www.fivestars.blog/">FIVE STARS</a>ï¼šExploring iOS, SwiftUI &amp; much more.</li>
<li><a target="_blank" rel="noopener" href="http://weekly.swiftwithmajid.com/">SwiftUI Weekly</a>ï¼šThe curated collection of links about SwiftUI. Delivered every Monday.</li>
<li><a target="_blank" rel="noopener" href="https://www.getrevue.co/profile/peterfriese">Not Only Swift Weekly</a>ï¼šXcode tips &amp; tricks, Swift, SwiftUI, Combine, Firebase, computing and internet history, and - of course - some fun stuff.</li>
<li><a target="_blank" rel="noopener" href="https://swiftlyrush.curated.co/issues">SwiftlyRush Weekly</a>ï¼šSwiftlyRush Weekly is a weekly curated publication full of interesting, relevant links, alongside industry news and updates. Subscribe now and never miss an issue.</li>
<li><a target="_blank" rel="noopener" href="https://iosdevweekly.com/issues">iOS Dev Weekly</a>ï¼šSubscribe to a hand-picked round-up of the best iOS development links every week. Curated by Dave Verwer and published every Friday. Free.</li>
<li><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/">é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</a>ï¼šRuan YiFengâ€™s Blog ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠ</li>
<li><a target="_blank" rel="noopener" href="https://theswiftdev.com/">The.Swift.Dev.</a>ï¼šWeekly Swift articles</li>
<li><a target="_blank" rel="noopener" href="https://www.ifanr.com/">çˆ±èŒƒå„¿</a>ï¼šè®©æœªæ¥è§¦æ‰‹å¯åŠ</li>
<li><a target="_blank" rel="noopener" href="https://www.gcores.com/">æœºæ ¸</a>ï¼šä¸æ­¢æ˜¯æ¸¸æˆ</li>
</ul>

  </div>
  <div>
  
  <div class="post-note note-warning copyright" style="margin-top: 42px">
    <p><span style="font-weight: bold;">ä½œè€…ï¼š</span><a target="_blank" rel="nofollow noopener noreferrer" href="http://ming1016.github.io/about">æˆ´é“­</a></p>
    <p><span style="font-weight: bold;">æ–‡ç« é“¾æ¥ï¼š</span><a target="_blank" rel="nofollow noopener noreferrer" href="http://ming1016.github.io/2021/11/23/daiming-swift-pamphlet/">http://ming1016.github.io/2021/11/23/daiming-swift-pamphlet/</a></p>
    <p><span style="font-weight: bold;">ç‰ˆæƒå£°æ˜ï¼š</span>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0 åè®®</a>ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
  </div>
  
  </div>
</article>
<div class="nav">
  
  <div class="nav-item-prev">
    <a href="/2022/01/03/develop-macos-with-swiftui-combine-concurrency-aysnc-await-actor/" class="nav-link">
      <i class="iconfont icon-left nav-prev-icon"></i>
      <div>
        <div class="nav-label">Prev</div>
        
        <div class="nav-title">å¦‚ä½•ç”¨ SwiftUI + Combine + Swift Concurrency Aysnc/Await Actor æ¬¢ç•…å¼€å‘ </div>
        
      </div>
    </a>
  </div>
  
  
  <div class="nav-item-next">
    <a href="/2021/07/24/my-little-idea-about-writing-technical-article/" class="nav-link">
      <div>
        <div class="nav-label">Next</div>
        
        <div class="nav-title">æˆ‘å†™æŠ€æœ¯æ–‡ç« çš„ä¸€ç‚¹å¿ƒå¾— </div>
        
      </div>
      <i class="iconfont icon-right nav-next-icon"></i>
    </a>
  </div>
  
</div>

<div class="card card-content toc-card" id="mobiletoc">
  <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>TOC</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E8%AF%B4%E6%98%8E"><span class="toc-number">1.</span> <span class="toc-text">èƒŒæ™¯è¯´æ˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5"><span class="toc-number">2.</span> <span class="toc-text">è¯­æ³•é€ŸæŸ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">2.1.</span> <span class="toc-text">åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-let-var"><span class="toc-number">2.1.1.</span> <span class="toc-text">å˜é‡ let, var</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%8D%B0-print-%E2%80%9C%E2%80%9D"><span class="toc-number">2.1.2.</span> <span class="toc-text">æ‰“å° print(â€œâ€)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A-x2F-x2F"><span class="toc-number">2.1.3.</span> <span class="toc-text">æ³¨é‡Š &#x2F;&#x2F;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%80%89"><span class="toc-number">2.1.4.</span> <span class="toc-text">å¯é€‰ ?, !</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">2.1.5.</span> <span class="toc-text">é—­åŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-func"><span class="toc-number">2.1.6.</span> <span class="toc-text">å‡½æ•° func</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">2.1.7.</span> <span class="toc-text">è®¿é—®æ§åˆ¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.</span> <span class="toc-text">åŸºç¡€ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97-Int-Float"><span class="toc-number">2.2.1.</span> <span class="toc-text">æ•°å­— Int, Float</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E6%95%B0-Bool"><span class="toc-number">2.2.2.</span> <span class="toc-text">å¸ƒå°”æ•° Bool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84-a-b-c"><span class="toc-number">2.2.3.</span> <span class="toc-text">å…ƒç»„ (a, b, c)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">2.2.4.</span> <span class="toc-text">å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-number">2.2.5.</span> <span class="toc-text">æšä¸¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number">2.2.6.</span> <span class="toc-text">æ³›å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E9%80%8F%E6%98%8E%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.7.</span> <span class="toc-text">ä¸é€æ˜ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Result"><span class="toc-number">2.2.8.</span> <span class="toc-text">Result</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.2.9.</span> <span class="toc-text">ç±»å‹è½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">2.3.</span> <span class="toc-text">ç±»å’Œç»“æ„ä½“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB"><span class="toc-number">2.3.1.</span> <span class="toc-text">ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">2.3.2.</span> <span class="toc-text">ç»“æ„ä½“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-number">2.3.3.</span> <span class="toc-text">å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.4.</span> <span class="toc-text">æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">2.3.5.</span> <span class="toc-text">ç»§æ‰¿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F"><span class="toc-number">2.4.</span> <span class="toc-text">å‡½æ•°å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#map"><span class="toc-number">2.4.1.</span> <span class="toc-text">map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#filter"><span class="toc-number">2.4.2.</span> <span class="toc-text">filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduce"><span class="toc-number">2.4.3.</span> <span class="toc-text">reduce</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sorted"><span class="toc-number">2.4.4.</span> <span class="toc-text">sorted</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81"><span class="toc-number">2.5.</span> <span class="toc-text">æ§åˆ¶æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#If-%E2%80%A2-If-let-%E2%80%A2-If-case-let"><span class="toc-number">2.5.1.</span> <span class="toc-text">If â€¢ If let â€¢ If case let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Guard-guard-guard-let"><span class="toc-number">2.5.2.</span> <span class="toc-text">Guard guard, guard let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86-For-in"><span class="toc-number">2.5.3.</span> <span class="toc-text">éå† For-in</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#While-while-repeat-while"><span class="toc-number">2.5.4.</span> <span class="toc-text">While while, repeat-while</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Switch"><span class="toc-number">2.5.5.</span> <span class="toc-text">Switch</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number">2.6.</span> <span class="toc-text">é›†åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-1-2-3"><span class="toc-number">2.6.1.</span> <span class="toc-text">æ•°ç»„ [1, 2, 3]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Sets-Set-lt-Int-gt"><span class="toc-number">2.6.2.</span> <span class="toc-text">Sets Set&lt;Int&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%85%B8"><span class="toc-number">2.6.3.</span> <span class="toc-text">å­—å…¸ [:]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">2.7.</span> <span class="toc-text">æ“ä½œç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC-x3D-x3D-x3D-x3D-x2F-x3D"><span class="toc-number">2.7.1.</span> <span class="toc-text">èµ‹å€¼ &#x3D;, +&#x3D;. -&#x3D;, *&#x3D;, &#x2F;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E7%AC%A6-x2F"><span class="toc-number">2.7.2.</span> <span class="toc-text">è®¡ç®—ç¬¦ +, -, *, &#x2F;, %</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6-x3D-x3D-gt"><span class="toc-number">2.7.3.</span> <span class="toc-text">æ¯”è¾ƒè¿ç®—ç¬¦ &#x3D;&#x3D;, &gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%85%83"><span class="toc-number">2.7.4.</span> <span class="toc-text">ä¸‰å…ƒ _ ? _ : _</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Nil-coalescing"><span class="toc-number">2.7.5.</span> <span class="toc-text">Nil-coalescing ??</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E5%9B%B4-a%E2%80%A6b"><span class="toc-number">2.7.6.</span> <span class="toc-text">èŒƒå›´ aâ€¦b</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91-amp-amp"><span class="toc-number">2.7.7.</span> <span class="toc-text">é€»è¾‘ !, &amp;&amp;, ||</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%81%92%E7%AD%89-x3D-x3D-x3D-x3D-x3D"><span class="toc-number">2.7.8.</span> <span class="toc-text">æ’ç­‰ &#x3D;&#x3D;&#x3D;, !&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.7.9.</span> <span class="toc-text">è¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%BA%93"><span class="toc-number">2.8.</span> <span class="toc-text">åŸºç¡€åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4"><span class="toc-number">2.8.1.</span> <span class="toc-text">æ—¶é—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">2.8.2.</span> <span class="toc-text">æ ¼å¼åŒ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%A6%E9%87%8F%E5%80%BC"><span class="toc-number">2.8.3.</span> <span class="toc-text">åº¦é‡å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data"><span class="toc-number">2.8.4.</span> <span class="toc-text">Data</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6"><span class="toc-number">2.8.5.</span> <span class="toc-text">æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scanner"><span class="toc-number">2.8.6.</span> <span class="toc-text">Scanner</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AttributeString"><span class="toc-number">2.8.7.</span> <span class="toc-text">AttributeString</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA"><span class="toc-number">2.8.8.</span> <span class="toc-text">éšæœº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UserDefaults"><span class="toc-number">2.8.9.</span> <span class="toc-text">UserDefaults</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.9.</span> <span class="toc-text">æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B"><span class="toc-number">2.9.1.</span> <span class="toc-text">å•ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%8A%E8%AE%BE%E5%A4%87"><span class="toc-number">2.10.</span> <span class="toc-text">ç³»ç»ŸåŠè®¾å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%88%A4%E6%96%AD"><span class="toc-number">2.10.1.</span> <span class="toc-text">ç³»ç»Ÿåˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E5%85%BC%E5%AE%B9"><span class="toc-number">2.10.2.</span> <span class="toc-text">ç‰ˆæœ¬å…¼å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#canImport-%E5%88%A4%E6%96%AD%E5%BA%93%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BD%BF%E7%94%A8"><span class="toc-number">2.10.3.</span> <span class="toc-text">canImport åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#targetEnvironment-%E7%8E%AF%E5%A2%83%E7%9A%84%E5%88%A4%E6%96%AD"><span class="toc-number">2.10.4.</span> <span class="toc-text">targetEnvironment ç¯å¢ƒçš„åˆ¤æ–­</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%B1%9E%E6%80%A7%E5%8C%85%E8%A3%85"><span class="toc-number">2.11.</span> <span class="toc-text">è‡ªå¸¦å±æ€§åŒ…è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#resultBuilder"><span class="toc-number">2.11.1.</span> <span class="toc-text">@resultBuilder</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicMemberLookup-%E5%8A%A8%E6%80%81%E6%88%90%E5%91%98%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.11.2.</span> <span class="toc-text">@dynamicMemberLookup åŠ¨æ€æˆå‘˜æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicCallable-%E5%8A%A8%E6%80%81%E5%8F%AF%E8%B0%83%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.11.3.</span> <span class="toc-text">@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.12.</span> <span class="toc-text">è‡ªå¸¦åè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Hashable"><span class="toc-number">2.12.1.</span> <span class="toc-text">Hashable</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Codable"><span class="toc-number">2.13.</span> <span class="toc-text">Codable</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON-%E6%B2%A1%E6%9C%89-id-%E5%AD%97%E6%AE%B5"><span class="toc-number">2.13.1.</span> <span class="toc-text">JSON æ²¡æœ‰ id å­—æ®µ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C"><span class="toc-number">2.14.</span> <span class="toc-text">ç½‘ç»œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E6%A3%80%E6%9F%A5"><span class="toc-number">2.14.1.</span> <span class="toc-text">ç½‘ç»œçŠ¶æ€æ£€æŸ¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB"><span class="toc-number">2.15.</span> <span class="toc-text">åŠ¨ç”»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E5%8A%A8%E7%94%BB"><span class="toc-number">2.15.1.</span> <span class="toc-text">å¸ƒå±€åŠ¨ç”»</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8"><span class="toc-number">2.16.</span> <span class="toc-text">å®‰å…¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Keychain"><span class="toc-number">2.16.1.</span> <span class="toc-text">Keychain</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E7%A8%8B"><span class="toc-number">2.17.</span> <span class="toc-text">å·¥ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3%E7%82%B9"><span class="toc-number">2.17.1.</span> <span class="toc-text">ç¨‹åºå…¥å£ç‚¹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%93%E9%A2%98"><span class="toc-number">3.</span> <span class="toc-text">ä¸“é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift-%E9%82%A3%E4%BA%9B%E4%BA%8B"><span class="toc-number">3.1.</span> <span class="toc-text">Swift é‚£äº›äº‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5-1"><span class="toc-number">4.</span> <span class="toc-text">è¯­æ³•é€ŸæŸ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80-1"><span class="toc-number">4.1.</span> <span class="toc-text">åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-let-var-1"><span class="toc-number">4.1.1.</span> <span class="toc-text">å˜é‡ let, var</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%8D%B0-print-%E2%80%9C%E2%80%9D-1"><span class="toc-number">4.1.2.</span> <span class="toc-text">æ‰“å° print(â€œâ€)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A-x2F-x2F-1"><span class="toc-number">4.1.3.</span> <span class="toc-text">æ³¨é‡Š &#x2F;&#x2F;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%80%89-1"><span class="toc-number">4.1.4.</span> <span class="toc-text">å¯é€‰ ?, !</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AD%E5%8C%85-1"><span class="toc-number">4.1.5.</span> <span class="toc-text">é—­åŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-func-1"><span class="toc-number">4.1.6.</span> <span class="toc-text">å‡½æ•° func</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6-1"><span class="toc-number">4.1.7.</span> <span class="toc-text">è®¿é—®æ§åˆ¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Regex"><span class="toc-number">4.1.8.</span> <span class="toc-text">Regex</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">4.2.</span> <span class="toc-text">åŸºç¡€ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97-Int-Float-1"><span class="toc-number">4.2.1.</span> <span class="toc-text">æ•°å­— Int, Float</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E6%95%B0-Bool-1"><span class="toc-number">4.2.2.</span> <span class="toc-text">å¸ƒå°”æ•° Bool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84-a-b-c-1"><span class="toc-number">4.2.3.</span> <span class="toc-text">å…ƒç»„ (a, b, c)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2-1"><span class="toc-number">4.2.4.</span> <span class="toc-text">å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE-1"><span class="toc-number">4.2.5.</span> <span class="toc-text">æšä¸¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E5%92%8C%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.2.6.</span> <span class="toc-text">æ³›å‹å’Œåè®®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E9%80%8F%E6%98%8E%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">4.2.7.</span> <span class="toc-text">ä¸é€æ˜ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Result-1"><span class="toc-number">4.2.8.</span> <span class="toc-text">Result</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-1"><span class="toc-number">4.2.9.</span> <span class="toc-text">ç±»å‹è½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93-1"><span class="toc-number">4.3.</span> <span class="toc-text">ç±»å’Œç»“æ„ä½“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB-1"><span class="toc-number">4.3.1.</span> <span class="toc-text">ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93-1"><span class="toc-number">4.3.2.</span> <span class="toc-text">ç»“æ„ä½“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-1"><span class="toc-number">4.3.3.</span> <span class="toc-text">å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-1"><span class="toc-number">4.3.4.</span> <span class="toc-text">æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF-1"><span class="toc-number">4.3.5.</span> <span class="toc-text">ç»§æ‰¿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F-1"><span class="toc-number">4.4.</span> <span class="toc-text">å‡½æ•°å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#map-1"><span class="toc-number">4.4.1.</span> <span class="toc-text">map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#filter-1"><span class="toc-number">4.4.2.</span> <span class="toc-text">filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduce-1"><span class="toc-number">4.4.3.</span> <span class="toc-text">reduce</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sorted-1"><span class="toc-number">4.4.4.</span> <span class="toc-text">sorted</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81-1"><span class="toc-number">4.5.</span> <span class="toc-text">æ§åˆ¶æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#If-%E2%80%A2-If-let-%E2%80%A2-If-case-let-1"><span class="toc-number">4.5.1.</span> <span class="toc-text">If â€¢ If let â€¢ If case let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Guard-guard-guard-let-1"><span class="toc-number">4.5.2.</span> <span class="toc-text">Guard guard, guard let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86-For-in-1"><span class="toc-number">4.5.3.</span> <span class="toc-text">éå† For-in</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#While-while-repeat-while-1"><span class="toc-number">4.5.4.</span> <span class="toc-text">While while, repeat-while</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Switch-1"><span class="toc-number">4.5.5.</span> <span class="toc-text">Switch</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88-1"><span class="toc-number">4.6.</span> <span class="toc-text">é›†åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-1-2-3-1"><span class="toc-number">4.6.1.</span> <span class="toc-text">æ•°ç»„ [1, 2, 3]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Sets-Set"><span class="toc-number">4.6.2.</span> <span class="toc-text">Sets Set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-1"><span class="toc-number">4.6.3.</span> <span class="toc-text">å­—å…¸ [:]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6-1"><span class="toc-number">4.7.</span> <span class="toc-text">æ“ä½œç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC-x3D-x3D-x3D-x3D-x2F-x3D-1"><span class="toc-number">4.7.1.</span> <span class="toc-text">èµ‹å€¼ &#x3D;, +&#x3D;. -&#x3D;, *&#x3D;, &#x2F;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E7%AC%A6-x2F-1"><span class="toc-number">4.7.2.</span> <span class="toc-text">è®¡ç®—ç¬¦ +, -, *, &#x2F;, %</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6-x3D-x3D-gt-1"><span class="toc-number">4.7.3.</span> <span class="toc-text">æ¯”è¾ƒè¿ç®—ç¬¦ &#x3D;&#x3D;, &gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%85%83-1"><span class="toc-number">4.7.4.</span> <span class="toc-text">ä¸‰å…ƒ _ ? _ : _</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Nil-coalescing-1"><span class="toc-number">4.7.5.</span> <span class="toc-text">Nil-coalescing ??</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E5%9B%B4-a%E2%80%A6b-1"><span class="toc-number">4.7.6.</span> <span class="toc-text">èŒƒå›´ aâ€¦b</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91-amp-amp-1"><span class="toc-number">4.7.7.</span> <span class="toc-text">é€»è¾‘ !, &amp;&amp;, ||</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%81%92%E7%AD%89-x3D-x3D-x3D-x3D-x3D-1"><span class="toc-number">4.7.8.</span> <span class="toc-text">æ’ç­‰ &#x3D;&#x3D;&#x3D;, !&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6-1"><span class="toc-number">4.7.9.</span> <span class="toc-text">è¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%BA%93-1"><span class="toc-number">4.8.</span> <span class="toc-text">åŸºç¡€åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4-1"><span class="toc-number">4.8.1.</span> <span class="toc-text">æ—¶é—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96-1"><span class="toc-number">4.8.2.</span> <span class="toc-text">æ ¼å¼åŒ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%A6%E9%87%8F%E5%80%BC-1"><span class="toc-number">4.8.3.</span> <span class="toc-text">åº¦é‡å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-1"><span class="toc-number">4.8.4.</span> <span class="toc-text">Data</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6-1"><span class="toc-number">4.8.5.</span> <span class="toc-text">æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scanner-1"><span class="toc-number">4.8.6.</span> <span class="toc-text">Scanner</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AttributeString-1"><span class="toc-number">4.8.7.</span> <span class="toc-text">AttributeString</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA-1"><span class="toc-number">4.8.8.</span> <span class="toc-text">éšæœº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UserDefaults-1"><span class="toc-number">4.8.9.</span> <span class="toc-text">UserDefaults</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F-1"><span class="toc-number">4.9.</span> <span class="toc-text">æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B-1"><span class="toc-number">4.9.1.</span> <span class="toc-text">å•ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%8A%E8%AE%BE%E5%A4%87-1"><span class="toc-number">4.10.</span> <span class="toc-text">ç³»ç»ŸåŠè®¾å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%88%A4%E6%96%AD-1"><span class="toc-number">4.10.1.</span> <span class="toc-text">ç³»ç»Ÿåˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E5%85%BC%E5%AE%B9-1"><span class="toc-number">4.10.2.</span> <span class="toc-text">ç‰ˆæœ¬å…¼å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#canImport-%E5%88%A4%E6%96%AD%E5%BA%93%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BD%BF%E7%94%A8-1"><span class="toc-number">4.10.3.</span> <span class="toc-text">canImport åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#targetEnvironment-%E7%8E%AF%E5%A2%83%E7%9A%84%E5%88%A4%E6%96%AD-1"><span class="toc-number">4.10.4.</span> <span class="toc-text">targetEnvironment ç¯å¢ƒçš„åˆ¤æ–­</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%B1%9E%E6%80%A7%E5%8C%85%E8%A3%85-1"><span class="toc-number">4.11.</span> <span class="toc-text">è‡ªå¸¦å±æ€§åŒ…è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#resultBuilder-1"><span class="toc-number">4.11.1.</span> <span class="toc-text">@resultBuilder</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicMemberLookup-%E5%8A%A8%E6%80%81%E6%88%90%E5%91%98%E6%9F%A5%E8%AF%A2-1"><span class="toc-number">4.11.2.</span> <span class="toc-text">@dynamicMemberLookup åŠ¨æ€æˆå‘˜æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicCallable-%E5%8A%A8%E6%80%81%E5%8F%AF%E8%B0%83%E7%94%A8%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">4.11.3.</span> <span class="toc-text">@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%8D%8F%E8%AE%AE-1"><span class="toc-number">4.12.</span> <span class="toc-text">è‡ªå¸¦åè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Hashable-1"><span class="toc-number">4.12.1.</span> <span class="toc-text">Hashable</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Codable-1"><span class="toc-number">4.13.</span> <span class="toc-text">Codable</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON-%E6%B2%A1%E6%9C%89-id-%E5%AD%97%E6%AE%B5-1"><span class="toc-number">4.13.1.</span> <span class="toc-text">JSON æ²¡æœ‰ id å­—æ®µ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C-1"><span class="toc-number">4.14.</span> <span class="toc-text">ç½‘ç»œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E6%A3%80%E6%9F%A5-1"><span class="toc-number">4.14.1.</span> <span class="toc-text">ç½‘ç»œçŠ¶æ€æ£€æŸ¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB-1"><span class="toc-number">4.15.</span> <span class="toc-text">åŠ¨ç”»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E5%8A%A8%E7%94%BB-1"><span class="toc-number">4.15.1.</span> <span class="toc-text">å¸ƒå±€åŠ¨ç”»</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8-1"><span class="toc-number">4.16.</span> <span class="toc-text">å®‰å…¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Keychain-1"><span class="toc-number">4.16.1.</span> <span class="toc-text">Keychain</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E7%A8%8B-1"><span class="toc-number">4.17.</span> <span class="toc-text">å·¥ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3%E7%82%B9-1"><span class="toc-number">4.17.1.</span> <span class="toc-text">ç¨‹åºå…¥å£ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7"><span class="toc-number">4.18.</span> <span class="toc-text">å·¥å…·</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-DocC"><span class="toc-number">4.18.1.</span> <span class="toc-text">Swift-DocC</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%93%E9%A2%98-1"><span class="toc-number">5.</span> <span class="toc-text">ä¸“é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift-%E9%82%A3%E4%BA%9B%E4%BA%8B-1"><span class="toc-number">5.1.</span> <span class="toc-text">Swift é‚£äº›äº‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-%E5%90%84%E7%89%88%E6%9C%AC%E6%BC%94%E8%BF%9B"><span class="toc-number">5.1.1.</span> <span class="toc-text">Swift å„ç‰ˆæœ¬æ¼”è¿›</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-1-1"><span class="toc-number">5.1.1.1.</span> <span class="toc-text">Swift 1.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-1-2"><span class="toc-number">5.1.1.2.</span> <span class="toc-text">Swift 1.2</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-2-0"><span class="toc-number">5.1.1.3.</span> <span class="toc-text">Swift 2.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-2-1"><span class="toc-number">5.1.1.4.</span> <span class="toc-text">Swift 2.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-3-0"><span class="toc-number">5.1.1.5.</span> <span class="toc-text">Swift 3.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-3-1"><span class="toc-number">5.1.1.6.</span> <span class="toc-text">Swift 3.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-4-0"><span class="toc-number">5.1.1.7.</span> <span class="toc-text">Swift 4.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-4-1"><span class="toc-number">5.1.1.8.</span> <span class="toc-text">Swift 4.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-4-2"><span class="toc-number">5.1.1.9.</span> <span class="toc-text">Swift 4.2</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-0"><span class="toc-number">5.1.1.10.</span> <span class="toc-text">Swift 5.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-1"><span class="toc-number">5.1.1.11.</span> <span class="toc-text">Swift 5.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-2"><span class="toc-number">5.1.1.12.</span> <span class="toc-text">Swift 5.2</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-3"><span class="toc-number">5.1.1.13.</span> <span class="toc-text">Swift 5.3</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-4"><span class="toc-number">5.1.1.14.</span> <span class="toc-text">Swift 5.4</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-5"><span class="toc-number">5.1.1.15.</span> <span class="toc-text">Swift 5.5</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-6"><span class="toc-number">5.1.1.16.</span> <span class="toc-text">Swift 5.6</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-7"><span class="toc-number">5.1.1.17.</span> <span class="toc-text">Swift 5.7</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%84%E8%8C%83"><span class="toc-number">5.2.</span> <span class="toc-text">è§„èŒƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">5.2.1.</span> <span class="toc-text">æ³¨æ„äº‹é¡¹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%84%E6%96%99%E6%8E%A8%E8%8D%90"><span class="toc-number">5.3.</span> <span class="toc-text">èµ„æ–™æ¨è</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%A6%E5%8D%95"><span class="toc-number">5.3.1.</span> <span class="toc-text">ä¹¦å•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E6%96%B9%E5%BA%93%E4%BD%BF%E7%94%A8"><span class="toc-number">5.4.</span> <span class="toc-text">ä¸‰æ–¹åº“ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQLite-swift-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.4.1.</span> <span class="toc-text">SQLite.swift çš„ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#macOS"><span class="toc-number">5.5.</span> <span class="toc-text">macOS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E4%BE%8B"><span class="toc-number">5.5.1.</span> <span class="toc-text">èŒƒä¾‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E6%A0%8F%E7%BB%93%E6%9E%84"><span class="toc-number">5.5.2.</span> <span class="toc-text">ä¸‰æ ç»“æ„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%8F%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.5.3.</span> <span class="toc-text">å…¨å±æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E8%8F%9C%E5%8D%95"><span class="toc-number">5.5.4.</span> <span class="toc-text">å…±äº«èœå•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%AA%E8%B4%B4%E6%9D%BF"><span class="toc-number">5.5.5.</span> <span class="toc-text">å‰ªè´´æ¿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E5%92%8C%E6%9E%84%E5%BB%BA"><span class="toc-number">5.6.</span> <span class="toc-text">æ€§èƒ½å’Œæ„å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%83%E8%AF%95"><span class="toc-number">5.6.1.</span> <span class="toc-text">è°ƒè¯•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="toc-number">5.6.2.</span> <span class="toc-text">å†…å­˜ç®¡ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E5%99%A8"><span class="toc-number">5.6.3.</span> <span class="toc-text">é“¾æ¥å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2022%E5%B9%B4-Apple-%E6%80%A7%E8%83%BD%E6%9B%B4%E6%96%B0"><span class="toc-number">5.6.4.</span> <span class="toc-text">2022å¹´ Apple æ€§èƒ½æ›´æ–°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Combine"><span class="toc-number">6.</span> <span class="toc-text">Combine</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">6.1.</span> <span class="toc-text">ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Combine-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">6.1.1.</span> <span class="toc-text">Combine æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Combine-%E8%B5%84%E6%96%99"><span class="toc-number">6.1.2.</span> <span class="toc-text">Combine èµ„æ–™</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E"><span class="toc-number">6.2.</span> <span class="toc-text">ä½¿ç”¨è¯´æ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#publisher"><span class="toc-number">6.2.1.</span> <span class="toc-text">publisher</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Just"><span class="toc-number">6.2.2.</span> <span class="toc-text">Just</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PassthroughSubject"><span class="toc-number">6.2.3.</span> <span class="toc-text">PassthroughSubject</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Empty"><span class="toc-number">6.2.4.</span> <span class="toc-text">Empty</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CurrentValueSubject"><span class="toc-number">6.2.5.</span> <span class="toc-text">CurrentValueSubject</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#removeDuplicates"><span class="toc-number">6.2.6.</span> <span class="toc-text">removeDuplicates</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#flatMap"><span class="toc-number">6.2.7.</span> <span class="toc-text">flatMap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#append"><span class="toc-number">6.2.8.</span> <span class="toc-text">append</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#prepend"><span class="toc-number">6.2.9.</span> <span class="toc-text">prepend</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#merge"><span class="toc-number">6.2.10.</span> <span class="toc-text">merge</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zip"><span class="toc-number">6.2.11.</span> <span class="toc-text">zip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#combineLatest"><span class="toc-number">6.2.12.</span> <span class="toc-text">combineLatest</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scheduler"><span class="toc-number">6.2.13.</span> <span class="toc-text">Scheduler</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">6.3.</span> <span class="toc-text">ä½¿ç”¨åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82"><span class="toc-number">6.3.1.</span> <span class="toc-text">ç½‘ç»œè¯·æ±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KVO"><span class="toc-number">6.3.2.</span> <span class="toc-text">KVO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5"><span class="toc-number">6.3.3.</span> <span class="toc-text">é€šçŸ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Timer"><span class="toc-number">6.3.4.</span> <span class="toc-text">Timer</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Concurrency"><span class="toc-number">7.</span> <span class="toc-text">Concurrency</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-1"><span class="toc-number">7.1.</span> <span class="toc-text">ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-Concurrency-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">7.1.1.</span> <span class="toc-text">Swift Concurrency æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#async-x2F-await"><span class="toc-number">7.1.2.</span> <span class="toc-text">async&#x2F;await</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Async-Sequences"><span class="toc-number">7.1.3.</span> <span class="toc-text">Async Sequences</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%8C%96%E5%B9%B6%E5%8F%91"><span class="toc-number">7.1.4.</span> <span class="toc-text">ç»“æ„åŒ–å¹¶å‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Actors"><span class="toc-number">7.1.5.</span> <span class="toc-text">Actors</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Distributed-Actors"><span class="toc-number">7.1.6.</span> <span class="toc-text">Distributed Actors</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%8F%90%E6%A1%88"><span class="toc-number">7.1.7.</span> <span class="toc-text">ç›¸å…³ææ¡ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E8%B7%AF%E5%BE%84"><span class="toc-number">7.1.8.</span> <span class="toc-text">å­¦ä¹ è·¯å¾„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-Concurrency-%E5%92%8C-Combine"><span class="toc-number">7.1.9.</span> <span class="toc-text">Swift Concurrency å’Œ Combine</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Concurrency-5-7-%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0"><span class="toc-number">7.1.10.</span> <span class="toc-text">Concurrency 5.7 ç‰ˆæœ¬æ›´æ–°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SwiftUI"><span class="toc-number">8.</span> <span class="toc-text">SwiftUI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-2"><span class="toc-number">8.1.</span> <span class="toc-text">ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SwiftUI-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">8.1.1.</span> <span class="toc-text">SwiftUI æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SwiftUI-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">8.1.2.</span> <span class="toc-text">SwiftUI å‚è€ƒèµ„æ–™</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8"><span class="toc-number">8.2.</span> <span class="toc-text">è§†å›¾ç»„ä»¶ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SwiftUI-%E5%AF%B9%E6%A0%87%E7%9A%84-UIKit-%E8%A7%86%E5%9B%BE"><span class="toc-number">8.2.1.</span> <span class="toc-text">SwiftUI å¯¹æ ‡çš„ UIKit è§†å›¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Text"><span class="toc-number">8.2.2.</span> <span class="toc-text">Text</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Link"><span class="toc-number">8.2.3.</span> <span class="toc-text">Link</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Label"><span class="toc-number">8.2.4.</span> <span class="toc-text">Label</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TextEditor"><span class="toc-number">8.2.5.</span> <span class="toc-text">TextEditor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TextField"><span class="toc-number">8.2.6.</span> <span class="toc-text">TextField</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Button"><span class="toc-number">8.2.7.</span> <span class="toc-text">Button</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E5%BA%A6"><span class="toc-number">8.2.8.</span> <span class="toc-text">è¿›åº¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Image"><span class="toc-number">8.2.9.</span> <span class="toc-text">Image</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ControlGroup"><span class="toc-number">8.2.10.</span> <span class="toc-text">ControlGroup</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GroupBox"><span class="toc-number">8.2.11.</span> <span class="toc-text">GroupBox</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Stack"><span class="toc-number">8.2.12.</span> <span class="toc-text">Stack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Advanced-layout-control"><span class="toc-number">8.2.13.</span> <span class="toc-text">Advanced layout control</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Navigation"><span class="toc-number">8.2.14.</span> <span class="toc-text">Navigation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List"><span class="toc-number">8.2.15.</span> <span class="toc-text">List</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LazyVStack-%E5%92%8C-LazyHStack"><span class="toc-number">8.2.16.</span> <span class="toc-text">LazyVStack å’Œ LazyHStack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LazyVGrid-%E5%92%8C-LazyHGrid"><span class="toc-number">8.2.17.</span> <span class="toc-text">LazyVGrid å’Œ LazyHGrid</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#table"><span class="toc-number">8.2.18.</span> <span class="toc-text">table</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ScrollView"><span class="toc-number">8.2.19.</span> <span class="toc-text">ScrollView</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%AE%E5%B1%82"><span class="toc-number">8.2.20.</span> <span class="toc-text">æµ®å±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TabView"><span class="toc-number">8.2.21.</span> <span class="toc-text">TabView</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-Charts"><span class="toc-number">8.2.22.</span> <span class="toc-text">Swift Charts</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Toggle"><span class="toc-number">8.2.23.</span> <span class="toc-text">Toggle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Picker"><span class="toc-number">8.2.24.</span> <span class="toc-text">Picker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Slider"><span class="toc-number">8.2.25.</span> <span class="toc-text">Slider</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Stepper"><span class="toc-number">8.2.26.</span> <span class="toc-text">Stepper</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Form"><span class="toc-number">8.2.27.</span> <span class="toc-text">Form</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Keyboard"><span class="toc-number">8.2.28.</span> <span class="toc-text">Keyboard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Transferable"><span class="toc-number">8.2.29.</span> <span class="toc-text">Transferable</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ShareLink"><span class="toc-number">8.2.30.</span> <span class="toc-text">ShareLink</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E8%A7%89"><span class="toc-number">8.3.</span> <span class="toc-text">è§†è§‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Color"><span class="toc-number">8.3.1.</span> <span class="toc-text">Color</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Effect"><span class="toc-number">8.3.2.</span> <span class="toc-text">Effect</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Animation"><span class="toc-number">8.3.3.</span> <span class="toc-text">Animation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Canvas"><span class="toc-number">8.3.4.</span> <span class="toc-text">Canvas</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SF-Symbol"><span class="toc-number">8.3.5.</span> <span class="toc-text">SF Symbol</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%80%85"><span class="toc-number">9.</span> <span class="toc-text">å¼€å‘è€…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift%E5%AE%98%E6%96%B9"><span class="toc-number">9.1.</span> <span class="toc-text">Swiftå®˜æ–¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BE%E5%8C%BA"><span class="toc-number">9.2.</span> <span class="toc-text">ç¤¾åŒº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A2%E7%B4%A2%E5%BA%93"><span class="toc-number">10.</span> <span class="toc-text">æ¢ç´¢åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E9%B2%9C%E4%BA%8B"><span class="toc-number">10.1.</span> <span class="toc-text">æ–°é²œäº‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E6%98%93%E7%94%A8%E5%8A%9F%E8%83%BD"><span class="toc-number">10.2.</span> <span class="toc-text">å°è£…æ˜“ç”¨åŠŸèƒ½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SwiftUI-%E6%89%A9%E5%B1%95"><span class="toc-number">10.3.</span> <span class="toc-text">SwiftUI æ‰©å±•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87"><span class="toc-number">10.4.</span> <span class="toc-text">å›¾ç‰‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E5%AD%97%E5%A4%84%E7%90%86"><span class="toc-number">10.5.</span> <span class="toc-text">æ–‡å­—å¤„ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB-2"><span class="toc-number">10.6.</span> <span class="toc-text">åŠ¨ç”»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8"><span class="toc-number">10.7.</span> <span class="toc-text">æŒä¹…åŒ–å­˜å‚¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F"><span class="toc-number">10.8.</span> <span class="toc-text">ç¼–ç¨‹èŒƒå¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1"><span class="toc-number">10.9.</span> <span class="toc-text">è·¯ç”±</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%A3%80%E6%9F%A5"><span class="toc-number">10.10.</span> <span class="toc-text">é™æ€æ£€æŸ¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%83%BD%E5%8A%9B"><span class="toc-number">10.11.</span> <span class="toc-text">ç³»ç»Ÿèƒ½åŠ›</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-number">10.12.</span> <span class="toc-text">æ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%BA%94%E7%94%A8"><span class="toc-number">10.13.</span> <span class="toc-text">æ¥å£åº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#macOS-1"><span class="toc-number">10.14.</span> <span class="toc-text">macOS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8"><span class="toc-number">10.15.</span> <span class="toc-text">åº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F"><span class="toc-number">10.16.</span> <span class="toc-text">æ¸¸æˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E6%8A%80%E6%9C%AF%E5%B1%95%E7%A4%BA"><span class="toc-number">10.17.</span> <span class="toc-text">æ–°æŠ€æœ¯å±•ç¤º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Combine-%E6%89%A9%E5%B1%95"><span class="toc-number">10.18.</span> <span class="toc-text">Combine æ‰©å±•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%9A%E5%90%88"><span class="toc-number">10.19.</span> <span class="toc-text">èšåˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E3%80%81%E5%B7%A5%E7%A8%8B%E6%9E%84%E5%BB%BA%E5%8F%8A%E8%87%AA%E5%8A%A8%E5%8C%96"><span class="toc-number">10.20.</span> <span class="toc-text">æ€§èƒ½ã€å·¥ç¨‹æ„å»ºåŠè‡ªåŠ¨åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-number">10.21.</span> <span class="toc-text">æµ‹è¯•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C-2"><span class="toc-number">10.22.</span> <span class="toc-text">ç½‘ç»œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2"><span class="toc-number">10.23.</span> <span class="toc-text">å›¾å½¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9F%B3%E8%A7%86%E9%A2%91"><span class="toc-number">10.24.</span> <span class="toc-text">éŸ³è§†é¢‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8-2"><span class="toc-number">10.25.</span> <span class="toc-text">å®‰å…¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web"><span class="toc-number">10.26.</span> <span class="toc-text">Web</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">10.27.</span> <span class="toc-text">æœåŠ¡å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F"><span class="toc-number">10.28.</span> <span class="toc-text">ç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-3-0"><span class="toc-number">10.29.</span> <span class="toc-text">Web 3.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Apple"><span class="toc-number">10.30.</span> <span class="toc-text">Apple</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6"><span class="toc-number">10.31.</span> <span class="toc-text">è®¡ç®—æœºç§‘å­¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86"><span class="toc-number">10.32.</span> <span class="toc-text">æ‰©å±•çŸ¥è¯†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%85%E5%88%86%E7%B1%BB"><span class="toc-number">10.33.</span> <span class="toc-text">å¾…åˆ†ç±»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E5%92%8C%E8%B5%84%E8%AE%AF"><span class="toc-number">11.</span> <span class="toc-text">åšå®¢å’Œèµ„è®¯</span></a></li></ol>
</div></main>
          <aside class="left-column">
            
            <div class="card card-author">
              
<img src="/img/ming.jpeg" class="author-img">

<p class="author-name">æˆ´é“­</p>
<p class="author-description">æå®¢æ—¶é—´ã€ŠiOSå¼€å‘é«˜æ‰‹è¯¾ã€‹å’Œçº¸ä¹¦ã€Šè·Ÿæˆ´é“­å­¦iOSç¼–ç¨‹ã€‹ä½œè€…</p>
<div class="author-message">
  <a class="author-posts-count" href="/archives">
    <span>59</span>
    <span>Posts</span>
  </a>
  <a class="author-categories-count" href="/categories">
    <span>5</span>
    <span>Categories</span>
  </a>
  <a class="author-tags-count" href="/tags">
    <span>38</span>
    <span>Tags</span>
  </a>
</div>

<div class="author-card-society">
  
    <div class="author-card-society-icon">
      <a target="_blank" rel="noopener" href="https://weibo.com/allstarming">
        <i class="iconfont icon-sina society-icon"></i>
      </a>
    </div>
  
    <div class="author-card-society-icon">
      <a target="_blank" rel="noopener" href="https://github.com/ming1016">
        <i class="iconfont icon-github society-icon"></i>
      </a>
    </div>
  
    <div class="author-card-society-icon">
      <a href="mailto:ming1016@foxmail.com">
        <i class="iconfont icon-mail society-icon"></i>
      </a>
    </div>
  
    <div class="author-card-society-icon">
      <a href="/atom.xml">
        <i class="iconfont icon-chrome society-icon"></i>
      </a>
    </div>
  
</div>

            </div>
            
            <div class="sticky-tablet">
  
  
  <article class="display-when-two-columns spacer">
    <div class="card card-content toc-card">
      <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>TOC</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E8%AF%B4%E6%98%8E"><span class="toc-number">1.</span> <span class="toc-text">èƒŒæ™¯è¯´æ˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5"><span class="toc-number">2.</span> <span class="toc-text">è¯­æ³•é€ŸæŸ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">2.1.</span> <span class="toc-text">åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-let-var"><span class="toc-number">2.1.1.</span> <span class="toc-text">å˜é‡ let, var</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%8D%B0-print-%E2%80%9C%E2%80%9D"><span class="toc-number">2.1.2.</span> <span class="toc-text">æ‰“å° print(â€œâ€)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A-x2F-x2F"><span class="toc-number">2.1.3.</span> <span class="toc-text">æ³¨é‡Š &#x2F;&#x2F;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%80%89"><span class="toc-number">2.1.4.</span> <span class="toc-text">å¯é€‰ ?, !</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">2.1.5.</span> <span class="toc-text">é—­åŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-func"><span class="toc-number">2.1.6.</span> <span class="toc-text">å‡½æ•° func</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">2.1.7.</span> <span class="toc-text">è®¿é—®æ§åˆ¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.</span> <span class="toc-text">åŸºç¡€ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97-Int-Float"><span class="toc-number">2.2.1.</span> <span class="toc-text">æ•°å­— Int, Float</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E6%95%B0-Bool"><span class="toc-number">2.2.2.</span> <span class="toc-text">å¸ƒå°”æ•° Bool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84-a-b-c"><span class="toc-number">2.2.3.</span> <span class="toc-text">å…ƒç»„ (a, b, c)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">2.2.4.</span> <span class="toc-text">å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-number">2.2.5.</span> <span class="toc-text">æšä¸¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number">2.2.6.</span> <span class="toc-text">æ³›å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E9%80%8F%E6%98%8E%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.7.</span> <span class="toc-text">ä¸é€æ˜ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Result"><span class="toc-number">2.2.8.</span> <span class="toc-text">Result</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.2.9.</span> <span class="toc-text">ç±»å‹è½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">2.3.</span> <span class="toc-text">ç±»å’Œç»“æ„ä½“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB"><span class="toc-number">2.3.1.</span> <span class="toc-text">ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">2.3.2.</span> <span class="toc-text">ç»“æ„ä½“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-number">2.3.3.</span> <span class="toc-text">å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.4.</span> <span class="toc-text">æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">2.3.5.</span> <span class="toc-text">ç»§æ‰¿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F"><span class="toc-number">2.4.</span> <span class="toc-text">å‡½æ•°å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#map"><span class="toc-number">2.4.1.</span> <span class="toc-text">map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#filter"><span class="toc-number">2.4.2.</span> <span class="toc-text">filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduce"><span class="toc-number">2.4.3.</span> <span class="toc-text">reduce</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sorted"><span class="toc-number">2.4.4.</span> <span class="toc-text">sorted</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81"><span class="toc-number">2.5.</span> <span class="toc-text">æ§åˆ¶æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#If-%E2%80%A2-If-let-%E2%80%A2-If-case-let"><span class="toc-number">2.5.1.</span> <span class="toc-text">If â€¢ If let â€¢ If case let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Guard-guard-guard-let"><span class="toc-number">2.5.2.</span> <span class="toc-text">Guard guard, guard let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86-For-in"><span class="toc-number">2.5.3.</span> <span class="toc-text">éå† For-in</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#While-while-repeat-while"><span class="toc-number">2.5.4.</span> <span class="toc-text">While while, repeat-while</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Switch"><span class="toc-number">2.5.5.</span> <span class="toc-text">Switch</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number">2.6.</span> <span class="toc-text">é›†åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-1-2-3"><span class="toc-number">2.6.1.</span> <span class="toc-text">æ•°ç»„ [1, 2, 3]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Sets-Set-lt-Int-gt"><span class="toc-number">2.6.2.</span> <span class="toc-text">Sets Set&lt;Int&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%85%B8"><span class="toc-number">2.6.3.</span> <span class="toc-text">å­—å…¸ [:]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">2.7.</span> <span class="toc-text">æ“ä½œç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC-x3D-x3D-x3D-x3D-x2F-x3D"><span class="toc-number">2.7.1.</span> <span class="toc-text">èµ‹å€¼ &#x3D;, +&#x3D;. -&#x3D;, *&#x3D;, &#x2F;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E7%AC%A6-x2F"><span class="toc-number">2.7.2.</span> <span class="toc-text">è®¡ç®—ç¬¦ +, -, *, &#x2F;, %</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6-x3D-x3D-gt"><span class="toc-number">2.7.3.</span> <span class="toc-text">æ¯”è¾ƒè¿ç®—ç¬¦ &#x3D;&#x3D;, &gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%85%83"><span class="toc-number">2.7.4.</span> <span class="toc-text">ä¸‰å…ƒ _ ? _ : _</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Nil-coalescing"><span class="toc-number">2.7.5.</span> <span class="toc-text">Nil-coalescing ??</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E5%9B%B4-a%E2%80%A6b"><span class="toc-number">2.7.6.</span> <span class="toc-text">èŒƒå›´ aâ€¦b</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91-amp-amp"><span class="toc-number">2.7.7.</span> <span class="toc-text">é€»è¾‘ !, &amp;&amp;, ||</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%81%92%E7%AD%89-x3D-x3D-x3D-x3D-x3D"><span class="toc-number">2.7.8.</span> <span class="toc-text">æ’ç­‰ &#x3D;&#x3D;&#x3D;, !&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.7.9.</span> <span class="toc-text">è¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%BA%93"><span class="toc-number">2.8.</span> <span class="toc-text">åŸºç¡€åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4"><span class="toc-number">2.8.1.</span> <span class="toc-text">æ—¶é—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">2.8.2.</span> <span class="toc-text">æ ¼å¼åŒ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%A6%E9%87%8F%E5%80%BC"><span class="toc-number">2.8.3.</span> <span class="toc-text">åº¦é‡å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data"><span class="toc-number">2.8.4.</span> <span class="toc-text">Data</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6"><span class="toc-number">2.8.5.</span> <span class="toc-text">æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scanner"><span class="toc-number">2.8.6.</span> <span class="toc-text">Scanner</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AttributeString"><span class="toc-number">2.8.7.</span> <span class="toc-text">AttributeString</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA"><span class="toc-number">2.8.8.</span> <span class="toc-text">éšæœº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UserDefaults"><span class="toc-number">2.8.9.</span> <span class="toc-text">UserDefaults</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.9.</span> <span class="toc-text">æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B"><span class="toc-number">2.9.1.</span> <span class="toc-text">å•ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%8A%E8%AE%BE%E5%A4%87"><span class="toc-number">2.10.</span> <span class="toc-text">ç³»ç»ŸåŠè®¾å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%88%A4%E6%96%AD"><span class="toc-number">2.10.1.</span> <span class="toc-text">ç³»ç»Ÿåˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E5%85%BC%E5%AE%B9"><span class="toc-number">2.10.2.</span> <span class="toc-text">ç‰ˆæœ¬å…¼å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#canImport-%E5%88%A4%E6%96%AD%E5%BA%93%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BD%BF%E7%94%A8"><span class="toc-number">2.10.3.</span> <span class="toc-text">canImport åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#targetEnvironment-%E7%8E%AF%E5%A2%83%E7%9A%84%E5%88%A4%E6%96%AD"><span class="toc-number">2.10.4.</span> <span class="toc-text">targetEnvironment ç¯å¢ƒçš„åˆ¤æ–­</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%B1%9E%E6%80%A7%E5%8C%85%E8%A3%85"><span class="toc-number">2.11.</span> <span class="toc-text">è‡ªå¸¦å±æ€§åŒ…è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#resultBuilder"><span class="toc-number">2.11.1.</span> <span class="toc-text">@resultBuilder</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicMemberLookup-%E5%8A%A8%E6%80%81%E6%88%90%E5%91%98%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.11.2.</span> <span class="toc-text">@dynamicMemberLookup åŠ¨æ€æˆå‘˜æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicCallable-%E5%8A%A8%E6%80%81%E5%8F%AF%E8%B0%83%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.11.3.</span> <span class="toc-text">@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.12.</span> <span class="toc-text">è‡ªå¸¦åè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Hashable"><span class="toc-number">2.12.1.</span> <span class="toc-text">Hashable</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Codable"><span class="toc-number">2.13.</span> <span class="toc-text">Codable</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON-%E6%B2%A1%E6%9C%89-id-%E5%AD%97%E6%AE%B5"><span class="toc-number">2.13.1.</span> <span class="toc-text">JSON æ²¡æœ‰ id å­—æ®µ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C"><span class="toc-number">2.14.</span> <span class="toc-text">ç½‘ç»œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E6%A3%80%E6%9F%A5"><span class="toc-number">2.14.1.</span> <span class="toc-text">ç½‘ç»œçŠ¶æ€æ£€æŸ¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB"><span class="toc-number">2.15.</span> <span class="toc-text">åŠ¨ç”»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E5%8A%A8%E7%94%BB"><span class="toc-number">2.15.1.</span> <span class="toc-text">å¸ƒå±€åŠ¨ç”»</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8"><span class="toc-number">2.16.</span> <span class="toc-text">å®‰å…¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Keychain"><span class="toc-number">2.16.1.</span> <span class="toc-text">Keychain</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E7%A8%8B"><span class="toc-number">2.17.</span> <span class="toc-text">å·¥ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3%E7%82%B9"><span class="toc-number">2.17.1.</span> <span class="toc-text">ç¨‹åºå…¥å£ç‚¹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%93%E9%A2%98"><span class="toc-number">3.</span> <span class="toc-text">ä¸“é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift-%E9%82%A3%E4%BA%9B%E4%BA%8B"><span class="toc-number">3.1.</span> <span class="toc-text">Swift é‚£äº›äº‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5-1"><span class="toc-number">4.</span> <span class="toc-text">è¯­æ³•é€ŸæŸ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80-1"><span class="toc-number">4.1.</span> <span class="toc-text">åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-let-var-1"><span class="toc-number">4.1.1.</span> <span class="toc-text">å˜é‡ let, var</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%8D%B0-print-%E2%80%9C%E2%80%9D-1"><span class="toc-number">4.1.2.</span> <span class="toc-text">æ‰“å° print(â€œâ€)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A-x2F-x2F-1"><span class="toc-number">4.1.3.</span> <span class="toc-text">æ³¨é‡Š &#x2F;&#x2F;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%80%89-1"><span class="toc-number">4.1.4.</span> <span class="toc-text">å¯é€‰ ?, !</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AD%E5%8C%85-1"><span class="toc-number">4.1.5.</span> <span class="toc-text">é—­åŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-func-1"><span class="toc-number">4.1.6.</span> <span class="toc-text">å‡½æ•° func</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6-1"><span class="toc-number">4.1.7.</span> <span class="toc-text">è®¿é—®æ§åˆ¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Regex"><span class="toc-number">4.1.8.</span> <span class="toc-text">Regex</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">4.2.</span> <span class="toc-text">åŸºç¡€ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97-Int-Float-1"><span class="toc-number">4.2.1.</span> <span class="toc-text">æ•°å­— Int, Float</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E6%95%B0-Bool-1"><span class="toc-number">4.2.2.</span> <span class="toc-text">å¸ƒå°”æ•° Bool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84-a-b-c-1"><span class="toc-number">4.2.3.</span> <span class="toc-text">å…ƒç»„ (a, b, c)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2-1"><span class="toc-number">4.2.4.</span> <span class="toc-text">å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE-1"><span class="toc-number">4.2.5.</span> <span class="toc-text">æšä¸¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E5%92%8C%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.2.6.</span> <span class="toc-text">æ³›å‹å’Œåè®®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E9%80%8F%E6%98%8E%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">4.2.7.</span> <span class="toc-text">ä¸é€æ˜ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Result-1"><span class="toc-number">4.2.8.</span> <span class="toc-text">Result</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-1"><span class="toc-number">4.2.9.</span> <span class="toc-text">ç±»å‹è½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93-1"><span class="toc-number">4.3.</span> <span class="toc-text">ç±»å’Œç»“æ„ä½“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB-1"><span class="toc-number">4.3.1.</span> <span class="toc-text">ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93-1"><span class="toc-number">4.3.2.</span> <span class="toc-text">ç»“æ„ä½“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-1"><span class="toc-number">4.3.3.</span> <span class="toc-text">å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-1"><span class="toc-number">4.3.4.</span> <span class="toc-text">æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF-1"><span class="toc-number">4.3.5.</span> <span class="toc-text">ç»§æ‰¿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F-1"><span class="toc-number">4.4.</span> <span class="toc-text">å‡½æ•°å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#map-1"><span class="toc-number">4.4.1.</span> <span class="toc-text">map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#filter-1"><span class="toc-number">4.4.2.</span> <span class="toc-text">filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduce-1"><span class="toc-number">4.4.3.</span> <span class="toc-text">reduce</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sorted-1"><span class="toc-number">4.4.4.</span> <span class="toc-text">sorted</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81-1"><span class="toc-number">4.5.</span> <span class="toc-text">æ§åˆ¶æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#If-%E2%80%A2-If-let-%E2%80%A2-If-case-let-1"><span class="toc-number">4.5.1.</span> <span class="toc-text">If â€¢ If let â€¢ If case let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Guard-guard-guard-let-1"><span class="toc-number">4.5.2.</span> <span class="toc-text">Guard guard, guard let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86-For-in-1"><span class="toc-number">4.5.3.</span> <span class="toc-text">éå† For-in</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#While-while-repeat-while-1"><span class="toc-number">4.5.4.</span> <span class="toc-text">While while, repeat-while</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Switch-1"><span class="toc-number">4.5.5.</span> <span class="toc-text">Switch</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88-1"><span class="toc-number">4.6.</span> <span class="toc-text">é›†åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-1-2-3-1"><span class="toc-number">4.6.1.</span> <span class="toc-text">æ•°ç»„ [1, 2, 3]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Sets-Set"><span class="toc-number">4.6.2.</span> <span class="toc-text">Sets Set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-1"><span class="toc-number">4.6.3.</span> <span class="toc-text">å­—å…¸ [:]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6-1"><span class="toc-number">4.7.</span> <span class="toc-text">æ“ä½œç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC-x3D-x3D-x3D-x3D-x2F-x3D-1"><span class="toc-number">4.7.1.</span> <span class="toc-text">èµ‹å€¼ &#x3D;, +&#x3D;. -&#x3D;, *&#x3D;, &#x2F;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E7%AC%A6-x2F-1"><span class="toc-number">4.7.2.</span> <span class="toc-text">è®¡ç®—ç¬¦ +, -, *, &#x2F;, %</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6-x3D-x3D-gt-1"><span class="toc-number">4.7.3.</span> <span class="toc-text">æ¯”è¾ƒè¿ç®—ç¬¦ &#x3D;&#x3D;, &gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%85%83-1"><span class="toc-number">4.7.4.</span> <span class="toc-text">ä¸‰å…ƒ _ ? _ : _</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Nil-coalescing-1"><span class="toc-number">4.7.5.</span> <span class="toc-text">Nil-coalescing ??</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E5%9B%B4-a%E2%80%A6b-1"><span class="toc-number">4.7.6.</span> <span class="toc-text">èŒƒå›´ aâ€¦b</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91-amp-amp-1"><span class="toc-number">4.7.7.</span> <span class="toc-text">é€»è¾‘ !, &amp;&amp;, ||</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%81%92%E7%AD%89-x3D-x3D-x3D-x3D-x3D-1"><span class="toc-number">4.7.8.</span> <span class="toc-text">æ’ç­‰ &#x3D;&#x3D;&#x3D;, !&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6-1"><span class="toc-number">4.7.9.</span> <span class="toc-text">è¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%BA%93-1"><span class="toc-number">4.8.</span> <span class="toc-text">åŸºç¡€åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4-1"><span class="toc-number">4.8.1.</span> <span class="toc-text">æ—¶é—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96-1"><span class="toc-number">4.8.2.</span> <span class="toc-text">æ ¼å¼åŒ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%A6%E9%87%8F%E5%80%BC-1"><span class="toc-number">4.8.3.</span> <span class="toc-text">åº¦é‡å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-1"><span class="toc-number">4.8.4.</span> <span class="toc-text">Data</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6-1"><span class="toc-number">4.8.5.</span> <span class="toc-text">æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scanner-1"><span class="toc-number">4.8.6.</span> <span class="toc-text">Scanner</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AttributeString-1"><span class="toc-number">4.8.7.</span> <span class="toc-text">AttributeString</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA-1"><span class="toc-number">4.8.8.</span> <span class="toc-text">éšæœº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UserDefaults-1"><span class="toc-number">4.8.9.</span> <span class="toc-text">UserDefaults</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F-1"><span class="toc-number">4.9.</span> <span class="toc-text">æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B-1"><span class="toc-number">4.9.1.</span> <span class="toc-text">å•ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%8A%E8%AE%BE%E5%A4%87-1"><span class="toc-number">4.10.</span> <span class="toc-text">ç³»ç»ŸåŠè®¾å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%88%A4%E6%96%AD-1"><span class="toc-number">4.10.1.</span> <span class="toc-text">ç³»ç»Ÿåˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E5%85%BC%E5%AE%B9-1"><span class="toc-number">4.10.2.</span> <span class="toc-text">ç‰ˆæœ¬å…¼å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#canImport-%E5%88%A4%E6%96%AD%E5%BA%93%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BD%BF%E7%94%A8-1"><span class="toc-number">4.10.3.</span> <span class="toc-text">canImport åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#targetEnvironment-%E7%8E%AF%E5%A2%83%E7%9A%84%E5%88%A4%E6%96%AD-1"><span class="toc-number">4.10.4.</span> <span class="toc-text">targetEnvironment ç¯å¢ƒçš„åˆ¤æ–­</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%B1%9E%E6%80%A7%E5%8C%85%E8%A3%85-1"><span class="toc-number">4.11.</span> <span class="toc-text">è‡ªå¸¦å±æ€§åŒ…è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#resultBuilder-1"><span class="toc-number">4.11.1.</span> <span class="toc-text">@resultBuilder</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicMemberLookup-%E5%8A%A8%E6%80%81%E6%88%90%E5%91%98%E6%9F%A5%E8%AF%A2-1"><span class="toc-number">4.11.2.</span> <span class="toc-text">@dynamicMemberLookup åŠ¨æ€æˆå‘˜æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicCallable-%E5%8A%A8%E6%80%81%E5%8F%AF%E8%B0%83%E7%94%A8%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">4.11.3.</span> <span class="toc-text">@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%8D%8F%E8%AE%AE-1"><span class="toc-number">4.12.</span> <span class="toc-text">è‡ªå¸¦åè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Hashable-1"><span class="toc-number">4.12.1.</span> <span class="toc-text">Hashable</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Codable-1"><span class="toc-number">4.13.</span> <span class="toc-text">Codable</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON-%E6%B2%A1%E6%9C%89-id-%E5%AD%97%E6%AE%B5-1"><span class="toc-number">4.13.1.</span> <span class="toc-text">JSON æ²¡æœ‰ id å­—æ®µ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C-1"><span class="toc-number">4.14.</span> <span class="toc-text">ç½‘ç»œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E6%A3%80%E6%9F%A5-1"><span class="toc-number">4.14.1.</span> <span class="toc-text">ç½‘ç»œçŠ¶æ€æ£€æŸ¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB-1"><span class="toc-number">4.15.</span> <span class="toc-text">åŠ¨ç”»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E5%8A%A8%E7%94%BB-1"><span class="toc-number">4.15.1.</span> <span class="toc-text">å¸ƒå±€åŠ¨ç”»</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8-1"><span class="toc-number">4.16.</span> <span class="toc-text">å®‰å…¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Keychain-1"><span class="toc-number">4.16.1.</span> <span class="toc-text">Keychain</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E7%A8%8B-1"><span class="toc-number">4.17.</span> <span class="toc-text">å·¥ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3%E7%82%B9-1"><span class="toc-number">4.17.1.</span> <span class="toc-text">ç¨‹åºå…¥å£ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7"><span class="toc-number">4.18.</span> <span class="toc-text">å·¥å…·</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-DocC"><span class="toc-number">4.18.1.</span> <span class="toc-text">Swift-DocC</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%93%E9%A2%98-1"><span class="toc-number">5.</span> <span class="toc-text">ä¸“é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift-%E9%82%A3%E4%BA%9B%E4%BA%8B-1"><span class="toc-number">5.1.</span> <span class="toc-text">Swift é‚£äº›äº‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-%E5%90%84%E7%89%88%E6%9C%AC%E6%BC%94%E8%BF%9B"><span class="toc-number">5.1.1.</span> <span class="toc-text">Swift å„ç‰ˆæœ¬æ¼”è¿›</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-1-1"><span class="toc-number">5.1.1.1.</span> <span class="toc-text">Swift 1.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-1-2"><span class="toc-number">5.1.1.2.</span> <span class="toc-text">Swift 1.2</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-2-0"><span class="toc-number">5.1.1.3.</span> <span class="toc-text">Swift 2.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-2-1"><span class="toc-number">5.1.1.4.</span> <span class="toc-text">Swift 2.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-3-0"><span class="toc-number">5.1.1.5.</span> <span class="toc-text">Swift 3.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-3-1"><span class="toc-number">5.1.1.6.</span> <span class="toc-text">Swift 3.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-4-0"><span class="toc-number">5.1.1.7.</span> <span class="toc-text">Swift 4.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-4-1"><span class="toc-number">5.1.1.8.</span> <span class="toc-text">Swift 4.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-4-2"><span class="toc-number">5.1.1.9.</span> <span class="toc-text">Swift 4.2</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-0"><span class="toc-number">5.1.1.10.</span> <span class="toc-text">Swift 5.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-1"><span class="toc-number">5.1.1.11.</span> <span class="toc-text">Swift 5.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-2"><span class="toc-number">5.1.1.12.</span> <span class="toc-text">Swift 5.2</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-3"><span class="toc-number">5.1.1.13.</span> <span class="toc-text">Swift 5.3</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-4"><span class="toc-number">5.1.1.14.</span> <span class="toc-text">Swift 5.4</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-5"><span class="toc-number">5.1.1.15.</span> <span class="toc-text">Swift 5.5</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-6"><span class="toc-number">5.1.1.16.</span> <span class="toc-text">Swift 5.6</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-7"><span class="toc-number">5.1.1.17.</span> <span class="toc-text">Swift 5.7</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%84%E8%8C%83"><span class="toc-number">5.2.</span> <span class="toc-text">è§„èŒƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">5.2.1.</span> <span class="toc-text">æ³¨æ„äº‹é¡¹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%84%E6%96%99%E6%8E%A8%E8%8D%90"><span class="toc-number">5.3.</span> <span class="toc-text">èµ„æ–™æ¨è</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%A6%E5%8D%95"><span class="toc-number">5.3.1.</span> <span class="toc-text">ä¹¦å•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E6%96%B9%E5%BA%93%E4%BD%BF%E7%94%A8"><span class="toc-number">5.4.</span> <span class="toc-text">ä¸‰æ–¹åº“ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQLite-swift-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.4.1.</span> <span class="toc-text">SQLite.swift çš„ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#macOS"><span class="toc-number">5.5.</span> <span class="toc-text">macOS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E4%BE%8B"><span class="toc-number">5.5.1.</span> <span class="toc-text">èŒƒä¾‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E6%A0%8F%E7%BB%93%E6%9E%84"><span class="toc-number">5.5.2.</span> <span class="toc-text">ä¸‰æ ç»“æ„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%8F%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.5.3.</span> <span class="toc-text">å…¨å±æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E8%8F%9C%E5%8D%95"><span class="toc-number">5.5.4.</span> <span class="toc-text">å…±äº«èœå•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%AA%E8%B4%B4%E6%9D%BF"><span class="toc-number">5.5.5.</span> <span class="toc-text">å‰ªè´´æ¿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E5%92%8C%E6%9E%84%E5%BB%BA"><span class="toc-number">5.6.</span> <span class="toc-text">æ€§èƒ½å’Œæ„å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%83%E8%AF%95"><span class="toc-number">5.6.1.</span> <span class="toc-text">è°ƒè¯•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="toc-number">5.6.2.</span> <span class="toc-text">å†…å­˜ç®¡ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E5%99%A8"><span class="toc-number">5.6.3.</span> <span class="toc-text">é“¾æ¥å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2022%E5%B9%B4-Apple-%E6%80%A7%E8%83%BD%E6%9B%B4%E6%96%B0"><span class="toc-number">5.6.4.</span> <span class="toc-text">2022å¹´ Apple æ€§èƒ½æ›´æ–°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Combine"><span class="toc-number">6.</span> <span class="toc-text">Combine</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">6.1.</span> <span class="toc-text">ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Combine-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">6.1.1.</span> <span class="toc-text">Combine æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Combine-%E8%B5%84%E6%96%99"><span class="toc-number">6.1.2.</span> <span class="toc-text">Combine èµ„æ–™</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E"><span class="toc-number">6.2.</span> <span class="toc-text">ä½¿ç”¨è¯´æ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#publisher"><span class="toc-number">6.2.1.</span> <span class="toc-text">publisher</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Just"><span class="toc-number">6.2.2.</span> <span class="toc-text">Just</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PassthroughSubject"><span class="toc-number">6.2.3.</span> <span class="toc-text">PassthroughSubject</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Empty"><span class="toc-number">6.2.4.</span> <span class="toc-text">Empty</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CurrentValueSubject"><span class="toc-number">6.2.5.</span> <span class="toc-text">CurrentValueSubject</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#removeDuplicates"><span class="toc-number">6.2.6.</span> <span class="toc-text">removeDuplicates</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#flatMap"><span class="toc-number">6.2.7.</span> <span class="toc-text">flatMap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#append"><span class="toc-number">6.2.8.</span> <span class="toc-text">append</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#prepend"><span class="toc-number">6.2.9.</span> <span class="toc-text">prepend</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#merge"><span class="toc-number">6.2.10.</span> <span class="toc-text">merge</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zip"><span class="toc-number">6.2.11.</span> <span class="toc-text">zip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#combineLatest"><span class="toc-number">6.2.12.</span> <span class="toc-text">combineLatest</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scheduler"><span class="toc-number">6.2.13.</span> <span class="toc-text">Scheduler</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">6.3.</span> <span class="toc-text">ä½¿ç”¨åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82"><span class="toc-number">6.3.1.</span> <span class="toc-text">ç½‘ç»œè¯·æ±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KVO"><span class="toc-number">6.3.2.</span> <span class="toc-text">KVO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5"><span class="toc-number">6.3.3.</span> <span class="toc-text">é€šçŸ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Timer"><span class="toc-number">6.3.4.</span> <span class="toc-text">Timer</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Concurrency"><span class="toc-number">7.</span> <span class="toc-text">Concurrency</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-1"><span class="toc-number">7.1.</span> <span class="toc-text">ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-Concurrency-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">7.1.1.</span> <span class="toc-text">Swift Concurrency æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#async-x2F-await"><span class="toc-number">7.1.2.</span> <span class="toc-text">async&#x2F;await</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Async-Sequences"><span class="toc-number">7.1.3.</span> <span class="toc-text">Async Sequences</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%8C%96%E5%B9%B6%E5%8F%91"><span class="toc-number">7.1.4.</span> <span class="toc-text">ç»“æ„åŒ–å¹¶å‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Actors"><span class="toc-number">7.1.5.</span> <span class="toc-text">Actors</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Distributed-Actors"><span class="toc-number">7.1.6.</span> <span class="toc-text">Distributed Actors</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%8F%90%E6%A1%88"><span class="toc-number">7.1.7.</span> <span class="toc-text">ç›¸å…³ææ¡ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E8%B7%AF%E5%BE%84"><span class="toc-number">7.1.8.</span> <span class="toc-text">å­¦ä¹ è·¯å¾„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-Concurrency-%E5%92%8C-Combine"><span class="toc-number">7.1.9.</span> <span class="toc-text">Swift Concurrency å’Œ Combine</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Concurrency-5-7-%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0"><span class="toc-number">7.1.10.</span> <span class="toc-text">Concurrency 5.7 ç‰ˆæœ¬æ›´æ–°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SwiftUI"><span class="toc-number">8.</span> <span class="toc-text">SwiftUI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-2"><span class="toc-number">8.1.</span> <span class="toc-text">ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SwiftUI-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">8.1.1.</span> <span class="toc-text">SwiftUI æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SwiftUI-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">8.1.2.</span> <span class="toc-text">SwiftUI å‚è€ƒèµ„æ–™</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8"><span class="toc-number">8.2.</span> <span class="toc-text">è§†å›¾ç»„ä»¶ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SwiftUI-%E5%AF%B9%E6%A0%87%E7%9A%84-UIKit-%E8%A7%86%E5%9B%BE"><span class="toc-number">8.2.1.</span> <span class="toc-text">SwiftUI å¯¹æ ‡çš„ UIKit è§†å›¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Text"><span class="toc-number">8.2.2.</span> <span class="toc-text">Text</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Link"><span class="toc-number">8.2.3.</span> <span class="toc-text">Link</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Label"><span class="toc-number">8.2.4.</span> <span class="toc-text">Label</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TextEditor"><span class="toc-number">8.2.5.</span> <span class="toc-text">TextEditor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TextField"><span class="toc-number">8.2.6.</span> <span class="toc-text">TextField</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Button"><span class="toc-number">8.2.7.</span> <span class="toc-text">Button</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E5%BA%A6"><span class="toc-number">8.2.8.</span> <span class="toc-text">è¿›åº¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Image"><span class="toc-number">8.2.9.</span> <span class="toc-text">Image</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ControlGroup"><span class="toc-number">8.2.10.</span> <span class="toc-text">ControlGroup</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GroupBox"><span class="toc-number">8.2.11.</span> <span class="toc-text">GroupBox</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Stack"><span class="toc-number">8.2.12.</span> <span class="toc-text">Stack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Advanced-layout-control"><span class="toc-number">8.2.13.</span> <span class="toc-text">Advanced layout control</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Navigation"><span class="toc-number">8.2.14.</span> <span class="toc-text">Navigation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List"><span class="toc-number">8.2.15.</span> <span class="toc-text">List</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LazyVStack-%E5%92%8C-LazyHStack"><span class="toc-number">8.2.16.</span> <span class="toc-text">LazyVStack å’Œ LazyHStack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LazyVGrid-%E5%92%8C-LazyHGrid"><span class="toc-number">8.2.17.</span> <span class="toc-text">LazyVGrid å’Œ LazyHGrid</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#table"><span class="toc-number">8.2.18.</span> <span class="toc-text">table</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ScrollView"><span class="toc-number">8.2.19.</span> <span class="toc-text">ScrollView</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%AE%E5%B1%82"><span class="toc-number">8.2.20.</span> <span class="toc-text">æµ®å±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TabView"><span class="toc-number">8.2.21.</span> <span class="toc-text">TabView</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-Charts"><span class="toc-number">8.2.22.</span> <span class="toc-text">Swift Charts</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Toggle"><span class="toc-number">8.2.23.</span> <span class="toc-text">Toggle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Picker"><span class="toc-number">8.2.24.</span> <span class="toc-text">Picker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Slider"><span class="toc-number">8.2.25.</span> <span class="toc-text">Slider</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Stepper"><span class="toc-number">8.2.26.</span> <span class="toc-text">Stepper</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Form"><span class="toc-number">8.2.27.</span> <span class="toc-text">Form</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Keyboard"><span class="toc-number">8.2.28.</span> <span class="toc-text">Keyboard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Transferable"><span class="toc-number">8.2.29.</span> <span class="toc-text">Transferable</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ShareLink"><span class="toc-number">8.2.30.</span> <span class="toc-text">ShareLink</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E8%A7%89"><span class="toc-number">8.3.</span> <span class="toc-text">è§†è§‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Color"><span class="toc-number">8.3.1.</span> <span class="toc-text">Color</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Effect"><span class="toc-number">8.3.2.</span> <span class="toc-text">Effect</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Animation"><span class="toc-number">8.3.3.</span> <span class="toc-text">Animation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Canvas"><span class="toc-number">8.3.4.</span> <span class="toc-text">Canvas</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SF-Symbol"><span class="toc-number">8.3.5.</span> <span class="toc-text">SF Symbol</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%80%85"><span class="toc-number">9.</span> <span class="toc-text">å¼€å‘è€…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift%E5%AE%98%E6%96%B9"><span class="toc-number">9.1.</span> <span class="toc-text">Swiftå®˜æ–¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BE%E5%8C%BA"><span class="toc-number">9.2.</span> <span class="toc-text">ç¤¾åŒº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A2%E7%B4%A2%E5%BA%93"><span class="toc-number">10.</span> <span class="toc-text">æ¢ç´¢åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E9%B2%9C%E4%BA%8B"><span class="toc-number">10.1.</span> <span class="toc-text">æ–°é²œäº‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E6%98%93%E7%94%A8%E5%8A%9F%E8%83%BD"><span class="toc-number">10.2.</span> <span class="toc-text">å°è£…æ˜“ç”¨åŠŸèƒ½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SwiftUI-%E6%89%A9%E5%B1%95"><span class="toc-number">10.3.</span> <span class="toc-text">SwiftUI æ‰©å±•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87"><span class="toc-number">10.4.</span> <span class="toc-text">å›¾ç‰‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E5%AD%97%E5%A4%84%E7%90%86"><span class="toc-number">10.5.</span> <span class="toc-text">æ–‡å­—å¤„ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB-2"><span class="toc-number">10.6.</span> <span class="toc-text">åŠ¨ç”»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8"><span class="toc-number">10.7.</span> <span class="toc-text">æŒä¹…åŒ–å­˜å‚¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F"><span class="toc-number">10.8.</span> <span class="toc-text">ç¼–ç¨‹èŒƒå¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1"><span class="toc-number">10.9.</span> <span class="toc-text">è·¯ç”±</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%A3%80%E6%9F%A5"><span class="toc-number">10.10.</span> <span class="toc-text">é™æ€æ£€æŸ¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%83%BD%E5%8A%9B"><span class="toc-number">10.11.</span> <span class="toc-text">ç³»ç»Ÿèƒ½åŠ›</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-number">10.12.</span> <span class="toc-text">æ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%BA%94%E7%94%A8"><span class="toc-number">10.13.</span> <span class="toc-text">æ¥å£åº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#macOS-1"><span class="toc-number">10.14.</span> <span class="toc-text">macOS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8"><span class="toc-number">10.15.</span> <span class="toc-text">åº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F"><span class="toc-number">10.16.</span> <span class="toc-text">æ¸¸æˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E6%8A%80%E6%9C%AF%E5%B1%95%E7%A4%BA"><span class="toc-number">10.17.</span> <span class="toc-text">æ–°æŠ€æœ¯å±•ç¤º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Combine-%E6%89%A9%E5%B1%95"><span class="toc-number">10.18.</span> <span class="toc-text">Combine æ‰©å±•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%9A%E5%90%88"><span class="toc-number">10.19.</span> <span class="toc-text">èšåˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E3%80%81%E5%B7%A5%E7%A8%8B%E6%9E%84%E5%BB%BA%E5%8F%8A%E8%87%AA%E5%8A%A8%E5%8C%96"><span class="toc-number">10.20.</span> <span class="toc-text">æ€§èƒ½ã€å·¥ç¨‹æ„å»ºåŠè‡ªåŠ¨åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-number">10.21.</span> <span class="toc-text">æµ‹è¯•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C-2"><span class="toc-number">10.22.</span> <span class="toc-text">ç½‘ç»œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2"><span class="toc-number">10.23.</span> <span class="toc-text">å›¾å½¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9F%B3%E8%A7%86%E9%A2%91"><span class="toc-number">10.24.</span> <span class="toc-text">éŸ³è§†é¢‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8-2"><span class="toc-number">10.25.</span> <span class="toc-text">å®‰å…¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web"><span class="toc-number">10.26.</span> <span class="toc-text">Web</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">10.27.</span> <span class="toc-text">æœåŠ¡å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F"><span class="toc-number">10.28.</span> <span class="toc-text">ç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-3-0"><span class="toc-number">10.29.</span> <span class="toc-text">Web 3.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Apple"><span class="toc-number">10.30.</span> <span class="toc-text">Apple</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6"><span class="toc-number">10.31.</span> <span class="toc-text">è®¡ç®—æœºç§‘å­¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86"><span class="toc-number">10.32.</span> <span class="toc-text">æ‰©å±•çŸ¥è¯†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%85%E5%88%86%E7%B1%BB"><span class="toc-number">10.33.</span> <span class="toc-text">å¾…åˆ†ç±»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E5%92%8C%E8%B5%84%E8%AE%AF"><span class="toc-number">11.</span> <span class="toc-text">åšå®¢å’Œèµ„è®¯</span></a></li></ol>
    </div>
  </article>
  
  
  <article class="card card-content">
    <div class="categories-card">
  <div class="categories-header"><i class="iconfont icon-fenlei" style="padding-right: 2px;"></i>Categories</div>
  <div class="categories-list">
    
      <a href="/categories/Programming">
        <div class="categories-list-item">
          Programming
          <span class="categories-list-item-badge">45</span>
        </div>
      </a>
    
      <a href="/categories/My-novel">
        <div class="categories-list-item">
          My-novel
          <span class="categories-list-item-badge">4</span>
        </div>
      </a>
    
      <a href="/categories/My-painting">
        <div class="categories-list-item">
          My-painting
          <span class="categories-list-item-badge">8</span>
        </div>
      </a>
    
      <a href="/categories/travel">
        <div class="categories-list-item">
          travel
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/APP">
        <div class="categories-list-item">
          APP
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
  </div>
</div>
  </article>
  
  <article class="card card-content">
    <div class="tags-card">
  <div class="tags-header"><i class="iconfont icon-biaoqian" style="padding-right: 2px;"></i>hot tags</div>
  <div class="tags-list">
    
    <a href="\tags\iOS" title="iOS"><div class="tags-list-item">iOS</div></a>
    
    <a href="\tags\Swift" title="Swift"><div class="tags-list-item">Swift</div></a>
    
    <a href="\tags\Apple" title="Apple"><div class="tags-list-item">Apple</div></a>
    
    <a href="\tags\Painting" title="Painting"><div class="tags-list-item">Painting</div></a>
    
    <a href="\tags\Slides" title="Slides"><div class="tags-list-item">Slides</div></a>
    
    <a href="\tags\iPad" title="iPad"><div class="tags-list-item">iPad</div></a>
    
    <a href="\tags\Procreate" title="Procreate"><div class="tags-list-item">Procreate</div></a>
    
    <a href="\tags\LLVM" title="LLVM"><div class="tags-list-item">LLVM</div></a>
    
    <a href="\tags\Web" title="Web"><div class="tags-list-item">Web</div></a>
    
    <a href="\tags\Novel" title="Novel"><div class="tags-list-item">Novel</div></a>
    
    <a href="\tags\SwiftUI" title="SwiftUI"><div class="tags-list-item">SwiftUI</div></a>
    
    <a href="\tags\macOS" title="macOS"><div class="tags-list-item">macOS</div></a>
    
    <a href="\tags\ç¼–è¯‘" title="ç¼–è¯‘"><div class="tags-list-item">ç¼–è¯‘</div></a>
    
    <a href="\tags\WWDC" title="WWDC"><div class="tags-list-item">WWDC</div></a>
    
    <a href="\tags\ReactiveCocoa" title="ReactiveCocoa"><div class="tags-list-item">ReactiveCocoa</div></a>
    
    <a href="\tags\GOT" title="GOT"><div class="tags-list-item">GOT</div></a>
    
  </div>
</div>
  </article>
  
  
</div>
          </aside>
          <aside class="right-column">
            <div class="sticky-widescreen">
  
  
  <article class="card card-content toc-card">
    <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>TOC</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E8%AF%B4%E6%98%8E"><span class="toc-number">1.</span> <span class="toc-text">èƒŒæ™¯è¯´æ˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5"><span class="toc-number">2.</span> <span class="toc-text">è¯­æ³•é€ŸæŸ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80"><span class="toc-number">2.1.</span> <span class="toc-text">åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-let-var"><span class="toc-number">2.1.1.</span> <span class="toc-text">å˜é‡ let, var</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%8D%B0-print-%E2%80%9C%E2%80%9D"><span class="toc-number">2.1.2.</span> <span class="toc-text">æ‰“å° print(â€œâ€)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A-x2F-x2F"><span class="toc-number">2.1.3.</span> <span class="toc-text">æ³¨é‡Š &#x2F;&#x2F;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%80%89"><span class="toc-number">2.1.4.</span> <span class="toc-text">å¯é€‰ ?, !</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">2.1.5.</span> <span class="toc-text">é—­åŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-func"><span class="toc-number">2.1.6.</span> <span class="toc-text">å‡½æ•° func</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-number">2.1.7.</span> <span class="toc-text">è®¿é—®æ§åˆ¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.</span> <span class="toc-text">åŸºç¡€ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97-Int-Float"><span class="toc-number">2.2.1.</span> <span class="toc-text">æ•°å­— Int, Float</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E6%95%B0-Bool"><span class="toc-number">2.2.2.</span> <span class="toc-text">å¸ƒå°”æ•° Bool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84-a-b-c"><span class="toc-number">2.2.3.</span> <span class="toc-text">å…ƒç»„ (a, b, c)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">2.2.4.</span> <span class="toc-text">å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-number">2.2.5.</span> <span class="toc-text">æšä¸¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B"><span class="toc-number">2.2.6.</span> <span class="toc-text">æ³›å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E9%80%8F%E6%98%8E%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.7.</span> <span class="toc-text">ä¸é€æ˜ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Result"><span class="toc-number">2.2.8.</span> <span class="toc-text">Result</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.2.9.</span> <span class="toc-text">ç±»å‹è½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">2.3.</span> <span class="toc-text">ç±»å’Œç»“æ„ä½“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB"><span class="toc-number">2.3.1.</span> <span class="toc-text">ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">2.3.2.</span> <span class="toc-text">ç»“æ„ä½“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-number">2.3.3.</span> <span class="toc-text">å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.4.</span> <span class="toc-text">æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">2.3.5.</span> <span class="toc-text">ç»§æ‰¿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F"><span class="toc-number">2.4.</span> <span class="toc-text">å‡½æ•°å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#map"><span class="toc-number">2.4.1.</span> <span class="toc-text">map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#filter"><span class="toc-number">2.4.2.</span> <span class="toc-text">filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduce"><span class="toc-number">2.4.3.</span> <span class="toc-text">reduce</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sorted"><span class="toc-number">2.4.4.</span> <span class="toc-text">sorted</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81"><span class="toc-number">2.5.</span> <span class="toc-text">æ§åˆ¶æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#If-%E2%80%A2-If-let-%E2%80%A2-If-case-let"><span class="toc-number">2.5.1.</span> <span class="toc-text">If â€¢ If let â€¢ If case let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Guard-guard-guard-let"><span class="toc-number">2.5.2.</span> <span class="toc-text">Guard guard, guard let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86-For-in"><span class="toc-number">2.5.3.</span> <span class="toc-text">éå† For-in</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#While-while-repeat-while"><span class="toc-number">2.5.4.</span> <span class="toc-text">While while, repeat-while</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Switch"><span class="toc-number">2.5.5.</span> <span class="toc-text">Switch</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number">2.6.</span> <span class="toc-text">é›†åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-1-2-3"><span class="toc-number">2.6.1.</span> <span class="toc-text">æ•°ç»„ [1, 2, 3]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Sets-Set-lt-Int-gt"><span class="toc-number">2.6.2.</span> <span class="toc-text">Sets Set&lt;Int&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%85%B8"><span class="toc-number">2.6.3.</span> <span class="toc-text">å­—å…¸ [:]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">2.7.</span> <span class="toc-text">æ“ä½œç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC-x3D-x3D-x3D-x3D-x2F-x3D"><span class="toc-number">2.7.1.</span> <span class="toc-text">èµ‹å€¼ &#x3D;, +&#x3D;. -&#x3D;, *&#x3D;, &#x2F;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E7%AC%A6-x2F"><span class="toc-number">2.7.2.</span> <span class="toc-text">è®¡ç®—ç¬¦ +, -, *, &#x2F;, %</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6-x3D-x3D-gt"><span class="toc-number">2.7.3.</span> <span class="toc-text">æ¯”è¾ƒè¿ç®—ç¬¦ &#x3D;&#x3D;, &gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%85%83"><span class="toc-number">2.7.4.</span> <span class="toc-text">ä¸‰å…ƒ _ ? _ : _</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Nil-coalescing"><span class="toc-number">2.7.5.</span> <span class="toc-text">Nil-coalescing ??</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E5%9B%B4-a%E2%80%A6b"><span class="toc-number">2.7.6.</span> <span class="toc-text">èŒƒå›´ aâ€¦b</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91-amp-amp"><span class="toc-number">2.7.7.</span> <span class="toc-text">é€»è¾‘ !, &amp;&amp;, ||</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%81%92%E7%AD%89-x3D-x3D-x3D-x3D-x3D"><span class="toc-number">2.7.8.</span> <span class="toc-text">æ’ç­‰ &#x3D;&#x3D;&#x3D;, !&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.7.9.</span> <span class="toc-text">è¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%BA%93"><span class="toc-number">2.8.</span> <span class="toc-text">åŸºç¡€åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4"><span class="toc-number">2.8.1.</span> <span class="toc-text">æ—¶é—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">2.8.2.</span> <span class="toc-text">æ ¼å¼åŒ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%A6%E9%87%8F%E5%80%BC"><span class="toc-number">2.8.3.</span> <span class="toc-text">åº¦é‡å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data"><span class="toc-number">2.8.4.</span> <span class="toc-text">Data</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6"><span class="toc-number">2.8.5.</span> <span class="toc-text">æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scanner"><span class="toc-number">2.8.6.</span> <span class="toc-text">Scanner</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AttributeString"><span class="toc-number">2.8.7.</span> <span class="toc-text">AttributeString</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA"><span class="toc-number">2.8.8.</span> <span class="toc-text">éšæœº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UserDefaults"><span class="toc-number">2.8.9.</span> <span class="toc-text">UserDefaults</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.9.</span> <span class="toc-text">æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B"><span class="toc-number">2.9.1.</span> <span class="toc-text">å•ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%8A%E8%AE%BE%E5%A4%87"><span class="toc-number">2.10.</span> <span class="toc-text">ç³»ç»ŸåŠè®¾å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%88%A4%E6%96%AD"><span class="toc-number">2.10.1.</span> <span class="toc-text">ç³»ç»Ÿåˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E5%85%BC%E5%AE%B9"><span class="toc-number">2.10.2.</span> <span class="toc-text">ç‰ˆæœ¬å…¼å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#canImport-%E5%88%A4%E6%96%AD%E5%BA%93%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BD%BF%E7%94%A8"><span class="toc-number">2.10.3.</span> <span class="toc-text">canImport åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#targetEnvironment-%E7%8E%AF%E5%A2%83%E7%9A%84%E5%88%A4%E6%96%AD"><span class="toc-number">2.10.4.</span> <span class="toc-text">targetEnvironment ç¯å¢ƒçš„åˆ¤æ–­</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%B1%9E%E6%80%A7%E5%8C%85%E8%A3%85"><span class="toc-number">2.11.</span> <span class="toc-text">è‡ªå¸¦å±æ€§åŒ…è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#resultBuilder"><span class="toc-number">2.11.1.</span> <span class="toc-text">@resultBuilder</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicMemberLookup-%E5%8A%A8%E6%80%81%E6%88%90%E5%91%98%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.11.2.</span> <span class="toc-text">@dynamicMemberLookup åŠ¨æ€æˆå‘˜æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicCallable-%E5%8A%A8%E6%80%81%E5%8F%AF%E8%B0%83%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.11.3.</span> <span class="toc-text">@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.12.</span> <span class="toc-text">è‡ªå¸¦åè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Hashable"><span class="toc-number">2.12.1.</span> <span class="toc-text">Hashable</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Codable"><span class="toc-number">2.13.</span> <span class="toc-text">Codable</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON-%E6%B2%A1%E6%9C%89-id-%E5%AD%97%E6%AE%B5"><span class="toc-number">2.13.1.</span> <span class="toc-text">JSON æ²¡æœ‰ id å­—æ®µ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C"><span class="toc-number">2.14.</span> <span class="toc-text">ç½‘ç»œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E6%A3%80%E6%9F%A5"><span class="toc-number">2.14.1.</span> <span class="toc-text">ç½‘ç»œçŠ¶æ€æ£€æŸ¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB"><span class="toc-number">2.15.</span> <span class="toc-text">åŠ¨ç”»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E5%8A%A8%E7%94%BB"><span class="toc-number">2.15.1.</span> <span class="toc-text">å¸ƒå±€åŠ¨ç”»</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8"><span class="toc-number">2.16.</span> <span class="toc-text">å®‰å…¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Keychain"><span class="toc-number">2.16.1.</span> <span class="toc-text">Keychain</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E7%A8%8B"><span class="toc-number">2.17.</span> <span class="toc-text">å·¥ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3%E7%82%B9"><span class="toc-number">2.17.1.</span> <span class="toc-text">ç¨‹åºå…¥å£ç‚¹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%93%E9%A2%98"><span class="toc-number">3.</span> <span class="toc-text">ä¸“é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift-%E9%82%A3%E4%BA%9B%E4%BA%8B"><span class="toc-number">3.1.</span> <span class="toc-text">Swift é‚£äº›äº‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E9%80%9F%E6%9F%A5-1"><span class="toc-number">4.</span> <span class="toc-text">è¯­æ³•é€ŸæŸ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80-1"><span class="toc-number">4.1.</span> <span class="toc-text">åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F-let-var-1"><span class="toc-number">4.1.1.</span> <span class="toc-text">å˜é‡ let, var</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%8D%B0-print-%E2%80%9C%E2%80%9D-1"><span class="toc-number">4.1.2.</span> <span class="toc-text">æ‰“å° print(â€œâ€)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A-x2F-x2F-1"><span class="toc-number">4.1.3.</span> <span class="toc-text">æ³¨é‡Š &#x2F;&#x2F;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%80%89-1"><span class="toc-number">4.1.4.</span> <span class="toc-text">å¯é€‰ ?, !</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AD%E5%8C%85-1"><span class="toc-number">4.1.5.</span> <span class="toc-text">é—­åŒ…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-func-1"><span class="toc-number">4.1.6.</span> <span class="toc-text">å‡½æ•° func</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6-1"><span class="toc-number">4.1.7.</span> <span class="toc-text">è®¿é—®æ§åˆ¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Regex"><span class="toc-number">4.1.8.</span> <span class="toc-text">Regex</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">4.2.</span> <span class="toc-text">åŸºç¡€ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97-Int-Float-1"><span class="toc-number">4.2.1.</span> <span class="toc-text">æ•°å­— Int, Float</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E6%95%B0-Bool-1"><span class="toc-number">4.2.2.</span> <span class="toc-text">å¸ƒå°”æ•° Bool</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E7%BB%84-a-b-c-1"><span class="toc-number">4.2.3.</span> <span class="toc-text">å…ƒç»„ (a, b, c)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2-1"><span class="toc-number">4.2.4.</span> <span class="toc-text">å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE-1"><span class="toc-number">4.2.5.</span> <span class="toc-text">æšä¸¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%9B%E5%9E%8B%E5%92%8C%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.2.6.</span> <span class="toc-text">æ³›å‹å’Œåè®®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E9%80%8F%E6%98%8E%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">4.2.7.</span> <span class="toc-text">ä¸é€æ˜ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Result-1"><span class="toc-number">4.2.8.</span> <span class="toc-text">Result</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-1"><span class="toc-number">4.2.9.</span> <span class="toc-text">ç±»å‹è½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E7%BB%93%E6%9E%84%E4%BD%93-1"><span class="toc-number">4.3.</span> <span class="toc-text">ç±»å’Œç»“æ„ä½“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB-1"><span class="toc-number">4.3.1.</span> <span class="toc-text">ç±»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93-1"><span class="toc-number">4.3.2.</span> <span class="toc-text">ç»“æ„ä½“</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7-1"><span class="toc-number">4.3.3.</span> <span class="toc-text">å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-1"><span class="toc-number">4.3.4.</span> <span class="toc-text">æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF-1"><span class="toc-number">4.3.5.</span> <span class="toc-text">ç»§æ‰¿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F-1"><span class="toc-number">4.4.</span> <span class="toc-text">å‡½æ•°å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#map-1"><span class="toc-number">4.4.1.</span> <span class="toc-text">map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#filter-1"><span class="toc-number">4.4.2.</span> <span class="toc-text">filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduce-1"><span class="toc-number">4.4.3.</span> <span class="toc-text">reduce</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sorted-1"><span class="toc-number">4.4.4.</span> <span class="toc-text">sorted</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E6%B5%81-1"><span class="toc-number">4.5.</span> <span class="toc-text">æ§åˆ¶æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#If-%E2%80%A2-If-let-%E2%80%A2-If-case-let-1"><span class="toc-number">4.5.1.</span> <span class="toc-text">If â€¢ If let â€¢ If case let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Guard-guard-guard-let-1"><span class="toc-number">4.5.2.</span> <span class="toc-text">Guard guard, guard let</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86-For-in-1"><span class="toc-number">4.5.3.</span> <span class="toc-text">éå† For-in</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#While-while-repeat-while-1"><span class="toc-number">4.5.4.</span> <span class="toc-text">While while, repeat-while</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Switch-1"><span class="toc-number">4.5.5.</span> <span class="toc-text">Switch</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88-1"><span class="toc-number">4.6.</span> <span class="toc-text">é›†åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84-1-2-3-1"><span class="toc-number">4.6.1.</span> <span class="toc-text">æ•°ç»„ [1, 2, 3]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Sets-Set"><span class="toc-number">4.6.2.</span> <span class="toc-text">Sets Set</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%85%B8-1"><span class="toc-number">4.6.3.</span> <span class="toc-text">å­—å…¸ [:]</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6-1"><span class="toc-number">4.7.</span> <span class="toc-text">æ“ä½œç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC-x3D-x3D-x3D-x3D-x2F-x3D-1"><span class="toc-number">4.7.1.</span> <span class="toc-text">èµ‹å€¼ &#x3D;, +&#x3D;. -&#x3D;, *&#x3D;, &#x2F;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E7%AC%A6-x2F-1"><span class="toc-number">4.7.2.</span> <span class="toc-text">è®¡ç®—ç¬¦ +, -, *, &#x2F;, %</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6-x3D-x3D-gt-1"><span class="toc-number">4.7.3.</span> <span class="toc-text">æ¯”è¾ƒè¿ç®—ç¬¦ &#x3D;&#x3D;, &gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%85%83-1"><span class="toc-number">4.7.4.</span> <span class="toc-text">ä¸‰å…ƒ _ ? _ : _</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Nil-coalescing-1"><span class="toc-number">4.7.5.</span> <span class="toc-text">Nil-coalescing ??</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E5%9B%B4-a%E2%80%A6b-1"><span class="toc-number">4.7.6.</span> <span class="toc-text">èŒƒå›´ aâ€¦b</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91-amp-amp-1"><span class="toc-number">4.7.7.</span> <span class="toc-text">é€»è¾‘ !, &amp;&amp;, ||</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%81%92%E7%AD%89-x3D-x3D-x3D-x3D-x3D-1"><span class="toc-number">4.7.8.</span> <span class="toc-text">æ’ç­‰ &#x3D;&#x3D;&#x3D;, !&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6-1"><span class="toc-number">4.7.9.</span> <span class="toc-text">è¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%BA%93-1"><span class="toc-number">4.8.</span> <span class="toc-text">åŸºç¡€åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4-1"><span class="toc-number">4.8.1.</span> <span class="toc-text">æ—¶é—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96-1"><span class="toc-number">4.8.2.</span> <span class="toc-text">æ ¼å¼åŒ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%A6%E9%87%8F%E5%80%BC-1"><span class="toc-number">4.8.3.</span> <span class="toc-text">åº¦é‡å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Data-1"><span class="toc-number">4.8.4.</span> <span class="toc-text">Data</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6-1"><span class="toc-number">4.8.5.</span> <span class="toc-text">æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scanner-1"><span class="toc-number">4.8.6.</span> <span class="toc-text">Scanner</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AttributeString-1"><span class="toc-number">4.8.7.</span> <span class="toc-text">AttributeString</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA-1"><span class="toc-number">4.8.8.</span> <span class="toc-text">éšæœº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UserDefaults-1"><span class="toc-number">4.8.9.</span> <span class="toc-text">UserDefaults</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F-1"><span class="toc-number">4.9.</span> <span class="toc-text">æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B-1"><span class="toc-number">4.9.1.</span> <span class="toc-text">å•ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%8A%E8%AE%BE%E5%A4%87-1"><span class="toc-number">4.10.</span> <span class="toc-text">ç³»ç»ŸåŠè®¾å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%88%A4%E6%96%AD-1"><span class="toc-number">4.10.1.</span> <span class="toc-text">ç³»ç»Ÿåˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E5%85%BC%E5%AE%B9-1"><span class="toc-number">4.10.2.</span> <span class="toc-text">ç‰ˆæœ¬å…¼å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#canImport-%E5%88%A4%E6%96%AD%E5%BA%93%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BD%BF%E7%94%A8-1"><span class="toc-number">4.10.3.</span> <span class="toc-text">canImport åˆ¤æ–­åº“æ˜¯å¦å¯ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#targetEnvironment-%E7%8E%AF%E5%A2%83%E7%9A%84%E5%88%A4%E6%96%AD-1"><span class="toc-number">4.10.4.</span> <span class="toc-text">targetEnvironment ç¯å¢ƒçš„åˆ¤æ–­</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%B1%9E%E6%80%A7%E5%8C%85%E8%A3%85-1"><span class="toc-number">4.11.</span> <span class="toc-text">è‡ªå¸¦å±æ€§åŒ…è£…</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#resultBuilder-1"><span class="toc-number">4.11.1.</span> <span class="toc-text">@resultBuilder</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicMemberLookup-%E5%8A%A8%E6%80%81%E6%88%90%E5%91%98%E6%9F%A5%E8%AF%A2-1"><span class="toc-number">4.11.2.</span> <span class="toc-text">@dynamicMemberLookup åŠ¨æ€æˆå‘˜æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dynamicCallable-%E5%8A%A8%E6%80%81%E5%8F%AF%E8%B0%83%E7%94%A8%E7%B1%BB%E5%9E%8B-1"><span class="toc-number">4.11.3.</span> <span class="toc-text">@dynamicCallable åŠ¨æ€å¯è°ƒç”¨ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%B8%A6%E5%8D%8F%E8%AE%AE-1"><span class="toc-number">4.12.</span> <span class="toc-text">è‡ªå¸¦åè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Hashable-1"><span class="toc-number">4.12.1.</span> <span class="toc-text">Hashable</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Codable-1"><span class="toc-number">4.13.</span> <span class="toc-text">Codable</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON-%E6%B2%A1%E6%9C%89-id-%E5%AD%97%E6%AE%B5-1"><span class="toc-number">4.13.1.</span> <span class="toc-text">JSON æ²¡æœ‰ id å­—æ®µ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C-1"><span class="toc-number">4.14.</span> <span class="toc-text">ç½‘ç»œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%E6%A3%80%E6%9F%A5-1"><span class="toc-number">4.14.1.</span> <span class="toc-text">ç½‘ç»œçŠ¶æ€æ£€æŸ¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB-1"><span class="toc-number">4.15.</span> <span class="toc-text">åŠ¨ç”»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E5%8A%A8%E7%94%BB-1"><span class="toc-number">4.15.1.</span> <span class="toc-text">å¸ƒå±€åŠ¨ç”»</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8-1"><span class="toc-number">4.16.</span> <span class="toc-text">å®‰å…¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Keychain-1"><span class="toc-number">4.16.1.</span> <span class="toc-text">Keychain</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E7%A8%8B-1"><span class="toc-number">4.17.</span> <span class="toc-text">å·¥ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3%E7%82%B9-1"><span class="toc-number">4.17.1.</span> <span class="toc-text">ç¨‹åºå…¥å£ç‚¹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7"><span class="toc-number">4.18.</span> <span class="toc-text">å·¥å…·</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-DocC"><span class="toc-number">4.18.1.</span> <span class="toc-text">Swift-DocC</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%93%E9%A2%98-1"><span class="toc-number">5.</span> <span class="toc-text">ä¸“é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift-%E9%82%A3%E4%BA%9B%E4%BA%8B-1"><span class="toc-number">5.1.</span> <span class="toc-text">Swift é‚£äº›äº‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-%E5%90%84%E7%89%88%E6%9C%AC%E6%BC%94%E8%BF%9B"><span class="toc-number">5.1.1.</span> <span class="toc-text">Swift å„ç‰ˆæœ¬æ¼”è¿›</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-1-1"><span class="toc-number">5.1.1.1.</span> <span class="toc-text">Swift 1.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-1-2"><span class="toc-number">5.1.1.2.</span> <span class="toc-text">Swift 1.2</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-2-0"><span class="toc-number">5.1.1.3.</span> <span class="toc-text">Swift 2.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-2-1"><span class="toc-number">5.1.1.4.</span> <span class="toc-text">Swift 2.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-3-0"><span class="toc-number">5.1.1.5.</span> <span class="toc-text">Swift 3.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-3-1"><span class="toc-number">5.1.1.6.</span> <span class="toc-text">Swift 3.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-4-0"><span class="toc-number">5.1.1.7.</span> <span class="toc-text">Swift 4.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-4-1"><span class="toc-number">5.1.1.8.</span> <span class="toc-text">Swift 4.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-4-2"><span class="toc-number">5.1.1.9.</span> <span class="toc-text">Swift 4.2</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-0"><span class="toc-number">5.1.1.10.</span> <span class="toc-text">Swift 5.0</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-1"><span class="toc-number">5.1.1.11.</span> <span class="toc-text">Swift 5.1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-2"><span class="toc-number">5.1.1.12.</span> <span class="toc-text">Swift 5.2</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-3"><span class="toc-number">5.1.1.13.</span> <span class="toc-text">Swift 5.3</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-4"><span class="toc-number">5.1.1.14.</span> <span class="toc-text">Swift 5.4</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-5"><span class="toc-number">5.1.1.15.</span> <span class="toc-text">Swift 5.5</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-6"><span class="toc-number">5.1.1.16.</span> <span class="toc-text">Swift 5.6</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Swift-5-7"><span class="toc-number">5.1.1.17.</span> <span class="toc-text">Swift 5.7</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%84%E8%8C%83"><span class="toc-number">5.2.</span> <span class="toc-text">è§„èŒƒ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">5.2.1.</span> <span class="toc-text">æ³¨æ„äº‹é¡¹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%84%E6%96%99%E6%8E%A8%E8%8D%90"><span class="toc-number">5.3.</span> <span class="toc-text">èµ„æ–™æ¨è</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%A6%E5%8D%95"><span class="toc-number">5.3.1.</span> <span class="toc-text">ä¹¦å•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E6%96%B9%E5%BA%93%E4%BD%BF%E7%94%A8"><span class="toc-number">5.4.</span> <span class="toc-text">ä¸‰æ–¹åº“ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SQLite-swift-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.4.1.</span> <span class="toc-text">SQLite.swift çš„ä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#macOS"><span class="toc-number">5.5.</span> <span class="toc-text">macOS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8C%83%E4%BE%8B"><span class="toc-number">5.5.1.</span> <span class="toc-text">èŒƒä¾‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E6%A0%8F%E7%BB%93%E6%9E%84"><span class="toc-number">5.5.2.</span> <span class="toc-text">ä¸‰æ ç»“æ„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%8F%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.5.3.</span> <span class="toc-text">å…¨å±æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B1%E4%BA%AB%E8%8F%9C%E5%8D%95"><span class="toc-number">5.5.4.</span> <span class="toc-text">å…±äº«èœå•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%AA%E8%B4%B4%E6%9D%BF"><span class="toc-number">5.5.5.</span> <span class="toc-text">å‰ªè´´æ¿</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E5%92%8C%E6%9E%84%E5%BB%BA"><span class="toc-number">5.6.</span> <span class="toc-text">æ€§èƒ½å’Œæ„å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%83%E8%AF%95"><span class="toc-number">5.6.1.</span> <span class="toc-text">è°ƒè¯•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="toc-number">5.6.2.</span> <span class="toc-text">å†…å­˜ç®¡ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5%E5%99%A8"><span class="toc-number">5.6.3.</span> <span class="toc-text">é“¾æ¥å™¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2022%E5%B9%B4-Apple-%E6%80%A7%E8%83%BD%E6%9B%B4%E6%96%B0"><span class="toc-number">5.6.4.</span> <span class="toc-text">2022å¹´ Apple æ€§èƒ½æ›´æ–°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Combine"><span class="toc-number">6.</span> <span class="toc-text">Combine</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">6.1.</span> <span class="toc-text">ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Combine-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">6.1.1.</span> <span class="toc-text">Combine æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Combine-%E8%B5%84%E6%96%99"><span class="toc-number">6.1.2.</span> <span class="toc-text">Combine èµ„æ–™</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E"><span class="toc-number">6.2.</span> <span class="toc-text">ä½¿ç”¨è¯´æ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#publisher"><span class="toc-number">6.2.1.</span> <span class="toc-text">publisher</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Just"><span class="toc-number">6.2.2.</span> <span class="toc-text">Just</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PassthroughSubject"><span class="toc-number">6.2.3.</span> <span class="toc-text">PassthroughSubject</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Empty"><span class="toc-number">6.2.4.</span> <span class="toc-text">Empty</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CurrentValueSubject"><span class="toc-number">6.2.5.</span> <span class="toc-text">CurrentValueSubject</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#removeDuplicates"><span class="toc-number">6.2.6.</span> <span class="toc-text">removeDuplicates</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#flatMap"><span class="toc-number">6.2.7.</span> <span class="toc-text">flatMap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#append"><span class="toc-number">6.2.8.</span> <span class="toc-text">append</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#prepend"><span class="toc-number">6.2.9.</span> <span class="toc-text">prepend</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#merge"><span class="toc-number">6.2.10.</span> <span class="toc-text">merge</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#zip"><span class="toc-number">6.2.11.</span> <span class="toc-text">zip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#combineLatest"><span class="toc-number">6.2.12.</span> <span class="toc-text">combineLatest</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Scheduler"><span class="toc-number">6.2.13.</span> <span class="toc-text">Scheduler</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">6.3.</span> <span class="toc-text">ä½¿ç”¨åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82"><span class="toc-number">6.3.1.</span> <span class="toc-text">ç½‘ç»œè¯·æ±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KVO"><span class="toc-number">6.3.2.</span> <span class="toc-text">KVO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5"><span class="toc-number">6.3.3.</span> <span class="toc-text">é€šçŸ¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Timer"><span class="toc-number">6.3.4.</span> <span class="toc-text">Timer</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Concurrency"><span class="toc-number">7.</span> <span class="toc-text">Concurrency</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-1"><span class="toc-number">7.1.</span> <span class="toc-text">ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-Concurrency-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">7.1.1.</span> <span class="toc-text">Swift Concurrency æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#async-x2F-await"><span class="toc-number">7.1.2.</span> <span class="toc-text">async&#x2F;await</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Async-Sequences"><span class="toc-number">7.1.3.</span> <span class="toc-text">Async Sequences</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%8C%96%E5%B9%B6%E5%8F%91"><span class="toc-number">7.1.4.</span> <span class="toc-text">ç»“æ„åŒ–å¹¶å‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Actors"><span class="toc-number">7.1.5.</span> <span class="toc-text">Actors</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Distributed-Actors"><span class="toc-number">7.1.6.</span> <span class="toc-text">Distributed Actors</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%8F%90%E6%A1%88"><span class="toc-number">7.1.7.</span> <span class="toc-text">ç›¸å…³ææ¡ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E8%B7%AF%E5%BE%84"><span class="toc-number">7.1.8.</span> <span class="toc-text">å­¦ä¹ è·¯å¾„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-Concurrency-%E5%92%8C-Combine"><span class="toc-number">7.1.9.</span> <span class="toc-text">Swift Concurrency å’Œ Combine</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Concurrency-5-7-%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0"><span class="toc-number">7.1.10.</span> <span class="toc-text">Concurrency 5.7 ç‰ˆæœ¬æ›´æ–°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SwiftUI"><span class="toc-number">8.</span> <span class="toc-text">SwiftUI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D-2"><span class="toc-number">8.1.</span> <span class="toc-text">ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SwiftUI-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">8.1.1.</span> <span class="toc-text">SwiftUI æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SwiftUI-%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">8.1.2.</span> <span class="toc-text">SwiftUI å‚è€ƒèµ„æ–™</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8"><span class="toc-number">8.2.</span> <span class="toc-text">è§†å›¾ç»„ä»¶ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SwiftUI-%E5%AF%B9%E6%A0%87%E7%9A%84-UIKit-%E8%A7%86%E5%9B%BE"><span class="toc-number">8.2.1.</span> <span class="toc-text">SwiftUI å¯¹æ ‡çš„ UIKit è§†å›¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Text"><span class="toc-number">8.2.2.</span> <span class="toc-text">Text</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Link"><span class="toc-number">8.2.3.</span> <span class="toc-text">Link</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Label"><span class="toc-number">8.2.4.</span> <span class="toc-text">Label</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TextEditor"><span class="toc-number">8.2.5.</span> <span class="toc-text">TextEditor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TextField"><span class="toc-number">8.2.6.</span> <span class="toc-text">TextField</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Button"><span class="toc-number">8.2.7.</span> <span class="toc-text">Button</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E5%BA%A6"><span class="toc-number">8.2.8.</span> <span class="toc-text">è¿›åº¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Image"><span class="toc-number">8.2.9.</span> <span class="toc-text">Image</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ControlGroup"><span class="toc-number">8.2.10.</span> <span class="toc-text">ControlGroup</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GroupBox"><span class="toc-number">8.2.11.</span> <span class="toc-text">GroupBox</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Stack"><span class="toc-number">8.2.12.</span> <span class="toc-text">Stack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Advanced-layout-control"><span class="toc-number">8.2.13.</span> <span class="toc-text">Advanced layout control</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Navigation"><span class="toc-number">8.2.14.</span> <span class="toc-text">Navigation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List"><span class="toc-number">8.2.15.</span> <span class="toc-text">List</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LazyVStack-%E5%92%8C-LazyHStack"><span class="toc-number">8.2.16.</span> <span class="toc-text">LazyVStack å’Œ LazyHStack</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LazyVGrid-%E5%92%8C-LazyHGrid"><span class="toc-number">8.2.17.</span> <span class="toc-text">LazyVGrid å’Œ LazyHGrid</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#table"><span class="toc-number">8.2.18.</span> <span class="toc-text">table</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ScrollView"><span class="toc-number">8.2.19.</span> <span class="toc-text">ScrollView</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%AE%E5%B1%82"><span class="toc-number">8.2.20.</span> <span class="toc-text">æµ®å±‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TabView"><span class="toc-number">8.2.21.</span> <span class="toc-text">TabView</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Swift-Charts"><span class="toc-number">8.2.22.</span> <span class="toc-text">Swift Charts</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Toggle"><span class="toc-number">8.2.23.</span> <span class="toc-text">Toggle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Picker"><span class="toc-number">8.2.24.</span> <span class="toc-text">Picker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Slider"><span class="toc-number">8.2.25.</span> <span class="toc-text">Slider</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Stepper"><span class="toc-number">8.2.26.</span> <span class="toc-text">Stepper</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Form"><span class="toc-number">8.2.27.</span> <span class="toc-text">Form</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Keyboard"><span class="toc-number">8.2.28.</span> <span class="toc-text">Keyboard</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Transferable"><span class="toc-number">8.2.29.</span> <span class="toc-text">Transferable</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ShareLink"><span class="toc-number">8.2.30.</span> <span class="toc-text">ShareLink</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E8%A7%89"><span class="toc-number">8.3.</span> <span class="toc-text">è§†è§‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Color"><span class="toc-number">8.3.1.</span> <span class="toc-text">Color</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Effect"><span class="toc-number">8.3.2.</span> <span class="toc-text">Effect</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Animation"><span class="toc-number">8.3.3.</span> <span class="toc-text">Animation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Canvas"><span class="toc-number">8.3.4.</span> <span class="toc-text">Canvas</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SF-Symbol"><span class="toc-number">8.3.5.</span> <span class="toc-text">SF Symbol</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%80%85"><span class="toc-number">9.</span> <span class="toc-text">å¼€å‘è€…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Swift%E5%AE%98%E6%96%B9"><span class="toc-number">9.1.</span> <span class="toc-text">Swiftå®˜æ–¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BE%E5%8C%BA"><span class="toc-number">9.2.</span> <span class="toc-text">ç¤¾åŒº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A2%E7%B4%A2%E5%BA%93"><span class="toc-number">10.</span> <span class="toc-text">æ¢ç´¢åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E9%B2%9C%E4%BA%8B"><span class="toc-number">10.1.</span> <span class="toc-text">æ–°é²œäº‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E6%98%93%E7%94%A8%E5%8A%9F%E8%83%BD"><span class="toc-number">10.2.</span> <span class="toc-text">å°è£…æ˜“ç”¨åŠŸèƒ½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SwiftUI-%E6%89%A9%E5%B1%95"><span class="toc-number">10.3.</span> <span class="toc-text">SwiftUI æ‰©å±•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87"><span class="toc-number">10.4.</span> <span class="toc-text">å›¾ç‰‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E5%AD%97%E5%A4%84%E7%90%86"><span class="toc-number">10.5.</span> <span class="toc-text">æ–‡å­—å¤„ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB-2"><span class="toc-number">10.6.</span> <span class="toc-text">åŠ¨ç”»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%81%E4%B9%85%E5%8C%96%E5%AD%98%E5%82%A8"><span class="toc-number">10.7.</span> <span class="toc-text">æŒä¹…åŒ–å­˜å‚¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F"><span class="toc-number">10.8.</span> <span class="toc-text">ç¼–ç¨‹èŒƒå¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1"><span class="toc-number">10.9.</span> <span class="toc-text">è·¯ç”±</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%A3%80%E6%9F%A5"><span class="toc-number">10.10.</span> <span class="toc-text">é™æ€æ£€æŸ¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%83%BD%E5%8A%9B"><span class="toc-number">10.11.</span> <span class="toc-text">ç³»ç»Ÿèƒ½åŠ›</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-number">10.12.</span> <span class="toc-text">æ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%BA%94%E7%94%A8"><span class="toc-number">10.13.</span> <span class="toc-text">æ¥å£åº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#macOS-1"><span class="toc-number">10.14.</span> <span class="toc-text">macOS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8"><span class="toc-number">10.15.</span> <span class="toc-text">åº”ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%B8%E6%88%8F"><span class="toc-number">10.16.</span> <span class="toc-text">æ¸¸æˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E6%8A%80%E6%9C%AF%E5%B1%95%E7%A4%BA"><span class="toc-number">10.17.</span> <span class="toc-text">æ–°æŠ€æœ¯å±•ç¤º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Combine-%E6%89%A9%E5%B1%95"><span class="toc-number">10.18.</span> <span class="toc-text">Combine æ‰©å±•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%9A%E5%90%88"><span class="toc-number">10.19.</span> <span class="toc-text">èšåˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E3%80%81%E5%B7%A5%E7%A8%8B%E6%9E%84%E5%BB%BA%E5%8F%8A%E8%87%AA%E5%8A%A8%E5%8C%96"><span class="toc-number">10.20.</span> <span class="toc-text">æ€§èƒ½ã€å·¥ç¨‹æ„å»ºåŠè‡ªåŠ¨åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95"><span class="toc-number">10.21.</span> <span class="toc-text">æµ‹è¯•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C-2"><span class="toc-number">10.22.</span> <span class="toc-text">ç½‘ç»œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2"><span class="toc-number">10.23.</span> <span class="toc-text">å›¾å½¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9F%B3%E8%A7%86%E9%A2%91"><span class="toc-number">10.24.</span> <span class="toc-text">éŸ³è§†é¢‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E5%85%A8-2"><span class="toc-number">10.25.</span> <span class="toc-text">å®‰å…¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web"><span class="toc-number">10.26.</span> <span class="toc-text">Web</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">10.27.</span> <span class="toc-text">æœåŠ¡å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F"><span class="toc-number">10.28.</span> <span class="toc-text">ç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-3-0"><span class="toc-number">10.29.</span> <span class="toc-text">Web 3.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Apple"><span class="toc-number">10.30.</span> <span class="toc-text">Apple</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6"><span class="toc-number">10.31.</span> <span class="toc-text">è®¡ç®—æœºç§‘å­¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E7%9F%A5%E8%AF%86"><span class="toc-number">10.32.</span> <span class="toc-text">æ‰©å±•çŸ¥è¯†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%85%E5%88%86%E7%B1%BB"><span class="toc-number">10.33.</span> <span class="toc-text">å¾…åˆ†ç±»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E5%92%8C%E8%B5%84%E8%AE%AF"><span class="toc-number">11.</span> <span class="toc-text">åšå®¢å’Œèµ„è®¯</span></a></li></ol>
  </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header"><i class="iconfont icon-wenzhang_huaban" style="padding-right: 2px;"></i>Recent Posts</div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-10-24</div>
        <a href="/2022/10/24/join-sspai-swiftgg-ask-apple-and-ar-vr-live-event/"><div class="recent-posts-item-content">å‚åŠ äº†å°‘æ•°æ´¾å’Œ SwiftGG ä¸¾åŠçš„ã€Šå’Œæˆ‘ä»¬ä¸€èµ·ç•…æƒ³ Apple çš„ AR ä¸ VRã€‹ç›´æ’­æ´»åŠ¨</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-07-08</div>
        <a href="/2022/07/08/slides-of-use-llvm/"><div class="recent-posts-item-content">ä½¿ç”¨ LLVM åˆ†äº«çš„å¹»ç¯ç‰‡</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-06-10</div>
        <a href="/2022/06/10/use-llvm/"><div class="recent-posts-item-content">ä½¿ç”¨ LLVM</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2022-06-10</div>
        <a href="/2022/06/10/wwdc22-notes/"><div class="recent-posts-item-content">WWDC22 ç¬”è®°</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
</div>
          </aside>
        </div>
      </div>
    </div>
  </div>
  
  <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>Copyright Â©
          
          2014 -
          
          2022
        </span>
        <a href="/" class="footer-link">æˆ´é“­çš„åšå®¢ </a>
      </div>
    </div>

    
    
    
    <div class="BbeiAn-info">
      <a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/">é„‚ICPå¤‡17011999å· </a>
    </div>
    
    <div class="BbeiAn-info">
      <span style="padding-left: 25px;background: url(/img/beian.png) no-repeat left center"></span>
      <a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=7011999 ">äº¬å…¬ç½‘å®‰å¤‡ 7011999å·
      </a>
      <br />
    </div>
    
    
    
      <div class="footer-dsc">
        
        æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
        
        
        <span>&nbsp;|&nbsp;</span>
        
        
        æœ¬ç«™æ€»è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>æ¬¡
        
      </div>
      
    
</footer>
  <a role="button" id="scrollbutton" class="basebutton" >
  <i class="iconfont icon-arrowleft button-icon"></i>
</a>
<a role="button" id="menubutton" class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a role="button" id="popbutton" class="basebutton">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a role="button" id="darkbutton" class="basebutton darkwidget">
  <i class="iconfont icon-weather button-icon"></i>
</a>

  
  
  
  <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img');
    var i;
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a');
      wrapper.setAttribute('data-fslightbox', 'gallery');
      wrapper.setAttribute('href', img[i].getAttribute('data-src'));
      wrapper.setAttribute('style', 'width: 100%; display: flex; justify-content: center;');
      img[i].parentElement.insertBefore(wrapper, img[i]);
      wrapper.appendChild(img[i]);
    }
    refreshFsLightbox();
  }
</script>
<script>loadScript("//cdn.jsdelivr.net/npm/fslightbox@3.1.0/index.min.js", addImgLayout)</script>
  
  
  
<script src="/js/main.js"></script>

  
  <script>loadScript("/js/lib/busuanzi.min.js")</script>
  
  
  <script>
    var addLazyload = function () {
      var observer = lozad('.lozad', {
        load: function (el) {
          el.srcset = el.getAttribute('data-src');
        },
        loaded: function (el) {
          el.classList.add('loaded');
        }
      });
      observer.observe();
    }
  </script>
  <script>loadScript("/js/lib/lozad.min.js", addLazyload)</script>
  
  
</body>

</html>